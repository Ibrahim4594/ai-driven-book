/*! For license information please see common.e662f516.js.LICENSE.txt */
(globalThis.webpackChunkai_driven_book=globalThis.webpackChunkai_driven_book||[]).push([[2076],{45:(e,t,r)=>{"use strict";r.d(t,{XX:()=>u,q7:()=>d,sO:()=>h});var n=r(5164),i=r(5894),a=r(3226),s=r(7633),o=r(797),l={common:s.Y2,getConfig:s.zj,insertCluster:i.U,insertEdge:n.Jo,insertEdgeLabel:n.jP,insertMarkers:n.g0,insertNode:i.on,interpolateToCurve:a.Ib,labelHelper:i.Zk,log:o.Rm,positionEdgeLabel:n.T_},c={},h=(0,o.K2)(e=>{for(const t of e)c[t.name]=t},"registerLayoutLoaders");(0,o.K2)(()=>{h([{name:"dagre",loader:(0,o.K2)(async()=>await Promise.all([r.e(2076),r.e(2334),r.e(7873)]).then(r.bind(r,7873)),"loader")},{name:"cose-bilkent",loader:(0,o.K2)(async()=>await Promise.all([r.e(165),r.e(7928)]).then(r.bind(r,7928)),"loader")}])},"registerDefaultLayoutLoaders")();var u=(0,o.K2)(async(e,t)=>{if(!(e.layoutAlgorithm in c))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=c[e.layoutAlgorithm];return(await r.loader()).render(e,t,l,{algorithm:r.algorithm})},"render"),d=(0,o.K2)((e="",{fallback:t="dagre"}={})=>{if(e in c)return e;if(t in c)return o.Rm.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")},53:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8675);const i=function(e){return(0,n.A)(e,4)}},92:(e,t,r)=>{"use strict";r.d(t,{W6:()=>nt,GZ:()=>ot,WY:()=>We,pC:()=>je,hE:()=>st,Gc:()=>Fe});var n=r(3226),i=r(7633),a=r(797);const s=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name),o=Object.freeze({left:0,top:0,width:16,height:16}),l=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),c=Object.freeze({...o,...l}),h=Object.freeze({...c,body:"",hidden:!1});function u(e,t){const r=function(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}(e,t);for(const n in h)n in l?n in e&&!(n in r)&&(r[n]=l[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function d(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let a={};function s(e){a=u(n[e]||i[e],a)}return s(t),r.forEach(s),u(e,a)}function f(e,t){if(e.icons[t])return d(e,t,[]);const r=function(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);return(t||Object.keys(r).concat(Object.keys(n))).forEach(function e(t){if(r[t])return i[t]=[];if(!(t in i)){i[t]=null;const r=n[t]&&n[t].parent,a=r&&e(r);a&&(i[t]=[r].concat(a))}return i[t]}),i}(e,[t])[t];return r?d(e,t,r):null}const p=Object.freeze({width:null,height:null}),g=Object.freeze({...p,...l}),m=/(-?[0-9.]*[0-9]+[0-9.]*)/g,y=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function x(e,t,r){if(1===t)return e;if(r=r||100,"number"==typeof e)return Math.ceil(e*t*r)/r;if("string"!=typeof e)return e;const n=e.split(m);if(null===n||!n.length)return e;const i=[];let a=n.shift(),s=y.test(a);for(;;){if(s){const e=parseFloat(a);isNaN(e)?i.push(a):i.push(Math.ceil(e*t*r)/r)}else i.push(a);if(a=n.shift(),void 0===a)return i.join("");s=!s}}const b=/\sid="(\S+)"/g,v=new Map;function k(e){const t=[];let r;for(;r=b.exec(e);)t.push(r[1]);if(!t.length)return e;const n="suffix"+(16777216*Math.random()|Date.now()).toString(16);return t.forEach(t=>{const r=function(e){e=e.replace(/[0-9]+$/,"")||"a";const t=v.get(e)||0;return v.set(e,t+1),t?`${e}${t}`:e}(t),i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+n+"$3")}),e=e.replace(new RegExp(n,"g"),"")}var A=r(451);function w(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function C(e){T=e}var S={exec:()=>null};function _(e,t=""){let r="string"==typeof e?e:e.source,n={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(R.caret,"$1"),r=r.replace(e,i),n},getRegex:()=>new RegExp(r,t)};return n}var $=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),R={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},E=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,L=/(?:[*+-]|\d{1,9}[.)])/,M=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,I=_(M).replace(/bull/g,L).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),N=_(M).replace(/bull/g,L).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),O=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,B=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,D=_(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",B).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),F=_(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,L).getRegex(),P="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",K=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,j=_("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",K).replace("tag",P).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z=_(O).replace("hr",E).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P).getRegex(),U={blockquote:_(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",z).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:D,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:E,html:j,lheading:I,list:F,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:z,table:S,text:/^[^\n]+/},W=_("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",E).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P).getRegex(),G={...U,lheading:N,table:W,paragraph:_(O).replace("hr",E).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",W).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",P).getRegex()},q={...U,html:_("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",K).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_(O).replace("hr",E).replace("heading"," *#{1,6} *[^\n]").replace("lheading",I).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},H=/^( {2,}|\\)\n(?!\s*$)/,V=/[\p{P}\p{S}]/u,Y=/[\s\p{P}\p{S}]/u,X=/[^\s\p{P}\p{S}]/u,Z=_(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Y).getRegex(),Q=/(?!~)[\p{P}\p{S}]/u,J=_(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",$?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ee=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,te=_(ee,"u").replace(/punct/g,V).getRegex(),re=_(ee,"u").replace(/punct/g,Q).getRegex(),ne="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ie=_(ne,"gu").replace(/notPunctSpace/g,X).replace(/punctSpace/g,Y).replace(/punct/g,V).getRegex(),ae=_(ne,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,Q).getRegex(),se=_("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,X).replace(/punctSpace/g,Y).replace(/punct/g,V).getRegex(),oe=_(/\\(punct)/,"gu").replace(/punct/g,V).getRegex(),le=_(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ce=_(K).replace("(?:--\x3e|$)","--\x3e").getRegex(),he=_("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ce).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ue=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,de=_(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ue).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),fe=_(/^!?\[(label)\]\[(ref)\]/).replace("label",ue).replace("ref",B).getRegex(),pe=_(/^!?\[(ref)\](?:\[\])?/).replace("ref",B).getRegex(),ge=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,me={_backpedal:S,anyPunctuation:oe,autolink:le,blockSkip:J,br:H,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:S,emStrongLDelim:te,emStrongRDelimAst:ie,emStrongRDelimUnd:se,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:de,nolink:pe,punctuation:Z,reflink:fe,reflinkSearch:_("reflink|nolink(?!\\()","g").replace("reflink",fe).replace("nolink",pe).getRegex(),tag:he,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:S},ye={...me,link:_(/^!?\[(label)\]\((.*?)\)/).replace("label",ue).getRegex(),reflink:_(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue).getRegex()},xe={...me,emStrongRDelimAst:ae,emStrongLDelim:re,url:_(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ge).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:_(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ge).getRegex()},be={...xe,br:_(H).replace("{2,}","*").getRegex(),text:_(xe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ve={normal:U,gfm:G,pedantic:q},ke={normal:me,gfm:xe,breaks:be,pedantic:ye},Ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},we=e=>Ae[e];function Te(e,t){if(t){if(R.escapeTest.test(e))return e.replace(R.escapeReplace,we)}else if(R.escapeTestNoEncode.test(e))return e.replace(R.escapeReplaceNoEncode,we);return e}function Ce(e){try{e=encodeURI(e).replace(R.percentDecode,"%")}catch{return null}return e}function Se(e,t){let r=e.replace(R.findPipe,(e,t,r)=>{let n=!1,i=t;for(;--i>=0&&"\\"===r[i];)n=!n;return n?"|":" |"}).split(R.splitPipe),n=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(R.slashPipe,"|");return r}function _e(e,t,r){let n=e.length;if(0===n)return"";let i=0;for(;i<n;){let a=e.charAt(n-i-1);if(a!==t||r){if(a===t||!r)break;i++}else i++}return e.slice(0,n-i)}function $e(e,t,r,n,i){let a=t.href,s=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:r,href:a,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}var Re=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:_e(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],r=function(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(null===n)return t;let i=n[1];return t.split("\n").map(e=>{let t=e.match(r.other.beginningSpace);if(null===t)return e;let[n]=t;return n.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=_e(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:_e(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=_e(t[0],"\n").split("\n"),r="",n="",i=[];for(;e.length>0;){let t,a=!1,s=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))s.push(e[t]),a=!0;else{if(a)break;s.push(e[t])}e=e.slice(t);let o=s.join("\n"),l=o.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${o}`:o,n=n?`${n}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let h=i.at(-1);if("code"===h?.type)break;if("blockquote"===h?.type){let t=h,a=t.raw+"\n"+e.join("\n"),s=this.blockquote(a);i[i.length-1]=s,r=r.substring(0,r.length-t.raw.length)+s.raw,n=n.substring(0,n.length-t.text.length)+s.text;break}if("list"===h?.type){let t=h,a=t.raw+"\n"+e.join("\n"),s=this.list(a);i[i.length-1]=s,r=r.substring(0,r.length-h.raw.length)+s.raw,n=n.substring(0,n.length-t.raw.length)+s.raw,e=a.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let a=this.rules.other.listItemRegex(r),s=!1;for(;e;){let r=!1,n="",o="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;n=t[0],e=e.substring(n.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],h=!l.trim(),u=0;if(this.options.pedantic?(u=2,o=l.trimStart()):h?u=t[1].length+1:(u=t[2].search(this.rules.other.nonSpaceChar),u=u>4?1:u,o=l.slice(u),u+=t[1].length),h&&this.rules.other.blankLine.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),r=!0),!r){let t=this.rules.other.nextBulletRegex(u),r=this.rules.other.hrRegex(u),i=this.rules.other.fencesBeginRegex(u),a=this.rules.other.headingBeginRegex(u),s=this.rules.other.htmlBeginRegex(u);for(;e;){let d,f=e.split("\n",1)[0];if(c=f,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||a.test(c)||s.test(c)||t.test(c)||r.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=u||!c.trim())o+="\n"+d.slice(u);else{if(h||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||a.test(l)||r.test(l))break;o+="\n"+c}!h&&!c.trim()&&(h=!0),n+=f+"\n",e=e.substring(f.length+1),l=d.slice(u)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(s=!0));let d,f=null;this.options.gfm&&(f=this.rules.other.listIsTask.exec(o),f&&(d="[ ] "!==f[0],o=o.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:n,task:!!f,checked:d,loose:!1,text:o,tokens:[]}),i.raw+=n}let o=i.items.at(-1);if(!o)return;o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){let t=i.items[e].tokens.filter(e=>"space"===e.type),r=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=r}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:r,title:n}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=Se(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let e of n)this.rules.other.tableAlignRight.test(e)?a.align.push("right"):this.rules.other.tableAlignCenter.test(e)?a.align.push("center"):this.rules.other.tableAlignLeft.test(e)?a.align.push("left"):a.align.push(null);for(let e=0;e<r.length;e++)a.header.push({text:r[e],tokens:this.lexer.inline(r[e]),header:!0,align:a.align[e]});for(let e of i)a.rows.push(Se(e,a.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[t]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=_e(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let r=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let r=t[2],n="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(r);e&&(r=e[1],n=e[3])}else n=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?r.slice(1):r.slice(1,-1)),$e(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let e=t[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=r[0].charAt(0);return{type:"text",raw:e,text:e}}return $e(r,e,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!n[1]&&!n[2]||!r||this.rules.inline.punctuation.exec(r))){let r,i,a=[...n[0]].length-1,s=a,o=0,l="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(n=l.exec(t));){if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!r)continue;if(i=[...r].length,n[3]||n[4]){s+=i;continue}if((n[5]||n[6])&&a%3&&!((a+i)%3)){o+=i;continue}if(s-=i,s>0)continue;i=Math.min(i,i+s+o);let t=[...n[0]][0].length,l=e.slice(0,a+n.index+t+i);if(Math.min(a,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(e),n=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return r&&n&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,r;return"@"===t[2]?(e=t[1],r="mailto:"+e):(e=t[1],r=e),{type:"link",raw:t[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,r;if("@"===t[2])e=t[0],r="mailto:"+e;else{let n;do{n=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(n!==t[0]);e=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},Ee=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new Re,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:R,block:ve.normal,inline:ke.normal};this.options.pedantic?(t.block=ve.pedantic,t.inline=ke.pedantic):this.options.gfm&&(t.block=ve.gfm,this.options.breaks?t.inline=ke.breaks:t.inline=ke.gfm),this.tokenizer.rules=t}static get rules(){return{block:ve,inline:ke}}static lex(t,r){return new e(r).lex(t)}static lexInline(t,r){return new e(r).inlineTokens(t)}lex(e){e=e.replace(R.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(R.tabCharGlobal,"    ").replace(R.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let r=t.at(-1);1===n.raw.length&&void 0!==r?r.raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let r=t.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+=(r.raw.endsWith("\n")?"":"\n")+n.raw,r.text+="\n"+n.text,this.inlineQueue.at(-1).src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let r=t.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+=(r.raw.endsWith("\n")?"":"\n")+n.raw,r.text+="\n"+n.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},t.push(n));continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}let i=e;if(this.options.extensions?.startBlock){let t,r=1/0,n=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},n),"number"==typeof t&&t>=0&&(r=Math.min(r,t))}),r<1/0&&r>=0&&(i=e.substring(0,r+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){let a=t.at(-1);r&&"paragraph"===a?.type?(a.raw+=(a.raw.endsWith("\n")?"":"\n")+n.raw,a.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(n),r=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let r=t.at(-1);"text"===r?.type?(r.raw+=(r.raw.endsWith("\n")?"":"\n")+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,n=e,i=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(n));)r=i[2]?i[2].length:0,n=n.slice(0,i.index+r)+"["+"a".repeat(i[0].length-r-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let a=!1,s="";for(;e;){let r;if(a||(s=""),a=!1,this.options.extensions?.inline?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,s)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startInline){let t,r=1/0,n=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},n),"number"==typeof t&&t>=0&&(r=Math.min(r,t))}),r<1/0&&r>=0&&(i=e.substring(0,r+1))}if(r=this.tokenizer.inlineText(i)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(s=r.raw.slice(-1)),a=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},Le=class{options;parser;constructor(e){this.options=e||T}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(R.notSpaceStart)?.[0],i=e.replace(R.endingNewline,"")+"\n";return n?'<pre><code class="language-'+Te(n)+'">'+(r?i:Te(i,!0))+"</code></pre>\n":"<pre><code>"+(r?i:Te(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,r=e.start,n="";for(let a=0;a<e.items.length;a++){let t=e.items[a];n+=this.listitem(t)}let i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+i+">\n"}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=r+" "+Te(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){let t=e.rows[i];r="";for(let e=0;e<t.length;e++)r+=this.tablecell(t[e]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+n+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Te(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),i=Ce(e);if(null===i)return n;let a='<a href="'+(e=i)+'"';return t&&(a+=' title="'+Te(t)+'"'),a+=">"+n+"</a>",a}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let i=Ce(e);if(null===i)return Te(r);let a=`<img src="${e=i}" alt="${r}"`;return t&&(a+=` title="${Te(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Te(e.text)}},Me=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Ie=class e{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new Le,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Me}static parse(t,r){return new e(r).parse(t)}static parseInline(t,r){return new e(r).parseInline(t)}parse(e,t=!0){let r="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){r+=t||"";continue}}let a=i;switch(a.type){case"space":r+=this.renderer.space(a);continue;case"hr":r+=this.renderer.hr(a);continue;case"heading":r+=this.renderer.heading(a);continue;case"code":r+=this.renderer.code(a);continue;case"table":r+=this.renderer.table(a);continue;case"blockquote":r+=this.renderer.blockquote(a);continue;case"list":r+=this.renderer.list(a);continue;case"html":r+=this.renderer.html(a);continue;case"def":r+=this.renderer.def(a);continue;case"paragraph":r+=this.renderer.paragraph(a);continue;case"text":{let i=a,s=this.renderer.text(i);for(;n+1<e.length&&"text"===e[n+1].type;)i=e[++n],s+="\n"+this.renderer.text(i);r+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):s;continue}default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}parseInline(e,t=this.renderer){let r="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=e||"";continue}}let a=i;switch(a.type){case"escape":case"text":r+=t.text(a);break;case"html":r+=t.html(a);break;case"link":r+=t.link(a);break;case"image":r+=t.image(a);break;case"strong":r+=t.strong(a);break;case"em":r+=t.em(a);break;case"codespan":r+=t.codespan(a);break;case"br":r+=t.br(a);break;case"del":r+=t.del(a);break;default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}},Ne=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Ee.lex:Ee.lexInline}provideParser(){return this.block?Ie.parse:Ie.parseInline}},Oe=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Ie;Renderer=Le;TextRenderer=Me;Lexer=Ee;Tokenizer=Re;Hooks=Ne;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let e=n;for(let n of e.header)r=r.concat(this.walkTokens(n.tokens,t));for(let n of e.rows)for(let e of n)r=r.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=n;r=r.concat(this.walkTokens(e.items,t));break}default:{let e=n;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(n=>{let i=e[n].flat(1/0);r=r.concat(this.walkTokens(i,t))}):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let r={...e};if(r.async=this.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let r=t.renderers[e.name];t.renderers[e.name]=r?function(...t){let n=e.renderer.apply(this,t);return!1===n&&(n=r.apply(this,t)),n}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let r=t[e.level];r?r.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),r.extensions=t),e.renderer){let t=this.defaults.renderer||new Le(this.defaults);for(let r in e.renderer){if(!(r in t))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;let n=r,i=e.renderer[n],a=t[n];t[n]=(...e)=>{let r=i.apply(t,e);return!1===r&&(r=a.apply(t,e)),r||""}}r.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new Re(this.defaults);for(let r in e.tokenizer){if(!(r in t))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let n=r,i=e.tokenizer[n],a=t[n];t[n]=(...e)=>{let r=i.apply(t,e);return!1===r&&(r=a.apply(t,e)),r}}r.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new Ne;for(let r in e.hooks){if(!(r in t))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;let n=r,i=e.hooks[n],a=t[n];Ne.passThroughHooks.has(r)?t[n]=e=>{if(this.defaults.async&&Ne.passThroughHooksRespectAsync.has(r))return(async()=>{let r=await i.call(t,e);return a.call(t,r)})();let n=i.call(t,e);return a.call(t,n)}:t[n]=(...e)=>{if(this.defaults.async)return(async()=>{let r=await i.apply(t,e);return!1===r&&(r=await a.apply(t,e)),r})();let r=i.apply(t,e);return!1===r&&(r=a.apply(t,e)),r}}r.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,n=e.walkTokens;r.walkTokens=function(e){let r=[];return r.push(n.call(this,e)),t&&(r=r.concat(t.call(this,e))),r}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ee.lex(e,t??this.defaults)}parser(e,t){return Ie.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},i={...this.defaults,...n},a=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===n.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let r=i.hooks?await i.hooks.preprocess(t):t,n=await(i.hooks?await i.hooks.provideLexer():e?Ee.lex:Ee.lexInline)(r,i),a=i.hooks?await i.hooks.processAllTokens(n):n;i.walkTokens&&await Promise.all(this.walkTokens(a,i.walkTokens));let s=await(i.hooks?await i.hooks.provideParser():e?Ie.parse:Ie.parseInline)(a,i);return i.hooks?await i.hooks.postprocess(s):s})().catch(a);try{i.hooks&&(t=i.hooks.preprocess(t));let r=(i.hooks?i.hooks.provideLexer():e?Ee.lex:Ee.lexInline)(t,i);i.hooks&&(r=i.hooks.processAllTokens(r)),i.walkTokens&&this.walkTokens(r,i.walkTokens);let n=(i.hooks?i.hooks.provideParser():e?Ie.parse:Ie.parseInline)(r,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(s){return a(s)}}}onError(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+Te(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(r);throw r}}};function Be(e,t){return Oe.parse(e,t)}Be.options=Be.setOptions=function(e){return Oe.setOptions(e),Be.defaults=Oe.defaults,C(Be.defaults),Be},Be.getDefaults=w,Be.defaults=T,Be.use=function(...e){return Oe.use(...e),Be.defaults=Oe.defaults,C(Be.defaults),Be},Be.walkTokens=function(e,t){return Oe.walkTokens(e,t)},Be.parseInline=Oe.parseInline,Be.Parser=Ie,Be.parser=Ie.parse,Be.Renderer=Le,Be.TextRenderer=Me,Be.Lexer=Ee,Be.lexer=Ee.lex,Be.Tokenizer=Re,Be.Hooks=Ne,Be.parse=Be;Be.options,Be.setOptions,Be.use,Be.walkTokens,Be.parseInline,Ie.parse,Ee.lex;var De=r(513),Fe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Pe=new Map,Ke=new Map,je=(0,a.K2)(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(a.Rm.debug("Registering icon pack:",t.name),"loader"in t)Ke.set(t.name,t.loader);else{if(!("icons"in t))throw a.Rm.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');Pe.set(t.name,t.icons)}}},"registerIconPacks"),ze=(0,a.K2)(async(e,t)=>{const r=((e,t,r,n="")=>{const i=e.split(":");if("@"===e.slice(0,1)){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const e=i.pop(),r=i.pop(),a={provider:i.length>0?i[0]:n,prefix:r,name:e};return t&&!s(a)?null:a}const a=i[0],o=a.split("-");if(o.length>1){const e={provider:n,prefix:o.shift(),name:o.join("-")};return t&&!s(e)?null:e}if(r&&""===n){const e={provider:n,prefix:"",name:a};return t&&!s(e,r)?null:e}return null})(e,!0,void 0!==t);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=Pe.get(n);if(!i){const e=Ke.get(n);if(!e)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await e(),prefix:n},Pe.set(n,i)}catch(l){throw a.Rm.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}const o=f(i,r.name);if(!o)throw new Error(`Icon not found: ${e}`);return o},"getRegisteredIconData"),Ue=(0,a.K2)(async e=>{try{return await ze(e),!0}catch{return!1}},"isIconAvailable"),We=(0,a.K2)(async(e,t,r)=>{let n;try{n=await ze(e,t?.fallbackPrefix)}catch(l){a.Rm.error(l),n=Fe}const s=function(e,t){const r={...c,...e},n={...g,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(e=>{const t=[],r=e.hFlip,n=e.vFlip;let s,o=e.rotate;switch(r?n?o+=2:(t.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),t.push("scale(-1 1)"),i.top=i.left=0):n&&(t.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),t.push("scale(1 -1)"),i.top=i.left=0),o<0&&(o-=4*Math.floor(o/4)),o%=4,o){case 1:s=i.height/2+i.top,t.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:t.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:s=i.width/2+i.left,t.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")")}o%2==1&&(i.left!==i.top&&(s=i.left,i.left=i.top,i.top=s),i.width!==i.height&&(s=i.width,i.width=i.height,i.height=s)),t.length&&(a=function(e,t,r){const n=function(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),a=e.indexOf("</"+t);if(-1===i||-1===a)break;const s=e.indexOf(">",a);if(-1===s)break;r+=e.slice(i+1,a).trim(),e=e.slice(0,n).trim()+e.slice(s+1)}return{defs:r,content:e}}(e);return i=n.defs,a=t+n.content+r,i?"<defs>"+i+"</defs>"+a:a;var i,a}(a,'<g transform="'+t.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,h=i.height;let u,d;null===s?(d=null===o?"1em":"auto"===o?h:o,u=x(d,l/h)):(u="auto"===s?l:s,d=null===o?x(u,h/l):"auto"===o?h:o);const f={},p=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(f[e]=t.toString())};p("width",u),p("height",d);const m=[i.left,i.top,l,h];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:a}}(n,t),o=function(e,t){let r=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}(k(s.body),{...s.attributes,...r});return(0,i.jZ)(o,(0,i.zj)())},"getIconSVG");function Ge(e,{markdownAutoWrap:t}){const r=e.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"),n=(0,De.T)(r);return!1===t?n.replace(/ /g,"&nbsp;"):n}function qe(e,t={}){const r=Ge(e,t),n=Be.lexer(r),i=[[]];let s=0;function o(e,t="normal"){if("text"===e.type){e.text.split("\n").forEach((e,r)=>{0!==r&&(s++,i.push([])),e.split(" ").forEach(e=>{(e=e.replace(/&#39;/g,"'"))&&i[s].push({content:e,type:t})})})}else"strong"===e.type||"em"===e.type?e.tokens.forEach(t=>{o(t,e.type)}):"html"===e.type&&i[s].push({content:e.text,type:"normal"})}return(0,a.K2)(o,"processNode"),n.forEach(e=>{"paragraph"===e.type?e.tokens?.forEach(e=>{o(e)}):"html"===e.type?i[s].push({content:e.text,type:"normal"}):i[s].push({content:e.raw,type:"normal"})}),i}function He(e,{markdownAutoWrap:t}={}){const r=Be.lexer(e);function n(e){return"text"===e.type?!1===t?e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):e.text.replace(/\n */g,"<br/>"):"strong"===e.type?`<strong>${e.tokens?.map(n).join("")}</strong>`:"em"===e.type?`<em>${e.tokens?.map(n).join("")}</em>`:"paragraph"===e.type?`<p>${e.tokens?.map(n).join("")}</p>`:"space"===e.type?"":"html"===e.type?`${e.text}`:"escape"===e.type?e.text:(a.Rm.warn(`Unsupported markdown: ${e.type}`),e.raw)}return(0,a.K2)(n,"output"),r.map(n).join("")}function Ve(e){return Intl.Segmenter?[...(new Intl.Segmenter).segment(e)].map(e=>e.segment):[...e]}function Ye(e,t){return Xe(e,[],Ve(t.content),t.type)}function Xe(e,t,r,n){if(0===r.length)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...t,i];return e([{content:s.join(""),type:n}])?Xe(e,s,a,n):(0===t.length&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function Ze(e,t){if(e.some(({content:e})=>e.includes("\n")))throw new Error("splitLineToFitWidth does not support newlines in the line");return Qe(e,t)}function Qe(e,t,r=[],n=[]){if(0===e.length)return n.length>0&&r.push(n),r.length>0?r:[];let i="";" "===e[0].content&&(i=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},s=[...n];if(""!==i&&s.push({content:i,type:"normal"}),s.push(a),t(s))return Qe(e,t,r,s);if(n.length>0)r.push(n),e.unshift(a);else if(a.content){const[n,i]=Ye(t,a);r.push([n]),i.content&&e.unshift(i)}return Qe(e,t,r)}function Je(e,t){t&&e.attr("style",t)}async function et(e,t,r,n,a=!1,s=(0,i.zj)()){const o=e.append("foreignObject");o.attr("width",10*r+"px"),o.attr("height",10*r+"px");const l=o.append("xhtml:div"),c=(0,i.Wi)(t.label)?await(0,i.dj)(t.label.replace(i.Y2.lineBreakRegex,"\n"),s):(0,i.jZ)(t.label,s),h=t.isNode?"nodeLabel":"edgeLabel",u=l.append("span");u.html(c),Je(u,t.labelStyle),u.attr("class",`${h} ${n}`),Je(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",r+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&l.attr("class","labelBkg");let d=l.node().getBoundingClientRect();return d.width===r&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",r+"px"),d=l.node().getBoundingClientRect()),o.node()}function tt(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function rt(e,t,r){const n=e.append("text"),i=tt(n,1,t);at(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}function nt(e,t,r){const n=e.append("text"),i=tt(n,1,t);at(i,[{content:r,type:"normal"}]);const a=i.node()?.getBoundingClientRect();return a&&n.remove(),a}function it(e,t,r,n=!1){const i=t.append("g"),s=i.insert("rect").attr("class","background").attr("style","stroke: none"),o=i.append("text").attr("y","-10.1");let l=0;for(const c of r){const t=(0,a.K2)(t=>rt(i,1.1,t)<=e,"checkWidth"),r=t(c)?[c]:Ze(c,t);for(const e of r){at(tt(o,l,1.1),e),l++}}if(n){const e=o.node().getBBox(),t=2;return s.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t),i.node()}return o.node()}function at(e,t){e.text(""),t.forEach((t,r)=>{const n=e.append("tspan").attr("font-style","em"===t.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===t.type?"bold":"normal");0===r?n.text(t.content):n.text(" "+t.content)})}async function st(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(e,n,a)=>(r.push((async()=>{const r=`${n}:${a}`;return await Ue(r)?await We(r,void 0,{class:"label-icon"}):`<i class='${(0,i.jZ)(e,t).replace(":"," ")}'></i>`})()),e));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}(0,a.K2)(Ge,"preprocessMarkdown"),(0,a.K2)(qe,"markdownToLines"),(0,a.K2)(He,"markdownToHTML"),(0,a.K2)(Ve,"splitTextToChars"),(0,a.K2)(Ye,"splitWordToFitWidth"),(0,a.K2)(Xe,"splitWordToFitWidthRecursion"),(0,a.K2)(Ze,"splitLineToFitWidth"),(0,a.K2)(Qe,"splitLineToFitWidthRecursion"),(0,a.K2)(Je,"applyStyle"),(0,a.K2)(et,"addHtmlSpan"),(0,a.K2)(tt,"createTspan"),(0,a.K2)(rt,"computeWidthOfText"),(0,a.K2)(nt,"computeDimensionOfText"),(0,a.K2)(it,"createFormattedText"),(0,a.K2)(at,"updateTextContentAndStyles"),(0,a.K2)(st,"replaceIconSubstring");var ot=(0,a.K2)(async(e,t="",{style:r="",isTitle:s=!1,classes:o="",useHtmlLabels:l=!0,isNode:c=!0,width:h=200,addSvgBackground:u=!1}={},d)=>{if(a.Rm.debug("XYZ createText",t,r,s,o,l,c,"addSvgBackground: ",u),l){const a=He(t,d),s=await st((0,n.Sm)(a),d),l=t.replace(/\\\\/g,"\\"),f={isNode:c,label:(0,i.Wi)(t)?l:s,labelStyle:r.replace("fill:","color:")};return await et(e,f,h,o,u,d)}{const n=it(h,e,qe(t.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),d),!!t&&u);if(c){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const e=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,A.Ltv)(n).attr("style",e)}else{const e=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,A.Ltv)(n).select("rect").attr("style",e.replace(/background:/g,"fill:"));const t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,A.Ltv)(n).select("text").attr("style",t)}return n}},"createText")},127:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});const n=function(){this.__data__=[],this.size=0};var i=r(6984);const a=function(e,t){for(var r=e.length;r--;)if((0,i.A)(e[r][0],t))return r;return-1};var s=Array.prototype.splice;const o=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():s.call(t,r,1),--this.size,!0)};const l=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]};const c=function(e){return a(this.__data__,e)>-1};const h=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=l,u.prototype.has=c,u.prototype.set=h;const d=u},154:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(1917),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===i?n.A.Buffer:void 0,o=s?s.allocUnsafe:void 0;const l=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n}},241:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1917).A.Symbol},367:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return function(r){return e(t(r))}}},451:(e,t,r)=>{"use strict";function n(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function i(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function a(e){return e}r.d(t,{JLW:()=>ho,l78:()=>x,tlR:()=>y,qrM:()=>To,Yu4:()=>So,IA3:()=>$o,Wi0:()=>Eo,PGM:()=>Lo,OEq:()=>Io,y8u:()=>Bo,olC:()=>Fo,IrU:()=>Ko,oDi:()=>Uo,Q7f:()=>Go,cVp:()=>Ho,lUB:()=>po,Lx9:()=>Yo,nVG:()=>nl,uxU:()=>il,Xf2:()=>ol,GZz:()=>cl,UPb:()=>ul,dyv:()=>hl,GPZ:()=>Hr,Sk5:()=>Jr,bEH:()=>In,n8j:()=>yo,T9B:()=>n,jkA:()=>i,rLf:()=>vo,WH:()=>zn,m4Y:()=>bi,UMr:()=>jn,w7C:()=>Os,zt:()=>Bs,Ltv:()=>Ds,UAC:()=>Bi,DCK:()=>pa,TUC:()=>Gi,Agd:()=>Ni,t6C:()=>Ei,wXd:()=>Mi,ABi:()=>ji,Ui6:()=>ta,rGn:()=>qi,ucG:()=>Li,YPH:()=>Ki,Mol:()=>Wi,PGu:()=>zi,GuW:()=>Ui,hkb:()=>fn});var s=1,o=2,l=3,c=4,h=1e-6;function u(e){return"translate("+e+",0)"}function d(e){return"translate(0,"+e+")"}function f(e){return t=>+e(t)}function p(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function g(){return!this.__axis}function m(e,t){var r=[],n=null,i=null,m=6,y=6,x=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,v=e===s||e===c?-1:1,k=e===c||e===o?"x":"y",A=e===s||e===l?u:d;function w(u){var d=null==n?t.ticks?t.ticks.apply(t,r):t.domain():n,w=null==i?t.tickFormat?t.tickFormat.apply(t,r):a:i,T=Math.max(m,0)+x,C=t.range(),S=+C[0]+b,_=+C[C.length-1]+b,$=(t.bandwidth?p:f)(t.copy(),b),R=u.selection?u.selection():u,E=R.selectAll(".domain").data([null]),L=R.selectAll(".tick").data(d,t).order(),M=L.exit(),I=L.enter().append("g").attr("class","tick"),N=L.select("line"),O=L.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(I),N=N.merge(I.append("line").attr("stroke","currentColor").attr(k+"2",v*m)),O=O.merge(I.append("text").attr("fill","currentColor").attr(k,v*T).attr("dy",e===s?"0em":e===l?"0.71em":"0.32em")),u!==R&&(E=E.transition(u),L=L.transition(u),N=N.transition(u),O=O.transition(u),M=M.transition(u).attr("opacity",h).attr("transform",function(e){return isFinite(e=$(e))?A(e+b):this.getAttribute("transform")}),I.attr("opacity",h).attr("transform",function(e){var t=this.parentNode.__axis;return A((t&&isFinite(t=t(e))?t:$(e))+b)})),M.remove(),E.attr("d",e===c||e===o?y?"M"+v*y+","+S+"H"+b+"V"+_+"H"+v*y:"M"+b+","+S+"V"+_:y?"M"+S+","+v*y+"V"+b+"H"+_+"V"+v*y:"M"+S+","+b+"H"+_),L.attr("opacity",1).attr("transform",function(e){return A($(e)+b)}),N.attr(k+"2",v*m),O.attr(k,v*T).text(w),R.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===o?"start":e===c?"end":"middle"),R.each(function(){this.__axis=$})}return w.scale=function(e){return arguments.length?(t=e,w):t},w.ticks=function(){return r=Array.from(arguments),w},w.tickArguments=function(e){return arguments.length?(r=null==e?[]:Array.from(e),w):r.slice()},w.tickValues=function(e){return arguments.length?(n=null==e?null:Array.from(e),w):n&&n.slice()},w.tickFormat=function(e){return arguments.length?(i=e,w):i},w.tickSize=function(e){return arguments.length?(m=y=+e,w):m},w.tickSizeInner=function(e){return arguments.length?(m=+e,w):m},w.tickSizeOuter=function(e){return arguments.length?(y=+e,w):y},w.tickPadding=function(e){return arguments.length?(x=+e,w):x},w.offset=function(e){return arguments.length?(b=+e,w):b},w}function y(e){return m(s,e)}function x(e){return m(l,e)}function b(){}function v(e){return null==e?b:function(){return this.querySelector(e)}}function k(){return[]}function A(e){return null==e?k:function(){return this.querySelectorAll(e)}}function w(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function T(e){return function(){return this.matches(e)}}function C(e){return function(t){return t.matches(e)}}var S=Array.prototype.find;function _(){return this.firstElementChild}var $=Array.prototype.filter;function R(){return Array.from(this.children)}function E(e){return new Array(e.length)}function L(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function M(e,t,r,n,i,a){for(var s,o=0,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new L(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function I(e,t,r,n,i,a,s){var o,l,c,h=new Map,u=t.length,d=a.length,f=new Array(u);for(o=0;o<u;++o)(l=t[o])&&(f[o]=c=s.call(l,l.__data__,o,t)+"",h.has(c)?i[o]=l:h.set(c,l));for(o=0;o<d;++o)c=s.call(e,a[o],o,a)+"",(l=h.get(c))?(n[o]=l,l.__data__=a[o],h.delete(c)):r[o]=new L(e,a[o]);for(o=0;o<u;++o)(l=t[o])&&h.get(f[o])===l&&(i[o]=l)}function N(e){return e.__data__}function O(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function B(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}L.prototype={constructor:L,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var D="http://www.w3.org/1999/xhtml";const F={svg:"http://www.w3.org/2000/svg",xhtml:D,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),F.hasOwnProperty(t)?{space:F[t],local:e}:e}function K(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z(e,t){return function(){this.setAttribute(e,t)}}function U(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function W(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function G(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function q(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function H(e){return function(){this.style.removeProperty(e)}}function V(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Y(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function X(e,t){return e.style.getPropertyValue(t)||q(e).getComputedStyle(e,null).getPropertyValue(t)}function Z(e){return function(){delete this[e]}}function Q(e,t){return function(){this[e]=t}}function J(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function ee(e){return e.trim().split(/^|\s+/)}function te(e){return e.classList||new re(e)}function re(e){this._node=e,this._names=ee(e.getAttribute("class")||"")}function ne(e,t){for(var r=te(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function ie(e,t){for(var r=te(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function ae(e){return function(){ne(this,e)}}function se(e){return function(){ie(this,e)}}function oe(e,t){return function(){(t.apply(this,arguments)?ne:ie)(this,e)}}function le(){this.textContent=""}function ce(e){return function(){this.textContent=e}}function he(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ue(){this.innerHTML=""}function de(e){return function(){this.innerHTML=e}}function fe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function pe(){this.nextSibling&&this.parentNode.appendChild(this)}function ge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function me(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===D&&t.documentElement.namespaceURI===D?t.createElement(e):t.createElementNS(r,e)}}function ye(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xe(e){var t=P(e);return(t.local?ye:me)(t)}function be(){return null}function ve(){var e=this.parentNode;e&&e.removeChild(this)}function ke(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function we(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function Te(e,t,r){return function(){var n,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,o=i.length;s<o;++s)if((n=i[s]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),void(n.value=t);this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function Ce(e,t,r){var n=q(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Se(e,t){return function(){return Ce(this,e,t)}}function _e(e,t){return function(){return Ce(this,e,t.apply(this,arguments))}}re.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var $e=[null];function Re(e,t){this._groups=e,this._parents=t}function Ee(){return new Re([[document.documentElement]],$e)}Re.prototype=Ee.prototype={constructor:Re,select:function(e){"function"!=typeof e&&(e=v(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s,o=t[i],l=o.length,c=n[i]=new Array(l),h=0;h<l;++h)(a=o[h])&&(s=e.call(a,a.__data__,h,o))&&("__data__"in a&&(s.__data__=a.__data__),c[h]=s);return new Re(n,this._parents)},selectAll:function(e){e="function"==typeof e?w(e):A(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s,o=t[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(n.push(e.call(s,s.__data__,c,o)),i.push(s));return new Re(n,i)},selectChild:function(e){return this.select(null==e?_:function(e){return function(){return S.call(this.children,e)}}("function"==typeof e?e:C(e)))},selectChildren:function(e){return this.selectAll(null==e?R:function(e){return function(){return $.call(this.children,e)}}("function"==typeof e?e:C(e)))},filter:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s=t[i],o=s.length,l=n[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Re(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,N);var r,n=t?I:M,i=this._parents,a=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),h=0;h<s;++h){var u=i[h],d=a[h],f=d.length,p=O(e.call(u,u&&u.__data__,h,i)),g=p.length,m=l[h]=new Array(g),y=o[h]=new Array(g);n(u,d,m,y,c[h]=new Array(f),p,t);for(var x,b,v=0,k=0;v<g;++v)if(x=m[v]){for(v>=k&&(k=v+1);!(b=y[k])&&++k<g;);x._next=b||null}}return(o=new Re(o,i))._enter=l,o._exit=c,o},enter:function(){return new Re(this._enter||this._groups.map(E),this._parents)},exit:function(){return new Re(this._exit||this._groups.map(E),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,a=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==r?a.remove():r(a),n&&i?n.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c,h=r[l],u=n[l],d=h.length,f=o[l]=new Array(d),p=0;p<d;++p)(c=h[p]||u[p])&&(f[p]=c);for(;l<i;++l)o[l]=r[l];return new Re(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,s=i[a];--a>=0;)(n=i[a])&&(s&&4^n.compareDocumentPosition(s)&&s.parentNode.insertBefore(n,s),s=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=B);for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s,o=r[a],l=o.length,c=i[a]=new Array(l),h=0;h<l;++h)(s=o[h])&&(c[h]=s);c.sort(t)}return new Re(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],s=0,o=a.length;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this},attr:function(e,t){var r=P(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?j:K:"function"==typeof t?r.local?G:W:r.local?U:z)(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?H:"function"==typeof t?Y:V)(e,t,null==r?"":r)):X(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Z:"function"==typeof t?J:Q)(e,t)):this.node()[e]},classed:function(e,t){var r=ee(e+"");if(arguments.length<2){for(var n=te(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?oe:t?ae:se)(r,t))},text:function(e){return arguments.length?this.each(null==e?le:("function"==typeof e?he:ce)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ue:("function"==typeof e?fe:de)(e)):this.node().innerHTML},raise:function(){return this.each(pe)},lower:function(){return this.each(ge)},append:function(e){var t="function"==typeof e?e:xe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var r="function"==typeof e?e:xe(e),n=null==t?be:"function"==typeof t?t:v(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(ve)},clone:function(e){return this.select(e?Ae:ke)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?Te:we,n=0;n<s;++n)this.each(o(a[n],t,r));return this}var o=this.node().__on;if(o)for(var l,c=0,h=o.length;c<h;++c)for(n=0,l=o[c];n<s;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?_e:Se)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],a=0,s=i.length;a<s;++a)(n=i[a])&&(yield n)}};const Le=Ee;var Me={value:()=>{}};function Ie(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new Ne(n)}function Ne(e){this._=e}function Oe(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function Be(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Me,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}Ne.prototype=Ie.prototype={constructor:Ne,on:function(e,t){var r,n,i=this._,a=(n=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=a[s]).type)i[r]=Be(i[r],e.name,t);else if(null==t)for(r in i)i[r]=Be(i[r],e.name,null);return this}for(;++s<o;)if((r=(e=a[s]).type)&&(r=Oe(i[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ne(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(n=this._[e]).length;a<r;++a)n[a].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};const De=Ie;var Fe,Pe,Ke=0,je=0,ze=0,Ue=0,We=0,Ge=0,qe="object"==typeof performance&&performance.now?performance:Date,He="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ve(){return We||(He(Ye),We=qe.now()+Ge)}function Ye(){We=0}function Xe(){this._call=this._time=this._next=null}function Ze(e,t,r){var n=new Xe;return n.restart(e,t,r),n}function Qe(){We=(Ue=qe.now())+Ge,Ke=je=0;try{!function(){Ve(),++Ke;for(var e,t=Fe;t;)(e=We-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ke}()}finally{Ke=0,function(){var e,t,r=Fe,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Fe=t);Pe=e,et(n)}(),We=0}}function Je(){var e=qe.now(),t=e-Ue;t>1e3&&(Ge-=t,Ue=e)}function et(e){Ke||(je&&(je=clearTimeout(je)),e-We>24?(e<1/0&&(je=setTimeout(Qe,e-qe.now()-Ge)),ze&&(ze=clearInterval(ze))):(ze||(Ue=qe.now(),ze=setInterval(Je,1e3)),Ke=1,He(Qe)))}function tt(e,t,r){var n=new Xe;return t=null==t?0:+t,n.restart(r=>{n.stop(),e(r+t)},t,r),n}Xe.prototype=Ze.prototype={constructor:Xe,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?Ve():+r)+(null==t?0:+t),this._next||Pe===this||(Pe?Pe._next=this:Fe=this,Pe=this),this._call=e,this._time=r,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};var rt=De("start","end","cancel","interrupt"),nt=[];function it(e,t,r,n,i,a){var s=e.__transition;if(s){if(r in s)return}else e.__transition={};!function(e,t,r){var n,i=e.__transition;function a(e){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=e&&s(e-r.delay)}function s(a){var c,h,u,d;if(1!==r.state)return l();for(c in i)if((d=i[c]).name===r.name){if(3===d.state)return tt(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(tt(function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(a))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(u=r.tween.length),c=0,h=-1;c<u;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(n[++h]=d);n.length=h+1}}function o(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(l),r.state=5,1),a=-1,s=n.length;++a<s;)n[a].call(e,i);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){for(var n in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=Ze(a,0,r.time)}(e,r,{name:t,index:n,group:i,on:rt,tween:nt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function at(e,t){var r=ot(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function st(e,t){var r=ot(e,t);if(r.state>3)throw new Error("too late; already running");return r}function ot(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function lt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var ct,ht=180/Math.PI,ut={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dt(e,t,r,n,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*ht,skewX:Math.atan(l)*ht,scaleX:s,scaleY:o}}function ft(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}return function(a,s){var o=[],l=[];return a=e(a),s=e(s),function(e,n,i,a,s,o){if(e!==i||n!==a){var l=s.push("translate(",null,t,null,r);o.push({i:l-4,x:lt(e,i)},{i:l-2,x:lt(n,a)})}else(i||a)&&s.push("translate("+i+t+a+r)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(i(r)+"rotate(",null,n)-2,x:lt(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}(a.rotate,s.rotate,o,l),function(e,t,r,a){e!==t?a.push({i:r.push(i(r)+"skewX(",null,n)-2,x:lt(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}(a.skewX,s.skewX,o,l),function(e,t,r,n,a,s){if(e!==r||t!==n){var o=a.push(i(a)+"scale(",null,",",null,")");s.push({i:o-4,x:lt(e,r)},{i:o-2,x:lt(t,n)})}else 1===r&&1===n||a.push(i(a)+"scale("+r+","+n+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(e){for(var t,r=-1,n=l.length;++r<n;)o[(t=l[r]).i]=t.x(e);return o.join("")}}}var pt=ft(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ut:dt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),gt=ft(function(e){return null==e?ut:(ct||(ct=document.createElementNS("http://www.w3.org/2000/svg","g")),ct.setAttribute("transform",e),(e=ct.transform.baseVal.consolidate())?dt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ut)},", ",")",")");function mt(e,t){var r,n;return function(){var i=st(this,e),a=i.tween;if(a!==r)for(var s=0,o=(n=r=a).length;s<o;++s)if(n[s].name===t){(n=n.slice()).splice(s,1);break}i.tween=n}}function yt(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var a=st(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function xt(e,t,r){var n=e._id;return e.each(function(){var e=st(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return ot(e,n).value[t]}}function bt(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vt(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kt(){}var At=.7,wt=1/At,Tt="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",St="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_t=/^#([0-9a-f]{3,8})$/,$t=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Rt=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),Et=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Ct}\\)$`),Lt=new RegExp(`^rgba\\(${St},${St},${St},${Ct}\\)$`),Mt=new RegExp(`^hsl\\(${Ct},${St},${St}\\)$`),It=new RegExp(`^hsla\\(${Ct},${St},${St},${Ct}\\)$`),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function Bt(){return this.rgb().formatRgb()}function Dt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_t.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Ft(t):3===r?new zt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Pt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Pt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=$t.exec(e))?new zt(t[1],t[2],t[3],1):(t=Rt.exec(e))?new zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Et.exec(e))?Pt(t[1],t[2],t[3],t[4]):(t=Lt.exec(e))?Pt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Mt.exec(e))?Vt(t[1],t[2]/100,t[3]/100,1):(t=It.exec(e))?Vt(t[1],t[2]/100,t[3]/100,t[4]):Nt.hasOwnProperty(e)?Ft(Nt[e]):"transparent"===e?new zt(NaN,NaN,NaN,0):null}function Ft(e){return new zt(e>>16&255,e>>8&255,255&e,1)}function Pt(e,t,r,n){return n<=0&&(e=t=r=NaN),new zt(e,t,r,n)}function Kt(e){return e instanceof kt||(e=Dt(e)),e?new zt((e=e.rgb()).r,e.g,e.b,e.opacity):new zt}function jt(e,t,r,n){return 1===arguments.length?Kt(e):new zt(e,t,r,null==n?1:n)}function zt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Ut(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function Wt(){const e=Gt(this.opacity);return`${1===e?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${1===e?")":`, ${e})`}`}function Gt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ht(e){return((e=qt(e))<16?"0":"")+e.toString(16)}function Vt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xt(e,t,r,n)}function Yt(e){if(e instanceof Xt)return new Xt(e.h,e.s,e.l,e.opacity);if(e instanceof kt||(e=Dt(e)),!e)return new Xt;if(e instanceof Xt)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(r-n)/o+6*(r<n):r===a?(n-t)/o+2:(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Xt(s,o,l,e.opacity)}function Xt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Zt(e){return(e=(e||0)%360)<0?e+360:e}function Qt(e){return Math.max(0,Math.min(1,e||0))}function Jt(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function er(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}bt(kt,Dt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Yt(this).formatHsl()},formatRgb:Bt,toString:Bt}),bt(zt,jt,vt(kt,{brighter(e){return e=null==e?wt:Math.pow(wt,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?At:Math.pow(At,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zt(qt(this.r),qt(this.g),qt(this.b),Gt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:function(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Wt,toString:Wt})),bt(Xt,function(e,t,r,n){return 1===arguments.length?Yt(e):new Xt(e,t,r,null==n?1:n)},vt(kt,{brighter(e){return e=null==e?wt:Math.pow(wt,e),new Xt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?At:Math.pow(At,e),new Xt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new zt(Jt(e>=240?e-240:e+120,i,n),Jt(e,i,n),Jt(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Xt(Zt(this.h),Qt(this.s),Qt(this.l),Gt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gt(this.opacity);return`${1===e?"hsl(":"hsla("}${Zt(this.h)}, ${100*Qt(this.s)}%, ${100*Qt(this.l)}%${1===e?")":`, ${e})`}`}}));const tr=e=>()=>e;function rr(e,t){return function(r){return e+r*t}}function nr(e){return 1===(e=+e)?ir:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):tr(isNaN(t)?r:t)}}function ir(e,t){var r=t-e;return r?rr(e,r):tr(isNaN(e)?t:e)}const ar=function e(t){var r=nr(t);function n(e,t){var n=r((e=jt(e)).r,(t=jt(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),s=ir(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function sr(e){return function(t){var r,n,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(r=0;r<i;++r)n=jt(t[r]),a[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return a=e(a),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=a(e),n.g=s(e),n.b=o(e),n+""}}}sr(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,o=n<t-1?e[n+2]:2*a-i;return er((r-n/t)*t,s,i,a,o)}}),sr(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return er((r-n/t)*t,i,a,s,o)}});var or=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lr=new RegExp(or.source,"g");function cr(e,t){var r,n,i,a=or.lastIndex=lr.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=or.exec(e))&&(n=lr.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:lt(r,n)})),a=lr.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function hr(e,t){var r;return("number"==typeof t?lt:t instanceof Dt?ar:(r=Dt(t))?(t=r,ar):cr)(e,t)}function ur(e){return function(){this.removeAttribute(e)}}function dr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fr(e,t,r){var n,i,a=r+"";return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function pr(e,t,r){var n,i,a=r+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function gr(e,t,r){var n,i,a;return function(){var s,o,l=r(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===n&&o===i?a:(i=o,a=t(n=s,l));this.removeAttribute(e)}}function mr(e,t,r){var n,i,a;return function(){var s,o,l=r(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===n&&o===i?a:(i=o,a=t(n=s,l));this.removeAttributeNS(e.space,e.local)}}function yr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}(e,i)),r}return i._value=t,i}function xr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}(e,i)),r}return i._value=t,i}function br(e,t){return function(){at(this,e).delay=+t.apply(this,arguments)}}function vr(e,t){return t=+t,function(){at(this,e).delay=t}}function kr(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function Ar(e,t){return t=+t,function(){st(this,e).duration=t}}var wr=Le.prototype.constructor;function Tr(e){return function(){this.style.removeProperty(e)}}var Cr=0;function Sr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function _r(){return++Cr}var $r=Le.prototype;Sr.prototype=function(e){return Le().transition(e)}.prototype={constructor:Sr,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=v(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o,l,c=n[s],h=c.length,u=a[s]=new Array(h),d=0;d<h;++d)(o=c[d])&&(l=e.call(o,o.__data__,d,c))&&("__data__"in o&&(l.__data__=o.__data__),u[d]=l,it(u[d],t,r,d,u,ot(o,r)));return new Sr(a,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=A(e));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l,c=n[o],h=c.length,u=0;u<h;++u)if(l=c[u]){for(var d,f=e.call(l,l.__data__,u,c),p=ot(l,r),g=0,m=f.length;g<m;++g)(d=f[g])&&it(d,t,r,g,f,p);a.push(f),s.push(l)}return new Sr(a,s,t,r)},selectChild:$r.selectChild,selectChildren:$r.selectChildren,filter:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s=t[i],o=s.length,l=n[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Sr(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l,c=t[o],h=r[o],u=c.length,d=s[o]=new Array(u),f=0;f<u;++f)(l=c[f]||h[f])&&(d[f]=l);for(;o<n;++o)s[o]=t[o];return new Sr(s,this._parents,this._name,this._id)},selection:function(){return new wr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=_r(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s,o=n[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var h=ot(s,t);it(s,e,r,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Sr(n,this._parents,e,r)},call:$r.call,nodes:$r.nodes,node:$r.node,size:$r.size,empty:$r.empty,each:$r.each,on:function(e,t){var r=this._id;return arguments.length<2?ot(this.node(),r).on.on(e):this.each(function(e,t,r){var n,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?at:st;return function(){var s=a(this,e),o=s.on;o!==n&&(i=(n=o).copy()).on(t,r),s.on=i}}(r,e,t))},attr:function(e,t){var r=P(e),n="transform"===r?gt:hr;return this.attrTween(e,"function"==typeof t?(r.local?mr:gr)(r,n,xt(this,"attr."+e,t)):null==t?(r.local?dr:ur)(r):(r.local?pr:fr)(r,n,t))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=P(e);return this.tween(r,(n.local?yr:xr)(n,t))},style:function(e,t,r){var n="transform"==(e+="")?pt:hr;return null==t?this.styleTween(e,function(e,t){var r,n,i;return function(){var a=X(this,e),s=(this.style.removeProperty(e),X(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}(e,n)).on("end.style."+e,Tr(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,i,a;return function(){var s=X(this,e),o=r(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=X(this,e)),s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o))}}(e,n,xt(this,"style."+e,t))).each(function(e,t){var r,n,i,a,s="style."+t,o="end."+s;return function(){var l=st(this,e),c=l.on,h=null==l.value[s]?a||(a=Tr(t)):void 0;c===r&&i===h||(n=(r=c).copy()).on(o,i=h),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,i,a=r+"";return function(){var s=X(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}(e,n,t),r).on("end.style."+e,null)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,r){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&function(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}(e,a,r)),n}return a._value=t,a}(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&function(e){return function(t){this.textContent=e.call(this,t)}}(n)),t}return n._value=e,n}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=ot(this.node(),r).tween,a=0,s=i.length;a<s;++a)if((n=i[a]).name===e)return n.value;return null}return this.each((null==t?mt:yt)(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?br:vr)(t,e)):ot(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?kr:Ar)(t,e)):ot(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){st(this,e).ease=t}}(t,e)):ot(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;st(this,e).ease=r}}(this._id,e))},end:function(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){0===--i&&a()}};r.each(function(){var r=st(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),r.on=t}),0===i&&a()})},[Symbol.iterator]:$r[Symbol.iterator]};var Rr={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Er(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}Le.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var r,n,i,a=e.__transition,s=!0;if(a){for(i in t=null==t?null:t+"",a)(r=a[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[i]):s=!1;s&&delete e.__transition}}(this,e)})},Le.prototype.transition=function(e){var t,r;e instanceof Sr?(t=e._id,e=e._name):(t=_r(),(r=Rr).time=Ve(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s,o=n[a],l=o.length,c=0;c<l;++c)(s=o[c])&&it(s,e,t,c,o,r||Er(s,t));return new Sr(n,this._parents,e,t)};const{abs:Lr,max:Mr,min:Ir}=Math;function Nr(e){return[+e[0],+e[1]]}function Or(e){return[Nr(e[0]),Nr(e[1])]}["w","e"].map(Br),["n","s"].map(Br),["n","w","e","s","nw","ne","sw","se"].map(Br);function Br(e){return{type:e}}function Dr(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fr(e){return(e=Dr(Math.abs(e)))?e[1]:NaN}var Pr,Kr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jr(e){if(!(t=Kr.exec(e)))throw new Error("invalid format: "+e);var t;return new zr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function zr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ur(e,t){var r=Dr(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}jr.prototype=zr.prototype,zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ur(100*e,t),r:Ur,s:function(e,t){var r=Dr(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Pr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Dr(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gr(e){return e}var qr,Hr,Vr,Yr=Array.prototype.map,Xr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Zr(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Gr:(t=Yr.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Gr:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Yr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=jr(e)).fill,r=e.align,u=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,y=e.trim,x=e.type;"n"===x?(g=!0,x="g"):Wr[x]||(void 0===m&&(m=12),y=!0,x="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===d?a:/[%p]/.test(x)?l:"",k=Wr[x],A=/[defgprs%]/.test(x);function w(e){var i,a,l,d=b,w=v;if("c"===x)w=k(e)+w,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:k(Math.abs(e),m),y&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==u&&(T=!1),d=(T?"("===u?u:c:"-"===u||"("===u?"":u)+d,w=("s"===x?Xr[8+Pr/3]:"")+w+(T&&"("===u?")":""),A)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){w=(46===l?s+e.slice(i+1):e.slice(i))+w,e=e.slice(0,i);break}}g&&!f&&(e=n(e,1/0));var C=d.length+e.length+w.length,S=C<p?new Array(p-C+1).join(t):"";switch(g&&f&&(e=n(S+e,S.length?p-w.length:1/0),S=""),r){case"<":e=d+e+w+S;break;case"=":e=d+S+e+w;break;case"^":e=S.slice(0,C=S.length>>1)+d+e+w+S.slice(C);break;default:e=S+d+e+w}return o(e)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return e+""},w}return{format:u,formatPrefix:function(e,t){var r=u(((e=jr(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Fr(t)/3))),i=Math.pow(10,-n),a=Xr[8+n/3];return function(e){return r(i*e)+a}}}}function Qr(e){var t=0,r=e.children,n=r&&r.length;if(n)for(;--n>=0;)t+=r[n].value;else t=1;e.value=t}function Jr(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=tn)):void 0===t&&(t=en);for(var r,n,i,a,s,o=new an(e),l=[o];r=l.pop();)if((i=t(r.data))&&(s=(i=Array.from(i)).length))for(r.children=i,a=s-1;a>=0;--a)l.push(n=i[a]=new an(i[a])),n.parent=r,n.depth=r.depth+1;return o.eachBefore(nn)}function en(e){return e.children}function tn(e){return Array.isArray(e)?e[1]:null}function rn(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function nn(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function an(e){this.data=e,this.depth=this.height=0,this.parent=null}function sn(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function on(e,t,r,n,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(n-t)/e.value;++o<l;)(a=s[o]).y0=r,a.y1=i,a.x0=t,a.x1=t+=a.value*c}function ln(e,t,r,n,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(i-r)/e.value;++o<l;)(a=s[o]).x0=t,a.x1=n,a.y0=r,a.y1=r+=a.value*c}qr=Zr({thousands:",",grouping:[3],currency:["$",""]}),Hr=qr.format,Vr=qr.formatPrefix,an.prototype=Jr.prototype={constructor:an,count:function(){return this.eachAfter(Qr)},each:function(e,t){let r=-1;for(const n of this)e.call(t,n,++r,this);return this},eachAfter:function(e,t){for(var r,n,i,a=this,s=[a],o=[],l=-1;a=s.pop();)if(o.push(a),r=a.children)for(n=0,i=r.length;n<i;++n)s.push(r[n]);for(;a=o.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var r,n,i=this,a=[i],s=-1;i=a.pop();)if(e.call(t,i,++s,this),r=i.children)for(n=r.length-1;n>=0;--n)a.push(r[n]);return this},find:function(e,t){let r=-1;for(const n of this)if(e.call(t,n,++r,this))return n},sum:function(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,r=function(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;e=r.pop(),t=n.pop();for(;e===t;)i=e,e=r.pop(),t=n.pop();return i}(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t},copy:function(){return Jr(this).eachBefore(rn)},[Symbol.iterator]:function*(){var e,t,r,n,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(r=0,n=t.length;r<n;++r)a.push(t[r])}while(a.length)}};const cn=function e(t){function r(e,r,n,i,a){!function(e,t,r,n,i,a){for(var s,o,l,c,h,u,d,f,p,g,m,y=[],x=t.children,b=0,v=0,k=x.length,A=t.value;b<k;){l=i-r,c=a-n;do{h=x[v++].value}while(!h&&v<k);for(u=d=h,m=h*h*(g=Math.max(c/l,l/c)/(A*e)),p=Math.max(d/m,m/u);v<k;++v){if(h+=o=x[v].value,o<u&&(u=o),o>d&&(d=o),m=h*h*g,(f=Math.max(d/m,m/u))>p){h-=o;break}p=f}y.push(s={value:h,dice:l<c,children:x.slice(b,v)}),s.dice?on(s,r,n,i,A?n+=c*h/A:a):ln(s,r,n,A?r+=l*h/A:i,a),A-=h,b=v}}(t,e,r,n,i,a)}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}((1+Math.sqrt(5))/2);function hn(e){if("function"!=typeof e)throw new Error;return e}function un(){return 0}function dn(e){return function(){return e}}function fn(){var e=cn,t=!1,r=1,n=1,i=[0],a=un,s=un,o=un,l=un,c=un;function h(e){return e.x0=e.y0=0,e.x1=r,e.y1=n,e.eachBefore(u),i=[0],t&&e.eachBefore(sn),e}function u(t){var r=i[t.depth],n=t.x0+r,h=t.y0+r,u=t.x1-r,d=t.y1-r;u<n&&(n=u=(n+u)/2),d<h&&(h=d=(h+d)/2),t.x0=n,t.y0=h,t.x1=u,t.y1=d,t.children&&(r=i[t.depth+1]=a(t)/2,n+=c(t)-r,h+=s(t)-r,(u-=o(t)-r)<n&&(n=u=(n+u)/2),(d-=l(t)-r)<h&&(h=d=(h+d)/2),e(t,n,h,u,d))}return h.round=function(e){return arguments.length?(t=!!e,h):t},h.size=function(e){return arguments.length?(r=+e[0],n=+e[1],h):[r,n]},h.tile=function(t){return arguments.length?(e=hn(t),h):e},h.padding=function(e){return arguments.length?h.paddingInner(e).paddingOuter(e):h.paddingInner()},h.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:dn(+e),h):a},h.paddingOuter=function(e){return arguments.length?h.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):h.paddingTop()},h.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:dn(+e),h):s},h.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:dn(+e),h):o},h.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:dn(+e),h):l},h.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:dn(+e),h):c},h}const pn=Math.PI/180,gn=180/Math.PI,mn=.96422,yn=.82521,xn=4/29,bn=6/29,vn=3*bn*bn,kn=bn*bn*bn;function An(e){if(e instanceof wn)return new wn(e.l,e.a,e.b,e.opacity);if(e instanceof En)return Ln(e);e instanceof zt||(e=Kt(e));var t,r,n=_n(e.r),i=_n(e.g),a=_n(e.b),s=Tn((.2225045*n+.7168786*i+.0606169*a)/1);return n===i&&i===a?t=r=s:(t=Tn((.4360747*n+.3850649*i+.1430804*a)/mn),r=Tn((.0139322*n+.0971045*i+.7141733*a)/yn)),new wn(116*s-16,500*(t-s),200*(s-r),e.opacity)}function wn(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function Tn(e){return e>kn?Math.pow(e,1/3):e/vn+xn}function Cn(e){return e>bn?e*e*e:vn*(e-xn)}function Sn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _n(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $n(e){if(e instanceof En)return new En(e.h,e.c,e.l,e.opacity);if(e instanceof wn||(e=An(e)),0===e.a&&0===e.b)return new En(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*gn;return new En(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Rn(e,t,r,n){return 1===arguments.length?$n(e):new En(e,t,r,null==n?1:n)}function En(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function Ln(e){if(isNaN(e.h))return new wn(e.l,0,0,e.opacity);var t=e.h*pn;return new wn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Mn(e){return function(t,r){var n=e((t=Rn(t)).h,(r=Rn(r)).h),i=ir(t.c,r.c),a=ir(t.l,r.l),s=ir(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=a(e),t.opacity=s(e),t+""}}}bt(wn,function(e,t,r,n){return 1===arguments.length?An(e):new wn(e,t,r,null==n?1:n)},vt(kt,{brighter(e){return new wn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new wn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new zt(Sn(3.1338561*(t=mn*Cn(t))-1.6168667*(e=1*Cn(e))-.4906146*(r=yn*Cn(r))),Sn(-.9787684*t+1.9161415*e+.033454*r),Sn(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),bt(En,Rn,vt(kt,{brighter(e){return new En(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new En(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Ln(this).rgb()}}));const In=Mn(function(e,t){var r=t-e;return r?rr(e,r>180||r<-180?r-360*Math.round(r/360):r):tr(isNaN(e)?t:e)});Mn(ir);function Nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}class On extends Map{constructor(e,t=Pn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Bn(this,e))}has(e){return super.has(Bn(this,e))}set(e,t){return super.set(Dn(this,e),t)}delete(e){return super.delete(Fn(this,e))}}Set;function Bn({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dn({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Fn({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Pn(e){return null!==e&&"object"==typeof e?e.valueOf():e}const Kn=Symbol("implicit");function jn(){var e=new On,t=[],r=[],n=Kn;function i(i){let a=e.get(i);if(void 0===a){if(n!==Kn)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new On;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return jn(t,r).unknown(n)},Nn.apply(i,arguments),i}function zn(){var e,t,r=jn().unknown(void 0),n=r.domain,i=r.range,a=0,s=1,o=!1,l=0,c=0,h=.5;function u(){var r=n().length,u=s<a,d=u?s:a,f=u?a:s;e=(f-d)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),d+=(f-d-e*(r-l))*h,t=e*(1-l),o&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map(function(t){return d+e*t});return i(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,u()):[a,s]},r.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),u()):h},r.copy=function(){return zn(n(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(h)},Nn.apply(u(),arguments)}const Un=Math.sqrt(50),Wn=Math.sqrt(10),Gn=Math.sqrt(2);function qn(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Un?10:a>=Wn?5:a>=Gn?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?qn(e,t,2*r):[o,l,c]}function Hn(e,t,r){return qn(e=+e,t=+t,r=+r)[2]}function Vn(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?Hn(t,e,r):Hn(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Yn(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xn(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zn(e){let t,r,n;function i(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Yn,r=(t,r)=>Yn(e(t),r),n=(t,r)=>e(t)-r):(t=e===Yn||e===Xn?e:Qn,r=e,n=e),{left:i,center:function(e,t,r=0,a=e.length){const s=i(e,t,r,a-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function Qn(){return 0}const Jn=Zn(Yn),ei=Jn.right,ti=(Jn.left,Zn(function(e){return null===e?NaN:+e}).center,ei);function ri(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),s=new Array(n);for(r=0;r<i;++r)a[r]=si(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<i;++r)s[r]=a[r](e);return s}}function ni(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ii(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=si(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}function ai(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function si(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?tr(t):("number"===i?lt:"string"===i?(r=Dt(t))?(t=r,ar):cr:t instanceof Dt?ar:t instanceof Date?ni:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?ri:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ii:lt:ai))(e,t)}function oi(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function li(e){return+e}var ci=[0,1];function hi(e){return e}function ui(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function di(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=ui(i,n),a=r(s,a)):(n=ui(n,i),a=r(a,s)),function(e){return a(n(e))}}function fi(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=ui(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var r=ti(e,t,1,n)-1;return a[r](i[r](t))}}function pi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gi(){var e,t,r,n,i,a,s=ci,o=ci,l=si,c=hi;function h(){var e,t,r,l=Math.min(s.length,o.length);return c!==hi&&(e=s[0],t=s[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?fi:di,i=a=null,u}function u(t){return null==t||isNaN(t=+t)?r:(i||(i=n(s.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((a||(a=n(o,s.map(e),lt)))(r)))},u.domain=function(e){return arguments.length?(s=Array.from(e,li),h()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),h()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=oi,h()},u.clamp=function(e){return arguments.length?(c=!!e||hi,h()):c!==hi},u.interpolate=function(e){return arguments.length?(l=e,h()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,h()}}function mi(){return gi()(hi,hi)}function yi(e,t,r,n){var i,a=Vn(e,t,r);switch((n=jr(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fr(t)/3)))-Fr(Math.abs(e)))}(a,s))||(n.precision=i),Vr(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fr(t)-Fr(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-Fr(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return Hr(n)}function xi(e){var t=e.domain;return e.ticks=function(e){var r=t();return function(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,s]=n?qn(t,e,r):qn(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return yi(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],h=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);h-- >0;){if((i=Hn(l,c,r))===n)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}n=i}return e},e}function bi(){var e=mi();return e.copy=function(){return pi(e,bi())},Nn.apply(e,arguments),xi(e)}const vi=1e3,ki=6e4,Ai=36e5,wi=864e5,Ti=6048e5,Ci=2592e6,Si=31536e6,_i=new Date,$i=new Date;function Ri(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{const t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{const s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return s;let o;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=r=>Ri(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(_i.setTime(+t),$i.setTime(+n),e(_i),e($i),Math.floor(r(_i,$i))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Ei=Ri(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ei.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Ri(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ei:null);Ei.range;const Li=Ri(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds()),Mi=(Li.range,Ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getMinutes())),Ii=(Mi.range,Ri(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCMinutes())),Ni=(Ii.range,Ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*ki)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getHours())),Oi=(Ni.range,Ri(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCHours())),Bi=(Oi.range,Ri(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/wi,e=>e.getDate()-1)),Di=(Bi.range,Ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>e.getUTCDate()-1)),Fi=(Di.range,Ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>Math.floor(e/wi)));Fi.range;function Pi(e){return Ri(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/Ti)}const Ki=Pi(0),ji=Pi(1),zi=Pi(2),Ui=Pi(3),Wi=Pi(4),Gi=Pi(5),qi=Pi(6);Ki.range,ji.range,zi.range,Ui.range,Wi.range,Gi.range,qi.range;function Hi(e){return Ri(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ti)}const Vi=Hi(0),Yi=Hi(1),Xi=Hi(2),Zi=Hi(3),Qi=Hi(4),Ji=Hi(5),ea=Hi(6),ta=(Vi.range,Yi.range,Xi.range,Zi.range,Qi.range,Ji.range,ea.range,Ri(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),ra=(ta.range,Ri(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),na=(ra.range,Ri(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));na.every=e=>isFinite(e=Math.floor(e))&&e>0?Ri(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;na.range;const ia=Ri(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>isFinite(e=Math.floor(e))&&e>0?Ri(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;ia.range;function aa(e,t,r,n,i,a){const s=[[Li,1,vi],[Li,5,5e3],[Li,15,15e3],[Li,30,3e4],[a,1,ki],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Ai],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,wi],[n,2,1728e5],[r,1,Ti],[t,1,Ci],[t,3,7776e6],[e,1,Si]];function o(t,r,n){const i=Math.abs(r-t)/n,a=Zn(([,,e])=>e).right(s,i);if(a===s.length)return e.every(Vn(t/Si,r/Si,n));if(0===a)return Ei.every(Math.max(Vn(t,r,n),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"==typeof r.range?r:o(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},o]}const[sa,oa]=aa(ia,ra,Vi,Fi,Oi,Ii),[la,ca]=aa(na,ta,Ki,Bi,Ni,Mi);function ha(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ua(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function da(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var fa,pa,ga={"-":"",_:" ",0:"0"},ma=/^\s*\d+/,ya=/^%/,xa=/[\\^$*+?|[\]().{}]/g;function ba(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function va(e){return e.replace(xa,"\\$&")}function ka(e){return new RegExp("^(?:"+e.map(va).join("|")+")","i")}function Aa(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function wa(e,t,r){var n=ma.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ta(e,t,r){var n=ma.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ca(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sa(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _a(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $a(e,t,r){var n=ma.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ra(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ea(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function La(e,t,r){var n=ma.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Ma(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ia(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Na(e,t,r){var n=ma.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Oa(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ba(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Da(e,t,r){var n=ma.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Fa(e,t,r){var n=ma.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Pa(e,t,r){var n=ma.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ka(e,t,r){var n=ya.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ja(e,t,r){var n=ma.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function za(e,t,r){var n=ma.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Ua(e,t){return ba(e.getDate(),t,2)}function Wa(e,t){return ba(e.getHours(),t,2)}function Ga(e,t){return ba(e.getHours()%12||12,t,2)}function qa(e,t){return ba(1+Bi.count(na(e),e),t,3)}function Ha(e,t){return ba(e.getMilliseconds(),t,3)}function Va(e,t){return Ha(e,t)+"000"}function Ya(e,t){return ba(e.getMonth()+1,t,2)}function Xa(e,t){return ba(e.getMinutes(),t,2)}function Za(e,t){return ba(e.getSeconds(),t,2)}function Qa(e){var t=e.getDay();return 0===t?7:t}function Ja(e,t){return ba(Ki.count(na(e)-1,e),t,2)}function es(e){var t=e.getDay();return t>=4||0===t?Wi(e):Wi.ceil(e)}function ts(e,t){return e=es(e),ba(Wi.count(na(e),e)+(4===na(e).getDay()),t,2)}function rs(e){return e.getDay()}function ns(e,t){return ba(ji.count(na(e)-1,e),t,2)}function is(e,t){return ba(e.getFullYear()%100,t,2)}function as(e,t){return ba((e=es(e)).getFullYear()%100,t,2)}function ss(e,t){return ba(e.getFullYear()%1e4,t,4)}function os(e,t){var r=e.getDay();return ba((e=r>=4||0===r?Wi(e):Wi.ceil(e)).getFullYear()%1e4,t,4)}function ls(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ba(t/60|0,"0",2)+ba(t%60,"0",2)}function cs(e,t){return ba(e.getUTCDate(),t,2)}function hs(e,t){return ba(e.getUTCHours(),t,2)}function us(e,t){return ba(e.getUTCHours()%12||12,t,2)}function ds(e,t){return ba(1+Di.count(ia(e),e),t,3)}function fs(e,t){return ba(e.getUTCMilliseconds(),t,3)}function ps(e,t){return fs(e,t)+"000"}function gs(e,t){return ba(e.getUTCMonth()+1,t,2)}function ms(e,t){return ba(e.getUTCMinutes(),t,2)}function ys(e,t){return ba(e.getUTCSeconds(),t,2)}function xs(e){var t=e.getUTCDay();return 0===t?7:t}function bs(e,t){return ba(Vi.count(ia(e)-1,e),t,2)}function vs(e){var t=e.getUTCDay();return t>=4||0===t?Qi(e):Qi.ceil(e)}function ks(e,t){return e=vs(e),ba(Qi.count(ia(e),e)+(4===ia(e).getUTCDay()),t,2)}function As(e){return e.getUTCDay()}function ws(e,t){return ba(Yi.count(ia(e)-1,e),t,2)}function Ts(e,t){return ba(e.getUTCFullYear()%100,t,2)}function Cs(e,t){return ba((e=vs(e)).getUTCFullYear()%100,t,2)}function Ss(e,t){return ba(e.getUTCFullYear()%1e4,t,4)}function _s(e,t){var r=e.getUTCDay();return ba((e=r>=4||0===r?Qi(e):Qi.ceil(e)).getUTCFullYear()%1e4,t,4)}function $s(){return"+0000"}function Rs(){return"%"}function Es(e){return+e}function Ls(e){return Math.floor(+e/1e3)}function Ms(e){return new Date(e)}function Is(e){return e instanceof Date?+e:+new Date(+e)}function Ns(e,t,r,n,i,a,s,o,l,c){var h=mi(),u=h.invert,d=h.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),v=c("%Y");function k(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?g:a(e)<e?m:n(e)<e?i(e)<e?y:x:r(e)<e?b:v)(e)}return h.invert=function(e){return new Date(u(e))},h.domain=function(e){return arguments.length?d(Array.from(e,Is)):d().map(Ms)},h.ticks=function(t){var r=d();return e(r[0],r[r.length-1],null==t?10:t)},h.tickFormat=function(e,t){return null==t?k:c(t)},h.nice=function(e){var r=d();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?d(function(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],s=e[i];return s<a&&(r=n,n=i,i=r,r=a,a=s,s=r),e[n]=t.floor(a),e[i]=t.ceil(s),e}(r,e)):h},h.copy=function(){return pi(h,Ns(e,t,r,n,i,a,s,o,l,c))},h}function Os(){return Nn.apply(Ns(la,ca,na,ta,Ki,Bi,Ni,Mi,Li,pa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(e){fa=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=ka(i),h=Aa(i),u=ka(a),d=Aa(a),f=ka(s),p=Aa(s),g=ka(o),m=Aa(o),y=ka(l),x=Aa(l),b={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Ua,e:Ua,f:Va,g:as,G:os,H:Wa,I:Ga,j:qa,L:Ha,m:Ya,M:Xa,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Es,s:Ls,S:Za,u:Qa,U:Ja,V:ts,w:rs,W:ns,x:null,X:null,y:is,Y:ss,Z:ls,"%":Rs},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:cs,e:cs,f:ps,g:Cs,G:_s,H:hs,I:us,j:ds,L:fs,m:gs,M:ms,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Es,s:Ls,S:ys,u:xs,U:bs,V:ks,w:As,W:ws,x:null,X:null,y:Ts,Y:Ss,Z:$s,"%":Rs},k={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=d.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return T(e,t,r,n)},d:Ia,e:Ia,f:Pa,g:Ra,G:$a,H:Oa,I:Oa,j:Na,L:Fa,m:Ma,M:Ba,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=h.get(n[0].toLowerCase()),r+n[0].length):-1},q:La,Q:ja,s:za,S:Da,u:Ta,U:Ca,V:Sa,w:wa,W:_a,x:function(e,t,n){return T(e,r,t,n)},X:function(e,t,r){return T(e,n,t,r)},y:Ra,Y:$a,Z:Ea,"%":Ka};function A(e,t){return function(r){var n,i,a,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=ga[n=e.charAt(++o)])?n=e.charAt(++o):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function w(e,t){return function(r){var n,i,a=da(1900,void 0,1);if(T(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=ua(da(a.y,0,1))).getUTCDay(),n=i>4||0===i?Yi.ceil(n):Yi(n),n=Di.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=ha(da(a.y,0,1))).getDay(),n=i>4||0===i?ji.ceil(n):ji(n),n=Bi.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?ua(da(a.y,0,1)).getUTCDay():ha(da(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ua(a)):ha(a)}}function T(e,t,r,n){for(var i,a,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=k[i in ga?t.charAt(s++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return b.x=A(r,b),b.X=A(n,b),b.c=A(t,b),v.x=A(r,v),v.X=A(n,v),v.c=A(t,v),{format:function(e){var t=A(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=A(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}(e),pa=fa.format,fa.parse,fa.utcFormat,fa.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Bs=function(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ds(e){return"string"==typeof e?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],$e)}function Fs(e){return function(){return e}}const Ps=Math.abs,Ks=Math.atan2,js=Math.cos,zs=Math.max,Us=Math.min,Ws=Math.sin,Gs=Math.sqrt,qs=1e-12,Hs=Math.PI,Vs=Hs/2,Ys=2*Hs;function Xs(e){return e>=1?Vs:e<=-1?-Vs:Math.asin(e)}const Zs=Math.PI,Qs=2*Zs,Js=1e-6,eo=Qs-Js;function to(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class ro{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?to:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return to;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=r-e,l=n-t,c=a-e,h=s-t,u=c*c+h*h;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Js)if(Math.abs(h*o-l*c)>Js&&i){let d=r-a,f=n-s,p=o*o+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(u),x=i*Math.tan((Zs-Math.acos((p+u-g)/(2*m*y)))/2),b=x/y,v=x/m;Math.abs(b-1)>Js&&this._append`L${e+b*c},${t+b*h}`,this._append`A${i},${i},0,0,${+(h*d>c*f)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,h=1^a,u=a?n-i:i-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Js||Math.abs(this._y1-c)>Js)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%Qs+Qs),u>eo?this._append`A${r},${r},0,1,${h},${e-s},${t-o}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:u>Js&&this._append`A${r},${r},0,${+(u>=Zs)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function no(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new ro(t)}function io(e){return e.innerRadius}function ao(e){return e.outerRadius}function so(e){return e.startAngle}function oo(e){return e.endAngle}function lo(e){return e&&e.padAngle}function co(e,t,r,n,i,a,s){var o=e-r,l=t-n,c=(s?a:-a)/Gs(o*o+l*l),h=c*l,u=-c*o,d=e+h,f=t+u,p=r+h,g=n+u,m=(d+p)/2,y=(f+g)/2,x=p-d,b=g-f,v=x*x+b*b,k=i-a,A=d*g-p*f,w=(b<0?-1:1)*Gs(zs(0,k*k*v-A*A)),T=(A*b-x*w)/v,C=(-A*x-b*w)/v,S=(A*b+x*w)/v,_=(-A*x+b*w)/v,$=T-m,R=C-y,E=S-m,L=_-y;return $*$+R*R>E*E+L*L&&(T=S,C=_),{cx:T,cy:C,x01:-h,y01:-u,x11:T*(i/k-1),y11:C*(i/k-1)}}function ho(){var e=io,t=ao,r=Fs(0),n=null,i=so,a=oo,s=lo,o=null,l=no(c);function c(){var c,h,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-Vs,g=a.apply(this,arguments)-Vs,m=Ps(g-p),y=g>p;if(o||(o=c=l()),f<d&&(h=f,f=d,d=h),f>qs)if(m>Ys-qs)o.moveTo(f*js(p),f*Ws(p)),o.arc(0,0,f,p,g,!y),d>qs&&(o.moveTo(d*js(g),d*Ws(g)),o.arc(0,0,d,g,p,y));else{var x,b,v=p,k=g,A=p,w=g,T=m,C=m,S=s.apply(this,arguments)/2,_=S>qs&&(n?+n.apply(this,arguments):Gs(d*d+f*f)),$=Us(Ps(f-d)/2,+r.apply(this,arguments)),R=$,E=$;if(_>qs){var L=Xs(_/d*Ws(S)),M=Xs(_/f*Ws(S));(T-=2*L)>qs?(A+=L*=y?1:-1,w-=L):(T=0,A=w=(p+g)/2),(C-=2*M)>qs?(v+=M*=y?1:-1,k-=M):(C=0,v=k=(p+g)/2)}var I=f*js(v),N=f*Ws(v),O=d*js(w),B=d*Ws(w);if($>qs){var D,F=f*js(k),P=f*Ws(k),K=d*js(A),j=d*Ws(A);if(m<Hs)if(D=function(e,t,r,n,i,a,s,o){var l=r-e,c=n-t,h=s-i,u=o-a,d=u*l-h*c;if(!(d*d<qs))return[e+(d=(h*(t-a)-u*(e-i))/d)*l,t+d*c]}(I,N,K,j,F,P,O,B)){var z=I-D[0],U=N-D[1],W=F-D[0],G=P-D[1],q=1/Ws(((u=(z*W+U*G)/(Gs(z*z+U*U)*Gs(W*W+G*G)))>1?0:u<-1?Hs:Math.acos(u))/2),H=Gs(D[0]*D[0]+D[1]*D[1]);R=Us($,(d-H)/(q-1)),E=Us($,(f-H)/(q+1))}else R=E=0}C>qs?E>qs?(x=co(K,j,I,N,f,E,y),b=co(F,P,O,B,f,E,y),o.moveTo(x.cx+x.x01,x.cy+x.y01),E<$?o.arc(x.cx,x.cy,E,Ks(x.y01,x.x01),Ks(b.y01,b.x01),!y):(o.arc(x.cx,x.cy,E,Ks(x.y01,x.x01),Ks(x.y11,x.x11),!y),o.arc(0,0,f,Ks(x.cy+x.y11,x.cx+x.x11),Ks(b.cy+b.y11,b.cx+b.x11),!y),o.arc(b.cx,b.cy,E,Ks(b.y11,b.x11),Ks(b.y01,b.x01),!y))):(o.moveTo(I,N),o.arc(0,0,f,v,k,!y)):o.moveTo(I,N),d>qs&&T>qs?R>qs?(x=co(O,B,F,P,d,-R,y),b=co(I,N,K,j,d,-R,y),o.lineTo(x.cx+x.x01,x.cy+x.y01),R<$?o.arc(x.cx,x.cy,R,Ks(x.y01,x.x01),Ks(b.y01,b.x01),!y):(o.arc(x.cx,x.cy,R,Ks(x.y01,x.x01),Ks(x.y11,x.x11),!y),o.arc(0,0,d,Ks(x.cy+x.y11,x.cx+x.x11),Ks(b.cy+b.y11,b.cx+b.x11),y),o.arc(b.cx,b.cy,R,Ks(b.y11,b.x11),Ks(b.y01,b.x01),!y))):o.arc(0,0,d,w,A,y):o.lineTo(O,B)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return c.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Hs/2;return[js(n)*r,Ws(n)*r]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Fs(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Fs(+e),c):t},c.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:Fs(+e),c):r},c.padRadius=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Fs(+e),c):n},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Fs(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:Fs(+e),c):a},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Fs(+e),c):s},c.context=function(e){return arguments.length?(o=null==e?null:e,c):o},c}ro.prototype;Array.prototype.slice;function uo(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function fo(e){this._context=e}function po(e){return new fo(e)}function go(e){return e[0]}function mo(e){return e[1]}function yo(e,t){var r=Fs(!0),n=null,i=po,a=null,s=no(o);function o(o){var l,c,h,u=(o=uo(o)).length,d=!1;for(null==n&&(a=i(h=s())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,o),+t(c,l,o));if(h)return a=null,h+""||null}return e="function"==typeof e?e:void 0===e?go:Fs(e),t="function"==typeof t?t:void 0===t?mo:Fs(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Fs(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Fs(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:Fs(!!e),o):r},o.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),o):i},o.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),o):n},o}function xo(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function bo(e){return e}function vo(){var e=bo,t=xo,r=null,n=Fs(0),i=Fs(Ys),a=Fs(0);function s(s){var o,l,c,h,u,d=(s=uo(s)).length,f=0,p=new Array(d),g=new Array(d),m=+n.apply(this,arguments),y=Math.min(Ys,Math.max(-Ys,i.apply(this,arguments)-m)),x=Math.min(Math.abs(y)/d,a.apply(this,arguments)),b=x*(y<0?-1:1);for(o=0;o<d;++o)(u=g[p[o]=o]=+e(s[o],o,s))>0&&(f+=u);for(null!=t?p.sort(function(e,r){return t(g[e],g[r])}):null!=r&&p.sort(function(e,t){return r(s[e],s[t])}),o=0,c=f?(y-d*b)/f:0;o<d;++o,m=h)l=p[o],h=m+((u=g[l])>0?u*c:0)+b,g[l]={data:s[l],index:o,value:u,startAngle:m,endAngle:h,padAngle:x};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:Fs(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,r=null,s):t},s.sort=function(e){return arguments.length?(r=e,t=null,s):r},s.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:Fs(+e),s):n},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Fs(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Fs(+e),s):a},s}function ko(){}function Ao(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function wo(e){this._context=e}function To(e){return new wo(e)}function Co(e){this._context=e}function So(e){return new Co(e)}function _o(e){this._context=e}function $o(e){return new _o(e)}fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ao(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Co.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ao(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Ro{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Eo(e){return new Ro(e,!0)}function Lo(e){return new Ro(e,!1)}function Mo(e,t){this._basis=new wo(e),this._beta=t}Mo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n,i=e[0],a=t[0],s=e[r]-i,o=t[r]-a,l=-1;++l<=r;)n=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+n*s),this._beta*t[l]+(1-this._beta)*(a+n*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Io=function e(t){function r(e){return 1===t?new wo(e):new Mo(e,t)}return r.beta=function(t){return e(+t)},r}(.85);function No(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Oo(e,t){this._context=e,this._k=(1-t)/6}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:No(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:No(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bo=function e(t){function r(e){return new Oo(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Do(e,t){this._context=e,this._k=(1-t)/6}Do.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:No(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fo=function e(t){function r(e){return new Do(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Po(e,t){this._context=e,this._k=(1-t)/6}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:No(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ko=function e(t){function r(e){return new Po(e,t)}return r.tension=function(t){return e(+t)},r}(0);function jo(e,t,r){var n=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>qs){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>qs){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/h,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,i,a,s,e._x2,e._y2)}function zo(e,t){this._context=e,this._alpha=t}zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:jo(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uo=function e(t){function r(e){return t?new zo(e,t):new Oo(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Wo(e,t){this._context=e,this._alpha=t}Wo.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jo(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Go=function e(t){function r(e){return t?new Wo(e,t):new Do(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function qo(e,t){this._context=e,this._alpha=t}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jo(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ho=function e(t){function r(e){return t?new qo(e,t):new Po(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Vo(e){this._context=e}function Yo(e){return new Vo(e)}function Xo(e){return e<0?-1:1}function Zo(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Xo(a)+Xo(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Qo(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jo(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function el(e){this._context=e}function tl(e){this._context=new rl(e)}function rl(e){this._context=e}function nl(e){return new el(e)}function il(e){return new tl(e)}function al(e){this._context=e}function sl(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ol(e){return new al(e)}function ll(e,t){this._context=e,this._t=t}function cl(e){return new ll(e,.5)}function hl(e){return new ll(e,0)}function ul(e){return new ll(e,1)}function dl(e,t,r){this.k=e,this.x=t,this.y=r}Vo.prototype={areaStart:ko,areaEnd:ko,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},el.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jo(this,this._t0,Qo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jo(this,Qo(this,r=Zo(this,e,t)),r);break;default:Jo(this,this._t0,r=Zo(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(tl.prototype=Object.create(el.prototype)).point=function(e,t){el.prototype.point.call(this,t,e)},rl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},al.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=sl(e),i=sl(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}},dl.prototype={constructor:dl,scale:function(e){return 1===e?this:new dl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new dl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new dl(1,0,0);dl.prototype},513:(e,t,r)=>{"use strict";function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from("string"==typeof e?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(e,t){var r=t.match(/\n([\t ]+|(?!\s).)/g);return r?e.concat(r.map(function(e){var t,r;return null!==(r=null===(t=e.match(/[\t ]/g))||void 0===t?void 0:t.length)&&void 0!==r?r:0})):e},[]);if(i.length){var a=new RegExp("\n[\t ]{"+Math.min.apply(Math,i)+"}","g");n=n.map(function(e){return e.replace(a,"\n")})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return t.forEach(function(e,t){var r=s.match(/(?:^|\n)( *)$/),i=r?r[1]:"",a=e;"string"==typeof e&&e.includes("\n")&&(a=String(e).split("\n").map(function(e,t){return 0===t?e:""+i+e}).join("\n")),s+=a+n[t+1]}),s}r.d(t,{T:()=>n})},565:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3988);const i=function(e){var t=new e.constructor(e.byteLength);return new n.A(t).set(new n.A(e)),t}},797:(e,t,r)=>{"use strict";r.d(t,{He:()=>c,K2:()=>a,Rm:()=>l,VA:()=>s});var n=r(4353),i=Object.defineProperty,a=(e,t)=>i(e,"name",{value:t,configurable:!0}),s=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},l={trace:a((...e)=>{},"trace"),debug:a((...e)=>{},"debug"),info:a((...e)=>{},"info"),warn:a((...e)=>{},"warn"),error:a((...e)=>{},"error"),fatal:a((...e)=>{},"fatal")},c=a(function(e="fatal"){let t=o.fatal;"string"==typeof e?e.toLowerCase()in o&&(t=o[e]):"number"==typeof e&&(t=e),l.trace=()=>{},l.debug=()=>{},l.info=()=>{},l.warn=()=>{},l.error=()=>{},l.fatal=()=>{},t<=o.fatal&&(l.fatal=console.error?console.error.bind(console,h("FATAL"),"color: orange"):console.log.bind(console,"\x1b[35m",h("FATAL"))),t<=o.error&&(l.error=console.error?console.error.bind(console,h("ERROR"),"color: orange"):console.log.bind(console,"\x1b[31m",h("ERROR"))),t<=o.warn&&(l.warn=console.warn?console.warn.bind(console,h("WARN"),"color: orange"):console.log.bind(console,"\x1b[33m",h("WARN"))),t<=o.info&&(l.info=console.info?console.info.bind(console,h("INFO"),"color: lightblue"):console.log.bind(console,"\x1b[34m",h("INFO"))),t<=o.debug&&(l.debug=console.debug?console.debug.bind(console,h("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",h("DEBUG"))),t<=o.trace&&(l.trace=console.debug?console.debug.bind(console,h("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",h("TRACE")))},"setLogLevel"),h=a(e=>`%c${n().format("ss.SSS")} : ${e} : `,"format")},805:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(t){return null==t?void 0:t[e]}}},818:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5707);const i=function(e){return e!=e};const a=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};const s=function(e,t,r){return t==t?a(e,t,r):(0,n.A)(e,i,r)}},901:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1882);const i=function(e){if("string"==typeof e||(0,n.A)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},966:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every(e=>r(e))}},1121:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Function.prototype.toString;const i=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},1152:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(7633),i=r(797),a=(0,i.K2)((e,t,r,a)=>{e.attr("class",r);const{width:l,height:c,x:h,y:u}=s(e,t);(0,n.a$)(e,c,l,a);const d=o(h,u,l,c,t);e.attr("viewBox",d),i.Rm.debug(`viewBox configured: ${d} with padding: ${t}`)},"setupViewPortForSVG"),s=(0,i.K2)((e,t)=>{const r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+2*t,height:r.height+2*t,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),o=(0,i.K2)((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`,"createViewBox")},1477:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},l={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new n.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.AM,l);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}(0,n.K2)(c,"createPacketServices")},1564:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,d:()=>i});class n extends Error{constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}}function i(e){throw new Error("Error! The input value was not handled.")}},1633:(e,t,r)=>{"use strict";r.d(t,{d:()=>f});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},l=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,c=class extends n.dg{static{(0,n.K2)(this,"TreemapValueConverter")}runCustomConverter(e,t,r){if("NUMBER2"===e.name)return parseFloat(t.replace(/,/g,""));if("SEPARATOR"===e.name)return t.substring(1,t.length-1);if("STRING2"===e.name)return t.substring(1,t.length-1);if("INDENTATION"===e.name)return t.length;if("ClassDef"===e.name){if("string"!=typeof t)return t;const e=l.exec(t);if(e)return{$type:"ClassDefStatement",className:e[1],styleText:e[2]||void 0}}}};function h(e){const t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){const e={Treemap:t.checkSingleRoot.bind(t)};r.register(e,t)}}(0,n.K2)(h,"registerValidationChecks");var u=class{static{(0,n.K2)(this,"TreemapValidator")}checkSingleRoot(e,t){let r;for(const n of e.TreemapRows)n.item&&(void 0===r&&void 0===n.indent?r=0:(void 0===n.indent||void 0!==r&&r>=parseInt(n.indent,10))&&t("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}))}},d={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new c,"ValueConverter")},validation:{TreemapValidator:(0,n.K2)(()=>new u,"TreemapValidator")}};function f(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.eV,d);return t.ServiceRegistry.register(r),h(r),{shared:t,Treemap:r}}(0,n.K2)(f,"createTreemapServices")},1719:(e,t,r)=>{"use strict";r.d(t,{B5:()=>s,Rf:()=>o,Td:()=>l,Vj:()=>c,fq:()=>n,iD:()=>h});class n{constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){const e=this.iterator();return Boolean(e.next().done)}count(){const e=this.iterator();let t=0,r=e.next();for(;!r.done;)t++,r=e.next();return t}toArray(){const e=[],t=this.iterator();let r;do{r=t.next(),void 0!==r.value&&e.push(r.value)}while(!r.done);return e}toSet(){return new Set(this)}toMap(e,t){const r=this.map(r=>[e?e(r):r,t?t(r):r]);return new Map(r)}toString(){return this.join()}concat(e){return new n(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),e=>{let t;if(!e.firstDone){do{if(t=this.nextFn(e.first),!t.done)return t}while(!t.done);e.firstDone=!0}do{if(t=e.iterator.next(),!t.done)return t}while(!t.done);return o})}join(e=","){const t=this.iterator();let r,n="",a=!1;do{r=t.next(),r.done||(a&&(n+=e),n+=i(r.value)),a=!0}while(!r.done);return n}indexOf(e,t=0){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(n>=t&&i.value===e)return n;i=r.next(),n++}return-1}every(e){const t=this.iterator();let r=t.next();for(;!r.done;){if(!e(r.value))return!1;r=t.next()}return!0}some(e){const t=this.iterator();let r=t.next();for(;!r.done;){if(e(r.value))return!0;r=t.next()}return!1}forEach(e){const t=this.iterator();let r=0,n=t.next();for(;!n.done;)e(n.value,r),n=t.next(),r++}map(e){return new n(this.startFn,t=>{const{done:r,value:n}=this.nextFn(t);return r?o:{done:!1,value:e(n)}})}filter(e){return new n(this.startFn,t=>{let r;do{if(r=this.nextFn(t),!r.done&&e(r.value))return r}while(!r.done);return o})}nonNullable(){return this.filter(e=>null!=e)}reduce(e,t){const r=this.iterator();let n=t,i=r.next();for(;!i.done;)n=void 0===n?i.value:e(n,i.value),i=r.next();return n}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,r){const n=e.next();if(n.done)return r;const i=this.recursiveReduce(e,t,r);return void 0===i?n.value:t(i,n.value)}find(e){const t=this.iterator();let r=t.next();for(;!r.done;){if(e(r.value))return r.value;r=t.next()}}findIndex(e){const t=this.iterator();let r=0,n=t.next();for(;!n.done;){if(e(n.value))return r;n=t.next(),r++}return-1}includes(e){const t=this.iterator();let r=t.next();for(;!r.done;){if(r.value===e)return!0;r=t.next()}return!1}flatMap(e){return new n(()=>({this:this.startFn()}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}const{done:r,value:n}=this.nextFn(t.this);if(!r){const r=e(n);if(!a(r))return{done:!1,value:r};t.iterator=r[Symbol.iterator]()}}while(t.iterator);return o})}flat(e){if(void 0===e&&(e=1),e<=0)return this;const t=e>1?this.flat(e-1):this;return new n(()=>({this:t.startFn()}),e=>{do{if(e.iterator){const t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}const{done:r,value:n}=t.nextFn(e.this);if(!r){if(!a(n))return{done:!1,value:n};e.iterator=n[Symbol.iterator]()}}while(e.iterator);return o})}head(){const e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new n(()=>{const t=this.startFn();for(let r=0;r<e;r++){if(this.nextFn(t).done)return t}return t},this.nextFn)}limit(e){return new n(()=>({size:0,state:this.startFn()}),t=>(t.size++,t.size>e?o:this.nextFn(t.state)))}distinct(e){return new n(()=>({set:new Set,internalState:this.startFn()}),t=>{let r;do{if(r=this.nextFn(t.internalState),!r.done){const n=e?e(r.value):r.value;if(!t.set.has(n))return t.set.add(n),r}}while(!r.done);return o})}exclude(e,t){const r=new Set;for(const n of e){const e=t?t(n):n;r.add(e)}return this.filter(e=>{const n=t?t(e):e;return!r.has(n)})}}function i(e){return"string"==typeof e?e:void 0===e?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function a(e){return!!e&&"function"==typeof e[Symbol.iterator]}const s=new n(()=>{},()=>o),o=Object.freeze({done:!0,value:void 0});function l(...e){if(1===e.length){const t=e[0];if(t instanceof n)return t;if(a(t))return new n(()=>t[Symbol.iterator](),e=>e.next());if("number"==typeof t.length)return new n(()=>({index:0}),e=>e.index<t.length?{done:!1,value:t[e.index++]}:o)}return e.length>1?new n(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const r=e[t.collIndex++];a(r)?t.iterator=r[Symbol.iterator]():r&&"number"==typeof r.length&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return o}):s}class c extends n{constructor(e,t,r){super(()=>({iterators:(null==r?void 0:r.includeRoot)?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){const r=e.iterators[e.iterators.length-1].next();if(!r.done)return e.iterators.push(t(r.value)[Symbol.iterator]()),r;e.iterators.pop()}return o})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var h;!function(e){e.sum=function(e){return e.reduce((e,t)=>e+t,0)},e.product=function(e){return e.reduce((e,t)=>e*t,0)},e.min=function(e){return e.reduce((e,t)=>Math.min(e,t))},e.max=function(e){return e.reduce((e,t)=>Math.max(e,t))}}(h||(h={}))},1754:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(127);const i=function(){this.__data__=new n.A,this.size=0};const a=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};const s=function(e){return this.__data__.get(e)};const o=function(e){return this.__data__.has(e)};var l=r(8335),c=r(9471);const h=function(e,t){var r=this.__data__;if(r instanceof n.A){var i=r.__data__;if(!l.A||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new c.A(i)}return r.set(e,t),this.size=r.size,this};function u(e){var t=this.__data__=new n.A(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=o,u.prototype.set=h;const d=u},1790:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6240);const i=function(e,t){var r=[];return(0,n.A)(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}},1801:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(565);const i=function(e,t){var r=t?(0,n.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},1852:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(7271);const i=(0,r(367).A)(Object.keys,Object);var a=Object.prototype.hasOwnProperty;const s=function(e){if(!(0,n.A)(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},1882:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8496),i=r(3098);const a=function(e){return"symbol"==typeof e||(0,i.A)(e)&&"[object Symbol]"==(0,n.A)(e)}},1885:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},l={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new n.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.e5,l);return t.ServiceRegistry.register(r),{shared:t,Info:r}}(0,n.K2)(c,"createInfoServices")},1917:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2136),i="object"==typeof self&&self&&self.Object===Object&&self;const a=n.A||i||Function("return this")()},1945:(e,t,r)=>{"use strict";r.d(t,{Q:()=>c});var n=r(9637),i=r(2151),a=r(9683),s=r(8037),o=r(2806),l=r(1719);class c{constructor(){this.diagnostics=[]}buildTokens(e,t){const r=(0,l.Td)((0,s.YV)(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach(e=>{const t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&(0,o.Yv)(t)?i.unshift(e):i.push(e)}),i}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(i.rE).filter(e=>!e.fragment).map(e=>this.buildTerminalToken(e)).toArray()}buildTerminalToken(e){const t=(0,s.S)(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,i={name:e.name,PATTERN:r};return"function"==typeof r&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=(0,o.Yv)(t)?n.JG.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){const t=new RegExp(e,e.flags+"y");return(e,r)=>{t.lastIndex=r;return t.exec(e)}}buildKeywordTokens(e,t,r){return e.filter(i.s7).flatMap(e=>(0,a.Uo)(e).filter(i.wb)).distinct(e=>e.value).toArray().sort((e,t)=>t.value.length-e.value.length).map(e=>this.buildKeywordToken(e,t,Boolean(null==r?void 0:r.caseInsensitive)))}buildKeywordToken(e,t,r){const n=this.buildKeywordPattern(e,r),i={name:e.value,PATTERN:n,LONGER_ALT:this.findLongerAlt(e,t)};return"function"==typeof n&&(i.LINE_BREAKS=!0),i}buildKeywordPattern(e,t){return t?new RegExp((0,o.Ao)(e.value)):e.value}findLongerAlt(e,t){return t.reduce((t,r)=>{const n=null==r?void 0:r.PATTERN;return(null==n?void 0:n.source)&&(0,o.PC)("^"+n.source+"$",e.value)&&t.push(r),t},[])}}},2031:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2851),i=r(2528);const a=function(e,t,r,a){var s=!r;r||(r={});for(var o=-1,l=t.length;++o<l;){var c=t[o],h=a?a(r[c],e[c],c,r,e):void 0;void 0===h&&(h=e[c]),s?(0,i.A)(r,c,h):(0,n.A)(r,c,h)}return r}},2049:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=Array.isArray},2062:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(9471);const i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const a=function(e){return this.__data__.has(e)};function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.A;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=a;const o=s},2136:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis},2151:(e,t,r)=>{"use strict";r.d(t,{$g:()=>fe,Bg:()=>J,Ct:()=>_,Cz:()=>p,D8:()=>F,FO:()=>ne,Fy:()=>ge,GL:()=>ce,IZ:()=>ae,Mz:()=>we,O4:()=>ye,QX:()=>Se,RP:()=>x,S2:()=>T,SP:()=>A,TF:()=>L,Tu:()=>m,Xj:()=>U,_c:()=>te,cY:()=>ke,fG:()=>B,jp:()=>Y,lF:()=>be,r1:()=>h,rE:()=>j,s7:()=>I,vd:()=>ue,ve:()=>H,wb:()=>oe,wh:()=>Z,z2:()=>Ce});var n=r(2479);const i="AbstractRule";const a="AbstractType";const s="Condition";const o="TypeDefinition";const l="ValueLiteral";const c="AbstractElement";function h(e){return _e.isInstance(e,c)}const u="ArrayLiteral";const d="ArrayType";const f="BooleanLiteral";function p(e){return _e.isInstance(e,f)}const g="Conjunction";function m(e){return _e.isInstance(e,g)}const y="Disjunction";function x(e){return _e.isInstance(e,y)}const b="Grammar";const v="GrammarImport";const k="InferredType";function A(e){return _e.isInstance(e,k)}const w="Interface";function T(e){return _e.isInstance(e,w)}const C="NamedArgument";const S="Negation";function _(e){return _e.isInstance(e,S)}const $="NumberLiteral";const R="Parameter";const E="ParameterReference";function L(e){return _e.isInstance(e,E)}const M="ParserRule";function I(e){return _e.isInstance(e,M)}const N="ReferenceType";const O="ReturnType";function B(e){return _e.isInstance(e,O)}const D="SimpleType";function F(e){return _e.isInstance(e,D)}const P="StringLiteral";const K="TerminalRule";function j(e){return _e.isInstance(e,K)}const z="Type";function U(e){return _e.isInstance(e,z)}const W="TypeAttribute";const G="UnionType";const q="Action";function H(e){return _e.isInstance(e,q)}const V="Alternatives";function Y(e){return _e.isInstance(e,V)}const X="Assignment";function Z(e){return _e.isInstance(e,X)}const Q="CharacterRange";function J(e){return _e.isInstance(e,Q)}const ee="CrossReference";function te(e){return _e.isInstance(e,ee)}const re="EndOfFile";function ne(e){return _e.isInstance(e,re)}const ie="Group";function ae(e){return _e.isInstance(e,ie)}const se="Keyword";function oe(e){return _e.isInstance(e,se)}const le="NegatedToken";function ce(e){return _e.isInstance(e,le)}const he="RegexToken";function ue(e){return _e.isInstance(e,he)}const de="RuleCall";function fe(e){return _e.isInstance(e,de)}const pe="TerminalAlternatives";function ge(e){return _e.isInstance(e,pe)}const me="TerminalGroup";function ye(e){return _e.isInstance(e,me)}const xe="TerminalRuleCall";function be(e){return _e.isInstance(e,xe)}const ve="UnorderedGroup";function ke(e){return _e.isInstance(e,ve)}const Ae="UntilToken";function we(e){return _e.isInstance(e,Ae)}const Te="Wildcard";function Ce(e){return _e.isInstance(e,Te)}class Se extends n.kD{getAllTypes(){return[c,i,a,q,V,u,d,X,f,Q,s,g,ee,y,re,b,v,ie,k,w,se,C,le,S,$,R,E,M,N,he,O,de,D,P,pe,me,K,xe,z,W,o,G,ve,Ae,l,Te]}computeIsSubtype(e,t){switch(e){case q:case V:case X:case Q:case ee:case re:case ie:case se:case le:case he:case de:case pe:case me:case xe:case ve:case Ae:case Te:return this.isSubtype(c,t);case u:case $:case P:return this.isSubtype(l,t);case d:case N:case D:case G:return this.isSubtype(o,t);case f:return this.isSubtype(s,t)||this.isSubtype(l,t);case g:case y:case S:case E:return this.isSubtype(s,t);case k:case w:case z:return this.isSubtype(a,t);case M:return this.isSubtype(i,t)||this.isSubtype(a,t);case K:return this.isSubtype(i,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return a;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return i;case"Grammar:usedGrammars":return b;case"NamedArgument:parameter":case"ParameterReference:parameter":return R;case"TerminalRuleCall:rule":return K;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case c:return{name:c,properties:[{name:"cardinality"},{name:"lookahead"}]};case u:return{name:u,properties:[{name:"elements",defaultValue:[]}]};case d:return{name:d,properties:[{name:"elementType"}]};case f:return{name:f,properties:[{name:"true",defaultValue:!1}]};case g:return{name:g,properties:[{name:"left"},{name:"right"}]};case y:return{name:y,properties:[{name:"left"},{name:"right"}]};case b:return{name:b,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case v:return{name:v,properties:[{name:"path"}]};case k:return{name:k,properties:[{name:"name"}]};case w:return{name:w,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case C:return{name:C,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case S:return{name:S,properties:[{name:"value"}]};case $:return{name:$,properties:[{name:"value"}]};case R:return{name:R,properties:[{name:"name"}]};case E:return{name:E,properties:[{name:"parameter"}]};case M:return{name:M,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case N:return{name:N,properties:[{name:"referenceType"}]};case O:return{name:O,properties:[{name:"name"}]};case D:return{name:D,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case P:return{name:P,properties:[{name:"value"}]};case K:return{name:K,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case z:return{name:z,properties:[{name:"name"},{name:"type"}]};case W:return{name:W,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case G:return{name:G,properties:[{name:"types",defaultValue:[]}]};case q:return{name:q,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case V:return{name:V,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case X:return{name:X,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Q:return{name:Q,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case ee:return{name:ee,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case re:return{name:re,properties:[{name:"cardinality"},{name:"lookahead"}]};case ie:return{name:ie,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case se:return{name:se,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case le:return{name:le,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case he:return{name:he,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case de:return{name:de,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case pe:return{name:pe,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case me:return{name:me,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case xe:return{name:xe,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case ve:return{name:ve,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ae:return{name:Ae,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Te:return{name:Te,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const _e=new Se},2274:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(8496),i=r(3098);const a=function(e){return(0,i.A)(e)&&"[object Arguments]"==(0,n.A)(e)};var s=Object.prototype,o=s.hasOwnProperty,l=s.propertyIsEnumerable;const c=a(function(){return arguments}())?a:function(e){return(0,i.A)(e)&&o.call(e,"callee")&&!l.call(e,"callee")}},2302:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(){}},2387:(e,t,r)=>{"use strict";r.d(t,{Fr:()=>h,GX:()=>c,KX:()=>l,WW:()=>s,ue:()=>a});var n=r(7633),i=r(797),a=(0,i.K2)(e=>{const{handDrawnSeed:t}=(0,n.D7)();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),s=(0,i.K2)(e=>{const t=o([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),o=(0,i.K2)(e=>{const t=new Map;return e.forEach(e=>{const[r,n]=e.split(":");t.set(r.trim(),n?.trim())}),t},"styles2Map"),l=(0,i.K2)(e=>"color"===e||"font-size"===e||"font-family"===e||"font-weight"===e||"font-style"===e||"text-decoration"===e||"text-align"===e||"text-transform"===e||"line-height"===e||"letter-spacing"===e||"word-spacing"===e||"text-shadow"===e||"text-overflow"===e||"white-space"===e||"word-wrap"===e||"word-break"===e||"overflow-wrap"===e||"hyphens"===e,"isLabelStyle"),c=(0,i.K2)(e=>{const{stylesArray:t}=s(e),r=[],n=[],i=[],a=[];return t.forEach(e=>{const t=e[0];l(t)?r.push(e.join(":")+" !important"):(n.push(e.join(":")+" !important"),t.includes("stroke")&&i.push(e.join(":")+" !important"),"fill"===t&&a.push(e.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),h=(0,i.K2)((e,t)=>{const{themeVariables:r,handDrawnSeed:i}=(0,n.D7)(),{nodeBorder:a,mainBkg:o}=r,{stylesMap:l}=s(e);return Object.assign({roughness:.7,fill:l.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||a,seed:i,strokeWidth:l.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:u(l.get("stroke-dasharray"))},t)},"userNodeOverrides"),u=(0,i.K2)(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(1===t.length){const e=isNaN(t[0])?0:t[0];return[e,e]}return[isNaN(t[0])?0:t[0],isNaN(t[1])?0:t[1]]},"getStrokeDashArray")},2453:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});const n={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},i)=>{if(!t)return 2.55*r;e/=360,t/=100;const a=(r/=100)<.5?r*(1+t):r+t-r*t,s=2*r-a;switch(i){case"r":return 255*n.hue2rgb(s,a,e+1/3);case"g":return 255*n.hue2rgb(s,a,e);case"b":return 255*n.hue2rgb(s,a,e-1/3)}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),a=Math.min(e,t,r),s=(i+a)/2;if("l"===n)return 100*s;if(i===a)return 0;const o=i-a;if("s"===n)return 100*(s>.5?o/(2-i-a):o/(i+a));switch(i){case e:return 60*((t-r)/o+(t<r?6:0));case t:return 60*((r-e)/o+2);case r:return 60*((e-t)/o+4);default:return-1}}},i={channel:n,lang:{clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(1e10*e)/1e10},unit:{dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}}}},2479:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function a(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.type&&"string"==typeof e.path}function s(e){return"object"==typeof e&&null!==e&&n(e.container)&&i(e.reference)&&"string"==typeof e.message}r.d(t,{A_:()=>i,FC:()=>c,Nr:()=>a,Zl:()=>s,br:()=>h,kD:()=>o,mD:()=>l,ng:()=>n});class o{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return n(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});const n=r[t];if(void 0!==n)return n;{const n=this.computeIsSubtype(e,t);return r[t]=n,n}}getAllSubTypes(e){const t=this.allSubtypes[e];if(t)return t;{const t=this.getAllTypes(),r=[];for(const n of t)this.isSubtype(n,e)&&r.push(n);return this.allSubtypes[e]=r,r}}}function l(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function c(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function h(e){return l(e)&&"string"==typeof e.fullText}},2501:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n=(0,r(797).K2)(()=>"\n  /* Font Awesome icon styling - consolidated */\n  .label-icon {\n    display: inline-block;\n    height: 1em;\n    overflow: visible;\n    vertical-align: -0.125em;\n  }\n  \n  .node .label-icon path {\n    fill: currentColor;\n    stroke: revert;\n    stroke-width: revert;\n  }\n","getIconStyles")},2528:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(4171);const i=function(e,t,r){"__proto__"==t&&n.A?(0,n.A)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},2559:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1882);const i=function(e,t,r){for(var i=-1,a=e.length;++i<a;){var s=e[i],o=t(s);if(null!=o&&(void 0===l?o==o&&!(0,n.A)(o):r(o,l)))var l=o,c=s}return c}},2568:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6240),i=r(8446);const a=function(e,t){var r=-1,a=(0,i.A)(e)?Array(e.length):[];return(0,n.A)(e,function(e,n,i){a[++r]=t(e,n,i)}),a}},2634:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}},2641:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},2676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const n=r(9590);var i;!function(e){const t={dispose(){}};e.None=function(){return t}}(i||(t.Event=i={}));class a{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{t.push(r[s].apply(i[s],e))}catch(a){(0,n.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class s{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new a),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const n={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),n.dispose=s._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=s,s._noop=function(){}},2789:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(t){return e(t)}}},2806:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>d,Nt:()=>u,PC:()=>f,TH:()=>i,Yv:()=>h,lU:()=>l});var n=r(5186);const i=/\r?\n/gm,a=new n.H;class s extends n.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const t=String.fromCharCode(e.value);if(this.multiline||"\n"!==t||(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const e=u(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){const t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=Boolean("\n".match(r))}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){if("Group"===e.type){if(e.quantifier)return}super.visitChildren(e)}}const o=new s;function l(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),o.reset(e),o.visit(a.pattern(e)),o.multiline}catch(t){return!1}}const c="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function h(e){const t="string"==typeof e?new RegExp(e):e;return c.some(e=>t.test(e))}function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(e){return Array.prototype.map.call(e,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:u(e)).join("")}function f(e,t){const r=function(e){"string"==typeof e&&(e=new RegExp(e));const t=e,r=e.source;let n=0;function i(){let e,a="";function s(e){a+=r.substr(n,e),n+=e}function o(e){a+="(?:"+r.substr(n,e)+"|$)",n+=e}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":o(3);break;case"x":o(4);break;case"u":t.unicode?"{"===r[n+2]?o(r.indexOf("}",n)-n+1):o(6):o(2);break;case"p":case"P":t.unicode?o(r.indexOf("}",n)-n+1):o(2);break;case"k":o(r.indexOf(">",n)-n+1);break;default:o(2)}break;case"[":e=/\[(?:\\.|.)*?\]/g,e.lastIndex=n,e=e.exec(r)||[],o(e[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":s(1);break;case"{":e=/\{\d+,?\d*\}/g,e.lastIndex=n,e=e.exec(r),e?s(e[0].length):o(1);break;case"(":if("?"===r[n+1])switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":e=n,n+=3,i(),a+=r.substr(e,n-e);break;case"<":switch(r[n+3]){case"=":case"!":e=n,n+=4,i(),a+=r.substr(e,n-e);break;default:s(r.indexOf(">",n)-n+1),a+=i()+"|$)"}}else s(1),a+=i()+"|$)";break;case")":return++n,a;default:o(1)}return a}return new RegExp(i(),e.flags)}(e),n=t.match(r);return!!n&&n[0].length>0}},2837:(e,t,r)=>{"use strict";r.d(t,{A:()=>N});var n=r(1754),i=r(2528),a=r(6984);const s=function(e,t,r){(void 0!==r&&!(0,a.A)(e[t],r)||void 0===r&&!(t in e))&&(0,i.A)(e,t,r)};var o=r(4574),l=r(154),c=r(1801),h=r(9759),u=r(8598),d=r(2274),f=r(2049),p=r(3533),g=r(9912),m=r(9610),y=r(3149),x=r(8496),b=r(5647),v=r(3098),k=Function.prototype,A=Object.prototype,w=k.toString,T=A.hasOwnProperty,C=w.call(Object);const S=function(e){if(!(0,v.A)(e)||"[object Object]"!=(0,x.A)(e))return!1;var t=(0,b.A)(e);if(null===t)return!0;var r=T.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&w.call(r)==C};var _=r(3858);const $=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var R=r(2031),E=r(5615);const L=function(e){return(0,R.A)(e,(0,E.A)(e))};const M=function(e,t,r,n,i,a,o){var x=$(e,r),b=$(t,r),v=o.get(b);if(v)s(e,r,v);else{var k=a?a(x,b,r+"",e,t,o):void 0,A=void 0===k;if(A){var w=(0,f.A)(b),T=!w&&(0,g.A)(b),C=!w&&!T&&(0,_.A)(b);k=b,w||T||C?(0,f.A)(x)?k=x:(0,p.A)(x)?k=(0,h.A)(x):T?(A=!1,k=(0,l.A)(b,!0)):C?(A=!1,k=(0,c.A)(b,!0)):k=[]:S(b)||(0,d.A)(b)?(k=x,(0,d.A)(x)?k=L(x):(0,y.A)(x)&&!(0,m.A)(x)||(k=(0,u.A)(b))):A=!1}A&&(o.set(b,k),i(k,b,n,a,o),o.delete(b)),s(e,r,k)}};const I=function e(t,r,i,a,l){t!==r&&(0,o.A)(r,function(o,c){if(l||(l=new n.A),(0,y.A)(o))M(t,r,c,i,e,a,l);else{var h=a?a($(t,c),o,c+"",t,r,l):void 0;void 0===h&&(h=o),s(t,c,h)}},E.A)};const N=(0,r(3767).A)(function(e,t,r){I(e,t,r)})},2851:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2528),i=r(6984),a=Object.prototype.hasOwnProperty;const s=function(e,t,r){var s=e[t];a.call(e,t)&&(0,i.A)(s,r)&&(void 0!==r||t in e)||(0,n.A)(e,t,r)}},3068:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(4326),i=r(6984),a=r(6832),s=r(5615),o=Object.prototype,l=o.hasOwnProperty;const c=(0,n.A)(function(e,t){e=Object(e);var r=-1,n=t.length,c=n>2?t[2]:void 0;for(c&&(0,a.A)(t[0],t[1],c)&&(n=1);++r<n;)for(var h=t[r],u=(0,s.A)(h),d=-1,f=u.length;++d<f;){var p=u[d],g=e[p];(void 0===g||(0,i.A)(g,o[p])&&!l.call(e,p))&&(e[p]=h[p])}return e})},3098:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return null!=e&&"object"==typeof e}},3122:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,Z:()=>a});var n=r(2453);const i={};for(let s=0;s<=255;s++)i[s]=n.A.unit.dec2hex(s);const a={ALL:0,RGB:1,HSL:2}},3149:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3153:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(){return[]}},3219:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2453),i=r(4886);const a=e=>{const{r:t,g:r,b:a}=i.A.parse(e),s=.2126*n.A.channel.toLinear(t)+.7152*n.A.channel.toLinear(r)+.0722*n.A.channel.toLinear(a);return n.A.lang.round(s)},s=e=>a(e)>=.5,o=e=>!s(e)},3226:(e,t,r)=>{"use strict";r.d(t,{$C:()=>$,$t:()=>W,C4:()=>q,I5:()=>U,Ib:()=>m,KL:()=>Y,Sm:()=>H,Un:()=>B,_K:()=>G,bH:()=>I,dq:()=>j,pe:()=>c,rY:()=>V,ru:()=>O,sM:()=>S,vU:()=>p,yT:()=>E});var n=r(7633),i=r(797),a=r(6750),s=r(451),o=r(6632),l=r(2837),c="\u200b",h={curveBasis:s.qrM,curveBasisClosed:s.Yu4,curveBasisOpen:s.IA3,curveBumpX:s.Wi0,curveBumpY:s.PGM,curveBundle:s.OEq,curveCardinalClosed:s.olC,curveCardinalOpen:s.IrU,curveCardinal:s.y8u,curveCatmullRomClosed:s.Q7f,curveCatmullRomOpen:s.cVp,curveCatmullRom:s.oDi,curveLinear:s.lUB,curveLinearClosed:s.Lx9,curveMonotoneX:s.nVG,curveMonotoneY:s.uxU,curveNatural:s.Xf2,curveStep:s.GZz,curveStepAfter:s.UPb,curveStepBefore:s.dyv},u=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,d=(0,i.K2)(function(e,t){const r=f(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const e=r.map(e=>e.args);(0,n.$i)(e),i=(0,n.hH)(i,[...e])}else i=r.args;if(!i)return;let a=(0,n.Ch)(e,t);const s="config";return void 0!==i[s]&&("flowchart-v2"===a&&(a="flowchart"),i[a]=i[s],delete i[s]),i},"detectInit"),f=(0,i.K2)(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${u.source})(?=[}][%]{2}).*\n`,"ig");let a;e=e.trim().replace(r,"").replace(/'/gm,'"'),i.Rm.debug(`Detecting diagram directive${null!==t?" type:"+t:""} based on the text:${e}`);const s=[];for(;null!==(a=n.DB.exec(e));)if(a.index===n.DB.lastIndex&&n.DB.lastIndex++,a&&!t||t&&a[1]?.match(t)||t&&a[2]?.match(t)){const e=a[1]?a[1]:a[2],t=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:e,args:t})}return 0===s.length?{type:e,args:null}:1===s.length?s[0]:s}catch(r){return i.Rm.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),p=(0,i.K2)(function(e){return e.replace(n.DB,"")},"removeDirectives"),g=(0,i.K2)(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function m(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return h[r]??t}function y(e,t){const r=e.trim();if(r)return"loose"!==t.securityLevel?(0,a.J)(r):r}(0,i.K2)(m,"interpolateToCurve"),(0,i.K2)(y,"formatUrl");var x=(0,i.K2)((e,...t)=>{const r=e.split("."),n=r.length-1,a=r[n];let s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s)return void i.Rm.error(`Function name: ${e} not found in window`);s[a](...t)},"runFunc");function b(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function v(e){let t,r=0;e.forEach(e=>{r+=b(e,t),t=e});return w(e,r/2)}function k(e){return 1===e.length?e[0]:v(e)}(0,i.K2)(b,"distance"),(0,i.K2)(v,"traverseEdge"),(0,i.K2)(k,"calcLabelPosition");var A=(0,i.K2)((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),w=(0,i.K2)((e,t)=>{let r,n=t;for(const i of e){if(r){const e=b(i,r);if(0===e)return r;if(e<n)n-=e;else{const t=n/e;if(t<=0)return r;if(t>=1)return{x:i.x,y:i.y};if(t>0&&t<1)return{x:A((1-t)*r.x+t*i.x,5),y:A((1-t)*r.y+t*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),T=(0,i.K2)((e,t,r)=>{i.Rm.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const n=w(t,25),a=e?10:5,s=Math.atan2(t[0].y-n.y,t[0].x-n.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(t[0].x+n.x)/2,o.y=-Math.cos(s)*a+(t[0].y+n.y)/2,o},"calcCardinalityPosition");function C(e,t,r){const n=structuredClone(r);i.Rm.info("our points",n),"start_left"!==t&&"start_right"!==t&&n.reverse();const a=w(n,25+e),s=10+.5*e,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return"start_left"===t?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):"end_right"===t?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):"end_left"===t?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}function S(e){let t="",r="";for(const n of e)void 0!==n&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}(0,i.K2)(C,"calcTerminalLabelPosition"),(0,i.K2)(S,"getStylesFromArray");var _=0,$=(0,i.K2)(()=>(_++,"id-"+Math.random().toString(36).substr(2,12)+"-"+_),"generateId");function R(e){let t="";const r="0123456789abcdef";for(let n=0;n<e;n++)t+=r.charAt(Math.floor(16*Math.random()));return t}(0,i.K2)(R,"makeRandomHex");var E=(0,i.K2)(e=>R(e.length),"random"),L=(0,i.K2)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),M=(0,i.K2)(function(e,t){const r=t.text.replace(n.Y2.lineBreakRegex," "),[,i]=U(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",i),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),void 0!==t.class&&a.attr("class",t.class);const s=a.append("tspan");return s.attr("x",t.x+2*t.textMargin),s.attr("fill",t.fill),s.text(r),a},"drawSimpleText"),I=(0,o.A)((e,t,r)=>{if(!e)return e;if(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),n.Y2.lineBreakRegex.test(e))return e;const i=e.split(" ").filter(Boolean),a=[];let s="";return i.forEach((e,n)=>{const o=B(`${e} `,r),l=B(s,r);if(o>t){const{hyphenatedStrings:n,remainingWord:i}=N(e,t,"-",r);a.push(s,...n),s=i}else l+o>=t?(a.push(s),s=e):s=[s,e].filter(Boolean).join(" ");n+1===i.length&&a.push(s)}),a.filter(e=>""!==e).join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),N=(0,o.A)((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let s="";return i.forEach((e,o)=>{const l=`${s}${e}`;if(B(l,n)>=t){const e=o+1,t=i.length===e,n=`${l}${r}`;a.push(t?l:n),s=""}else s=l}),{hyphenatedStrings:a,remainingWord:s}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function O(e,t){return F(e,t).height}function B(e,t){return F(e,t).width}(0,i.K2)(O,"calculateTextHeight"),(0,i.K2)(B,"calculateTextWidth");var D,F=(0,o.A)((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,o]=U(r),l=["sans-serif",i],h=e.split(n.Y2.lineBreakRegex),u=[],d=(0,s.Ltv)("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const f=d.append("svg");for(const n of l){let e=0;const t={width:0,height:0,lineHeight:0};for(const r of h){const i=L();i.text=r||c;const s=M(f,i).style("font-size",o).style("font-weight",a).style("font-family",n),l=(s._groups||s)[0][0].getBBox();if(0===l.width&&0===l.height)throw new Error("svg element not in render tree");t.width=Math.round(Math.max(t.width,l.width)),e=Math.round(l.height),t.height+=e,t.lineHeight=Math.round(Math.max(t.lineHeight,e))}u.push(t)}f.remove();return u[isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),P=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{(0,i.K2)(this,"InitIDGenerator")}},K=(0,i.K2)(function(e){return D=D||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),D.innerHTML=e,unescape(D.textContent)},"entityDecode");function j(e){return"str"in e}(0,i.K2)(j,"isDetailedError");var z=(0,i.K2)((e,t,r,n)=>{if(!n)return;const i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),U=(0,i.K2)(e=>{if("number"==typeof e)return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function W(e,t){return(0,l.A)({},e,t)}(0,i.K2)(W,"cleanAndMerge");var G={assignWithDepth:n.hH,wrapLabel:I,calculateTextHeight:O,calculateTextWidth:B,calculateTextDimensions:F,cleanAndMerge:W,detectInit:d,detectDirective:f,isSubstringInArray:g,interpolateToCurve:m,calcLabelPosition:k,calcCardinalityPosition:T,calcTerminalLabelPosition:C,formatUrl:y,getStylesFromArray:S,generateId:$,random:E,runFunc:x,entityDecode:K,insertTitle:z,isLabelCoordinateInPath:X,parseFontSize:U,InitIDGenerator:P},q=(0,i.K2)(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?"\ufb02\xb0\xb0"+t+"\xb6\xdf":"\ufb02\xb0"+t+"\xb6\xdf"}),t},"encodeEntities"),H=(0,i.K2)(function(e){return e.replace(/\ufb02\xb0\xb0/g,"&#").replace(/\ufb02\xb0/g,"&").replace(/\xb6\xdf/g,";")},"decodeEntities"),V=(0,i.K2)((e,t,{counter:r=0,prefix:n,suffix:i},a)=>a||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function Y(e){return e??null}function X(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,e=>Math.round(parseFloat(e)).toString());return i.includes(r.toString())||i.includes(n.toString())}(0,i.K2)(Y,"handleUndefinedAttr"),(0,i.K2)(X,"isLabelCoordinateInPath")},3245:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n=(0,r(797).K2)(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:t+r}},"getSubGraphTitleMargins")},3511:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6912),i=r(5647),a=r(4792),s=r(3153);const o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,n.A)(t,(0,a.A)(e)),e=(0,i.A)(e);return t}:s.A},3533:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8446),i=r(3098);const a=function(e){return(0,i.A)(e)&&(0,n.A)(e)}},3539:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2453),i=r(3122);const a=class{constructor(){this.type=i.Z.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=i.Z.ALL}is(e){return this.type===e}};const s=new class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new a}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=i.Z.ALL,this}_ensureHSL(){const e=this.data,{h:t,s:r,l:i}=e;void 0===t&&(e.h=n.A.channel.rgb2hsl(e,"h")),void 0===r&&(e.s=n.A.channel.rgb2hsl(e,"s")),void 0===i&&(e.l=n.A.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:r,b:i}=e;void 0===t&&(e.r=n.A.channel.hsl2rgb(e,"r")),void 0===r&&(e.g=n.A.channel.hsl2rgb(e,"g")),void 0===i&&(e.b=n.A.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"r")):t}get g(){const e=this.data,t=e.g;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"g")):t}get b(){const e=this.data,t=e.b;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"b")):t}get h(){const e=this.data,t=e.h;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"h")):t}get s(){const e=this.data,t=e.s;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"s")):t}get l(){const e=this.data,t=e.l;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}({r:0,g:0,b:0,a:0},"transparent")},3588:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(6912),i=r(241),a=r(2274),s=r(2049),o=i.A?i.A.isConcatSpreadable:void 0;const l=function(e){return(0,s.A)(e)||(0,a.A)(e)||!!(o&&e&&e[o])};const c=function e(t,r,i,a,s){var o=-1,c=t.length;for(i||(i=l),s||(s=[]);++o<c;){var h=t[o];r>0&&i(h)?r>1?e(h,r-1,i,a,s):(0,n.A)(s,h):a||(s[s.length]=h)}return s}},3590:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(7633),i=r(797),a=r(451),s=(0,i.K2)(e=>{const{securityLevel:t}=(0,n.D7)();let r=(0,a.Ltv)("body");if("sandbox"===t){const t=(0,a.Ltv)(`#i${e}`),n=t.node()?.contentDocument??document;r=(0,a.Ltv)(n.body)}return r.select(`#${e}`)},"selectSvgElement")},3607:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});const n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var i=r(2274),a=r(2049),s=r(9912),o=r(5353),l=r(3858),c=Object.prototype.hasOwnProperty;const h=function(e,t){var r=(0,a.A)(e),h=!r&&(0,i.A)(e),u=!r&&!h&&(0,s.A)(e),d=!r&&!h&&!u&&(0,l.A)(e),f=r||h||u||d,p=f?n(e.length,String):[],g=p.length;for(var m in e)!t&&!c.call(e,m)||f&&("length"==m||u&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,o.A)(m,g))||p.push(m);return p}},3736:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},3767:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4326),i=r(6832);const a=function(e){return(0,n.A)(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,o&&(0,i.A)(r[0],r[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,s)}return t})}},3831:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6912),i=r(2049);const a=function(e,t,r){var a=t(e);return(0,i.A)(e)?a:(0,n.A)(a,r(e))}},3858:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(8496),i=r(5254),a=r(3098),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;const o=function(e){return(0,a.A)(e)&&(0,i.A)(e.length)&&!!s[(0,n.A)(e)]};var l=r(2789),c=r(4841),h=c.A&&c.A.isTypedArray;const u=h?(0,l.A)(h):o},3958:(e,t,r)=>{"use strict";r.d(t,{A:()=>H});var n=r(1754),i=r(2062),a=r(3736),s=r(4099);const o=function(e,t,r,n,o,l){var c=1&r,h=e.length,u=t.length;if(h!=u&&!(c&&u>h))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,m=2&r?new i.A:void 0;for(l.set(e,t),l.set(t,e);++p<h;){var y=e[p],x=t[p];if(n)var b=c?n(x,y,p,t,e,l):n(y,x,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!(0,a.A)(t,function(e,t){if(!(0,s.A)(m,t)&&(y===e||o(y,e,r,n,l)))return m.push(t)})){g=!1;break}}else if(y!==x&&!o(y,x,r,n,l)){g=!1;break}}return l.delete(e),l.delete(t),g};var l=r(241),c=r(3988),h=r(6984);const u=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r};var d=r(9959),f=l.A?l.A.prototype:void 0,p=f?f.valueOf:void 0;const g=function(e,t,r,n,i,a,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new c.A(e),new c.A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,h.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=u;case"[object Set]":var f=1&n;if(l||(l=d.A),e.size!=t.size&&!f)return!1;var g=s.get(e);if(g)return g==t;n|=2,s.set(e,t);var m=o(l(e),l(t),n,i,a,s);return s.delete(e),m;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1};var m=r(9042),y=Object.prototype.hasOwnProperty;const x=function(e,t,r,n,i,a){var s=1&r,o=(0,m.A)(e),l=o.length;if(l!=(0,m.A)(t).length&&!s)return!1;for(var c=l;c--;){var h=o[c];if(!(s?h in t:y.call(t,h)))return!1}var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=s;++c<l;){var g=e[h=o[c]],x=t[h];if(n)var b=s?n(x,g,h,t,e,a):n(g,x,h,e,t,a);if(!(void 0===b?g===x||i(g,x,r,n,a):b)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var v=e.constructor,k=t.constructor;v==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof k&&k instanceof k||(f=!1)}return a.delete(e),a.delete(t),f};var b=r(9779),v=r(2049),k=r(9912),A=r(3858),w="[object Arguments]",T="[object Array]",C="[object Object]",S=Object.prototype.hasOwnProperty;const _=function(e,t,r,i,a,s){var l=(0,v.A)(e),c=(0,v.A)(t),h=l?T:(0,b.A)(e),u=c?T:(0,b.A)(t),d=(h=h==w?C:h)==C,f=(u=u==w?C:u)==C,p=h==u;if(p&&(0,k.A)(e)){if(!(0,k.A)(t))return!1;l=!0,d=!1}if(p&&!d)return s||(s=new n.A),l||(0,A.A)(e)?o(e,t,r,i,a,s):g(e,t,h,r,i,a,s);if(!(1&r)){var m=d&&S.call(e,"__wrapped__"),y=f&&S.call(t,"__wrapped__");if(m||y){var _=m?e.value():e,$=y?t.value():t;return s||(s=new n.A),a(_,$,r,i,s)}}return!!p&&(s||(s=new n.A),x(e,t,r,i,a,s))};var $=r(3098);const R=function e(t,r,n,i,a){return t===r||(null==t||null==r||!(0,$.A)(t)&&!(0,$.A)(r)?t!=t&&r!=r:_(t,r,n,i,e,a))};const E=function(e,t,r,i){var a=r.length,s=a,o=!i;if(null==e)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=r[a])[0],h=e[c],u=l[1];if(o&&l[2]){if(void 0===h&&!(c in e))return!1}else{var d=new n.A;if(i)var f=i(h,u,c,e,t,d);if(!(void 0===f?R(u,h,3,i,d):f))return!1}}return!0};var L=r(3149);const M=function(e){return e==e&&!(0,L.A)(e)};var I=r(7422);const N=function(e){for(var t=(0,I.A)(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,M(i)]}return t};const O=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};const B=function(e){var t=N(e);return 1==t.length&&t[0][2]?O(t[0][0],t[0][1]):function(r){return r===e||E(r,e,t)}};var D=r(6318);const F=function(e,t,r){var n=null==e?void 0:(0,D.A)(e,t);return void 0===n?r:n};var P=r(9188),K=r(6586),j=r(901);const z=function(e,t){return(0,K.A)(e)&&M(t)?O((0,j.A)(e),t):function(r){var n=F(r,e);return void 0===n&&n===t?(0,P.A)(r,e):R(t,n,3)}};var U=r(9008),W=r(805);const G=function(e){return function(t){return(0,D.A)(t,e)}};const q=function(e){return(0,K.A)(e)?(0,W.A)((0,j.A)(e)):G(e)};const H=function(e){return"function"==typeof e?e:null==e?U.A:"object"==typeof e?(0,v.A)(e)?z(e[0],e[1]):B(e):q(e)}},3973:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(3831),i=r(3511),a=r(5615);const s=function(e){return(0,n.A)(e,a.A,i.A)}},3981:(e,t,r)=>{"use strict";r.d(t,{H:()=>rr,r:()=>tr});var n=r(797);function i(e){return null==e}function a(e){return"object"==typeof e&&null!==e}function s(e){return Array.isArray(e)?e:i(e)?[]:[e]}function o(e,t){var r,n,i,a;if(t)for(r=0,n=(a=Object.keys(t)).length;r<n;r+=1)e[i=a[r]]=t[i];return e}function l(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n}function c(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}(0,n.K2)(i,"isNothing"),(0,n.K2)(a,"isObject"),(0,n.K2)(s,"toArray"),(0,n.K2)(o,"extend"),(0,n.K2)(l,"repeat"),(0,n.K2)(c,"isNegativeZero");var h={isNothing:i,isObject:a,toArray:s,repeat:l,isNegativeZero:c,extend:o};function u(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function d(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=u(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(0,n.K2)(u,"formatError"),(0,n.K2)(d,"YAMLException$1"),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=(0,n.K2)(function(e){return this.name+": "+u(this,e)},"toString");var f=d;function p(e,t,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-t>o&&(t=n-o+(a=" ... ").length),r-n>o&&(r=n+o-(s=" ...").length),{str:a+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+a.length}}function g(e,t){return h.repeat(" ",t-e.length)+e}function m(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],a=[],s=-1;r=n.exec(e.buffer);)a.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o,l,c="",u=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+u+3);for(o=1;o<=t.linesBefore&&!(s-o<0);o++)l=p(e.buffer,i[s-o],a[s-o],e.position-(i[s]-i[s-o]),d),c=h.repeat(" ",t.indent)+g((e.line-o+1).toString(),u)+" | "+l.str+"\n"+c;for(l=p(e.buffer,i[s],a[s],e.position,d),c+=h.repeat(" ",t.indent)+g((e.line+1).toString(),u)+" | "+l.str+"\n",c+=h.repeat("-",t.indent+u+3+l.pos)+"^\n",o=1;o<=t.linesAfter&&!(s+o>=a.length);o++)l=p(e.buffer,i[s+o],a[s+o],e.position-(i[s]-i[s+o]),d),c+=h.repeat(" ",t.indent)+g((e.line+o+1).toString(),u)+" | "+l.str+"\n";return c.replace(/\n$/,"")}(0,n.K2)(p,"getLine"),(0,n.K2)(g,"padStart"),(0,n.K2)(m,"makeSnippet");var y=m,x=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],b=["scalar","sequence","mapping"];function v(e){var t={};return null!==e&&Object.keys(e).forEach(function(r){e[r].forEach(function(e){t[String(e)]=r})}),t}function k(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===x.indexOf(t))throw new f('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=v(t.styleAliases||null),-1===b.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}(0,n.K2)(v,"compileStyleAliases"),(0,n.K2)(k,"Type$1");var A=k;function w(e,t){var r=[];return e[t].forEach(function(e){var t=r.length;r.forEach(function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)}),r[t]=e}),r}function T(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for((0,n.K2)(i,"collectType"),e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return r}function C(e){return this.extend(e)}(0,n.K2)(w,"compileList"),(0,n.K2)(T,"compileMap"),(0,n.K2)(C,"Schema$1"),C.prototype.extend=(0,n.K2)(function(e){var t=[],r=[];if(e instanceof A)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new f("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof A))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new f("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new f("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(e){if(!(e instanceof A))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(C.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=w(n,"implicit"),n.compiledExplicit=w(n,"explicit"),n.compiledTypeMap=T(n.compiledImplicit,n.compiledExplicit),n},"extend");var S=new C({explicit:[new A("tag:yaml.org,2002:str",{kind:"scalar",construct:(0,n.K2)(function(e){return null!==e?e:""},"construct")}),new A("tag:yaml.org,2002:seq",{kind:"sequence",construct:(0,n.K2)(function(e){return null!==e?e:[]},"construct")}),new A("tag:yaml.org,2002:map",{kind:"mapping",construct:(0,n.K2)(function(e){return null!==e?e:{}},"construct")})]});function _(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function $(){return null}function R(e){return null===e}(0,n.K2)(_,"resolveYamlNull"),(0,n.K2)($,"constructYamlNull"),(0,n.K2)(R,"isNull");var E=new A("tag:yaml.org,2002:null",{kind:"scalar",resolve:_,construct:$,predicate:R,represent:{canonical:(0,n.K2)(function(){return"~"},"canonical"),lowercase:(0,n.K2)(function(){return"null"},"lowercase"),uppercase:(0,n.K2)(function(){return"NULL"},"uppercase"),camelcase:(0,n.K2)(function(){return"Null"},"camelcase"),empty:(0,n.K2)(function(){return""},"empty")},defaultStyle:"lowercase"});function L(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function M(e){return"true"===e||"True"===e||"TRUE"===e}function I(e){return"[object Boolean]"===Object.prototype.toString.call(e)}(0,n.K2)(L,"resolveYamlBoolean"),(0,n.K2)(M,"constructYamlBoolean"),(0,n.K2)(I,"isBoolean");var N=new A("tag:yaml.org,2002:bool",{kind:"scalar",resolve:L,construct:M,predicate:I,represent:{lowercase:(0,n.K2)(function(e){return e?"true":"false"},"lowercase"),uppercase:(0,n.K2)(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:(0,n.K2)(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function O(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function B(e){return 48<=e&&e<=55}function D(e){return 48<=e&&e<=57}function F(e){if(null===e)return!1;var t,r=e.length,n=0,i=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!O(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!B(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!D(e.charCodeAt(n)))return!1;i=!0}return!(!i||"_"===t)}function P(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)}function K(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!h.isNegativeZero(e)}(0,n.K2)(O,"isHexCode"),(0,n.K2)(B,"isOctCode"),(0,n.K2)(D,"isDecCode"),(0,n.K2)(F,"resolveYamlInteger"),(0,n.K2)(P,"constructYamlInteger"),(0,n.K2)(K,"isInteger");var j=new A("tag:yaml.org,2002:int",{kind:"scalar",resolve:F,construct:P,predicate:K,represent:{binary:(0,n.K2)(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:(0,n.K2)(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:(0,n.K2)(function(e){return e.toString(10)},"decimal"),hexadecimal:(0,n.K2)(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function U(e){return null!==e&&!(!z.test(e)||"_"===e[e.length-1])}function W(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)}(0,n.K2)(U,"resolveYamlFloat"),(0,n.K2)(W,"constructYamlFloat");var G=/^[-+]?[0-9]+e/;function q(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(h.isNegativeZero(e))return"-0.0";return r=e.toString(10),G.test(r)?r.replace("e",".e"):r}function H(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||h.isNegativeZero(e))}(0,n.K2)(q,"representYamlFloat"),(0,n.K2)(H,"isFloat");var V=new A("tag:yaml.org,2002:float",{kind:"scalar",resolve:U,construct:W,predicate:H,represent:q,defaultStyle:"lowercase"}),Y=S.extend({implicit:[E,N,j,V]}),X=Y,Z=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Q=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function J(e){return null!==e&&(null!==Z.exec(e)||null!==Q.exec(e))}function ee(e){var t,r,n,i,a,s,o,l,c=0,h=null;if(null===(t=Z.exec(e))&&(t=Q.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],s=+t[5],o=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(h=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(h=-h)),l=new Date(Date.UTC(r,n,i,a,s,o,c)),h&&l.setTime(l.getTime()-h),l}function te(e){return e.toISOString()}(0,n.K2)(J,"resolveYamlTimestamp"),(0,n.K2)(ee,"constructYamlTimestamp"),(0,n.K2)(te,"representYamlTimestamp");var re=new A("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:J,construct:ee,instanceOf:Date,represent:te});function ne(e){return"<<"===e||null===e}(0,n.K2)(ne,"resolveYamlMerge");var ie=new A("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ne}),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function se(e){if(null===e)return!1;var t,r,n=0,i=e.length,a=ae;for(r=0;r<i;r++)if(!((t=a.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0}function oe(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=ae,s=0,o=[];for(t=0;t<i;t++)t%4==0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)),s=s<<6|a.indexOf(n.charAt(t));return 0===(r=i%4*6)?(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)):18===r?(o.push(s>>10&255),o.push(s>>2&255)):12===r&&o.push(s>>4&255),new Uint8Array(o)}function le(e){var t,r,n="",i=0,a=e.length,s=ae;for(t=0;t<a;t++)t%3==0&&t&&(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]),i=(i<<8)+e[t];return 0===(r=a%3)?(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]):2===r?(n+=s[i>>10&63],n+=s[i>>4&63],n+=s[i<<2&63],n+=s[64]):1===r&&(n+=s[i>>2&63],n+=s[i<<4&63],n+=s[64],n+=s[64]),n}function ce(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}(0,n.K2)(se,"resolveYamlBinary"),(0,n.K2)(oe,"constructYamlBinary"),(0,n.K2)(le,"representYamlBinary"),(0,n.K2)(ce,"isBinary");var he=new A("tag:yaml.org,2002:binary",{kind:"scalar",resolve:se,construct:oe,predicate:ce,represent:le}),ue=Object.prototype.hasOwnProperty,de=Object.prototype.toString;function fe(e){if(null===e)return!0;var t,r,n,i,a,s=[],o=e;for(t=0,r=o.length;t<r;t+=1){if(n=o[t],a=!1,"[object Object]"!==de.call(n))return!1;for(i in n)if(ue.call(n,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==s.indexOf(i))return!1;s.push(i)}return!0}function pe(e){return null!==e?e:[]}(0,n.K2)(fe,"resolveYamlOmap"),(0,n.K2)(pe,"constructYamlOmap");var ge=new A("tag:yaml.org,2002:omap",{kind:"sequence",resolve:fe,construct:pe}),me=Object.prototype.toString;function ye(e){if(null===e)return!0;var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],"[object Object]"!==me.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;a[t]=[i[0],n[i[0]]]}return!0}function xe(e){if(null===e)return[];var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}(0,n.K2)(ye,"resolveYamlPairs"),(0,n.K2)(xe,"constructYamlPairs");var be=new A("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ye,construct:xe}),ve=Object.prototype.hasOwnProperty;function ke(e){if(null===e)return!0;var t,r=e;for(t in r)if(ve.call(r,t)&&null!==r[t])return!1;return!0}function Ae(e){return null!==e?e:{}}(0,n.K2)(ke,"resolveYamlSet"),(0,n.K2)(Ae,"constructYamlSet");var we=new A("tag:yaml.org,2002:set",{kind:"mapping",resolve:ke,construct:Ae}),Te=X.extend({implicit:[re,ie],explicit:[he,ge,be,we]}),Ce=Object.prototype.hasOwnProperty,Se=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_e=/[\x85\u2028\u2029]/,$e=/[,\[\]\{\}]/,Re=/^(?:!|!!|![a-z\-]+!)$/i,Ee=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Le(e){return Object.prototype.toString.call(e)}function Me(e){return 10===e||13===e}function Ie(e){return 9===e||32===e}function Ne(e){return 9===e||32===e||10===e||13===e}function Oe(e){return 44===e||91===e||93===e||123===e||125===e}function Be(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function De(e){return 120===e?2:117===e?4:85===e?8:0}function Fe(e){return 48<=e&&e<=57?e-48:-1}function Pe(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function Ke(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}(0,n.K2)(Le,"_class"),(0,n.K2)(Me,"is_EOL"),(0,n.K2)(Ie,"is_WHITE_SPACE"),(0,n.K2)(Ne,"is_WS_OR_EOL"),(0,n.K2)(Oe,"is_FLOW_INDICATOR"),(0,n.K2)(Be,"fromHexCode"),(0,n.K2)(De,"escapedHexLen"),(0,n.K2)(Fe,"fromDecimalCode"),(0,n.K2)(Pe,"simpleEscapeSequence"),(0,n.K2)(Ke,"charFromCodepoint");var je,ze=new Array(256),Ue=new Array(256);for(je=0;je<256;je++)ze[je]=Pe(je)?1:0,Ue[je]=Pe(je);function We(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Te,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ge(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=y(r),new f(t,r)}function qe(e,t){throw Ge(e,t)}function He(e,t){e.onWarning&&e.onWarning.call(null,Ge(e,t))}(0,n.K2)(We,"State$1"),(0,n.K2)(Ge,"generateError"),(0,n.K2)(qe,"throwError"),(0,n.K2)(He,"throwWarning");var Ve={YAML:(0,n.K2)(function(e,t,r){var n,i,a;null!==e.version&&qe(e,"duplication of %YAML directive"),1!==r.length&&qe(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&qe(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),a=parseInt(n[2],10),1!==i&&qe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&He(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:(0,n.K2)(function(e,t,r){var n,i;2!==r.length&&qe(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],Re.test(n)||qe(e,"ill-formed tag handle (first argument) of the TAG directive"),Ce.call(e.tagMap,n)&&qe(e,'there is a previously declared suffix for "'+n+'" tag handle'),Ee.test(i)||qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(a){qe(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i},"handleTagDirective")};function Ye(e,t,r,n){var i,a,s,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,a=o.length;i<a;i+=1)9===(s=o.charCodeAt(i))||32<=s&&s<=1114111||qe(e,"expected valid JSON character");else Se.test(o)&&qe(e,"the stream contains non-printable characters");e.result+=o}}function Xe(e,t,r,n){var i,a,s,o;for(h.isObject(r)||qe(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,o=(i=Object.keys(r)).length;s<o;s+=1)a=i[s],Ce.call(t,a)||(t[a]=r[a],n[a]=!0)}function Ze(e,t,r,n,i,a,s,o,l){var c,h;if(Array.isArray(i))for(c=0,h=(i=Array.prototype.slice.call(i)).length;c<h;c+=1)Array.isArray(i[c])&&qe(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Le(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===Le(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(a))for(c=0,h=a.length;c<h;c+=1)Xe(e,t,a[c],r);else Xe(e,t,a,r);else e.json||Ce.call(r,i)||!Ce.call(t,i)||(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,qe(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function Qe(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):qe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Je(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;Ie(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!Me(i))break;for(Qe(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&He(e,"deficient indentation"),n}function et(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!Ne(t)))}function tt(e,t){1===t?e.result+=" ":t>1&&(e.result+=h.repeat("\n",t-1))}function rt(e,t,r){var n,i,a,s,o,l,c,h,u=e.kind,d=e.result;if(Ne(h=e.input.charCodeAt(e.position))||Oe(h)||35===h||38===h||42===h||33===h||124===h||62===h||39===h||34===h||37===h||64===h||96===h)return!1;if((63===h||45===h)&&(Ne(n=e.input.charCodeAt(e.position+1))||r&&Oe(n)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,s=!1;0!==h;){if(58===h){if(Ne(n=e.input.charCodeAt(e.position+1))||r&&Oe(n))break}else if(35===h){if(Ne(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&et(e)||r&&Oe(h))break;if(Me(h)){if(o=e.line,l=e.lineStart,c=e.lineIndent,Je(e,!1,-1),e.lineIndent>=t){s=!0,h=e.input.charCodeAt(e.position);continue}e.position=a,e.line=o,e.lineStart=l,e.lineIndent=c;break}}s&&(Ye(e,i,a,!1),tt(e,e.line-o),i=a=e.position,s=!1),Ie(h)||(a=e.position+1),h=e.input.charCodeAt(++e.position)}return Ye(e,i,a,!1),!!e.result||(e.kind=u,e.result=d,!1)}function nt(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Ye(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else Me(r)?(Ye(e,n,i,!0),tt(e,Je(e,!1,t)),n=i=e.position):e.position===e.lineStart&&et(e)?qe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);qe(e,"unexpected end of the stream within a single quoted scalar")}function it(e,t){var r,n,i,a,s,o;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return Ye(e,r,e.position,!0),e.position++,!0;if(92===o){if(Ye(e,r,e.position,!0),Me(o=e.input.charCodeAt(++e.position)))Je(e,!1,t);else if(o<256&&ze[o])e.result+=Ue[o],e.position++;else if((s=De(o))>0){for(i=s,a=0;i>0;i--)(s=Be(o=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+s:qe(e,"expected hexadecimal character");e.result+=Ke(a),e.position++}else qe(e,"unknown escape sequence");r=n=e.position}else Me(o)?(Ye(e,r,n,!0),tt(e,Je(e,!1,t)),r=n=e.position):e.position===e.lineStart&&et(e)?qe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}qe(e,"unexpected end of the stream within a double quoted scalar")}function at(e,t){var r,n,i,a,s,o,l,c,h,u,d,f,p=!0,g=e.tag,m=e.anchor,y=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))s=93,c=!1,a=[];else{if(123!==f)return!1;s=125,c=!0,a={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),f=e.input.charCodeAt(++e.position);0!==f;){if(Je(e,!0,t),(f=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=g,e.anchor=m,e.kind=c?"mapping":"sequence",e.result=a,!0;p?44===f&&qe(e,"expected the node content, but found ','"):qe(e,"missed comma between flow collection entries"),d=null,o=l=!1,63===f&&Ne(e.input.charCodeAt(e.position+1))&&(o=l=!0,e.position++,Je(e,!0,t)),r=e.line,n=e.lineStart,i=e.position,dt(e,t,1,!1,!0),u=e.tag,h=e.result,Je(e,!0,t),f=e.input.charCodeAt(e.position),!l&&e.line!==r||58!==f||(o=!0,f=e.input.charCodeAt(++e.position),Je(e,!0,t),dt(e,t,1,!1,!0),d=e.result),c?Ze(e,a,y,u,h,d,r,n,i):o?a.push(Ze(e,null,y,u,h,d,r,n,i)):a.push(h),Je(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}qe(e,"unexpected end of the stream within a flow collection")}function st(e,t){var r,n,i,a,s=1,o=!1,l=!1,c=t,u=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))n=!1;else{if(62!==a)return!1;n=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===s?s=43===a?3:2:qe(e,"repeat of a chomping mode identifier");else{if(!((i=Fe(a))>=0))break;0===i?qe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?qe(e,"repeat of an indentation width identifier"):(c=t+i-1,l=!0)}if(Ie(a)){do{a=e.input.charCodeAt(++e.position)}while(Ie(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!Me(a)&&0!==a)}for(;0!==a;){for(Qe(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),Me(a))u++;else{if(e.lineIndent<c){3===s?e.result+=h.repeat("\n",o?1+u:u):1===s&&o&&(e.result+="\n");break}for(n?Ie(a)?(d=!0,e.result+=h.repeat("\n",o?1+u:u)):d?(d=!1,e.result+=h.repeat("\n",u+1)):0===u?o&&(e.result+=" "):e.result+=h.repeat("\n",u):e.result+=h.repeat("\n",o?1+u:u),o=!0,l=!0,u=0,r=e.position;!Me(a)&&0!==a;)a=e.input.charCodeAt(++e.position);Ye(e,r,e.position,!1)}}return!0}function ot(e,t){var r,n,i=e.tag,a=e.anchor,s=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,qe(e,"tab characters must not be used in indentation")),45===n)&&Ne(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Je(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,dt(e,t,3,!1,!0),s.push(e.result),Je(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)qe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=s,!0)}function lt(e,t,r){var n,i,a,s,o,l,c,h=e.tag,u=e.anchor,d={},f=Object.create(null),p=null,g=null,m=null,y=!1,x=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),c=e.input.charCodeAt(e.position);0!==c;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,qe(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,63!==c&&58!==c||!Ne(n)){if(s=e.line,o=e.lineStart,l=e.position,!dt(e,r,2,!1,!0))break;if(e.line===a){for(c=e.input.charCodeAt(e.position);Ie(c);)c=e.input.charCodeAt(++e.position);if(58===c)Ne(c=e.input.charCodeAt(++e.position))||qe(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ze(e,d,f,p,g,null,s,o,l),p=g=m=null),x=!0,y=!1,i=!1,p=e.tag,g=e.result;else{if(!x)return e.tag=h,e.anchor=u,!0;qe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!x)return e.tag=h,e.anchor=u,!0;qe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(Ze(e,d,f,p,g,null,s,o,l),p=g=m=null),x=!0,y=!0,i=!0):y?(y=!1,i=!0):qe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=n;if((e.line===a||e.lineIndent>t)&&(y&&(s=e.line,o=e.lineStart,l=e.position),dt(e,t,4,!0,i)&&(y?g=e.result:m=e.result),y||(Ze(e,d,f,p,g,m,s,o,l),p=g=m=null),Je(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&0!==c)qe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Ze(e,d,f,p,g,null,s,o,l),x&&(e.tag=h,e.anchor=u,e.kind="mapping",e.result=d),x}function ct(e){var t,r,n,i,a=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&qe(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(a=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,a){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):qe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Ne(i);)33===i&&(s?qe(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Re.test(r)||qe(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),$e.test(n)&&qe(e,"tag suffix cannot contain flow indicator characters")}n&&!Ee.test(n)&&qe(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(o){qe(e,"tag name is malformed: "+n)}return a?e.tag=n:Ce.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:qe(e,'undeclared tag handle "'+r+'"'),!0}function ht(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&qe(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!Ne(r)&&!Oe(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&qe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ut(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!Ne(n)&&!Oe(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&qe(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ce.call(e.anchorMap,r)||qe(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Je(e,!0,-1),!0}function dt(e,t,r,n,i){var a,s,o,l,c,h,u,d,f,p=1,g=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=o=4===r||3===r,n&&Je(e,!0,-1)&&(g=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;ct(e)||ht(e);)Je(e,!0,-1)?(g=!0,o=a,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):o=!1;if(o&&(o=g||i),1!==p&&4!==r||(d=1===r||2===r?t:t+1,f=e.position-e.lineStart,1===p?o&&(ot(e,f)||lt(e,f,d))||at(e,d)?m=!0:(s&&st(e,d)||nt(e,d)||it(e,d)?m=!0:ut(e)?(m=!0,null===e.tag&&null===e.anchor||qe(e,"alias node should not have any properties")):rt(e,d,1===r)&&(m=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(m=o&&ot(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&qe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,c=e.implicitTypes.length;l<c;l+=1)if((u=e.implicitTypes[l]).resolve(e.result)){e.result=u.construct(e.result),e.tag=u.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(Ce.call(e.typeMap[e.kind||"fallback"],e.tag))u=e.typeMap[e.kind||"fallback"][e.tag];else for(u=null,l=0,c=(h=e.typeMap.multi[e.kind||"fallback"]).length;l<c;l+=1)if(e.tag.slice(0,h[l].tag.length)===h[l].tag){u=h[l];break}u||qe(e,"unknown tag !<"+e.tag+">"),null!==e.result&&u.kind!==e.kind&&qe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+u.kind+'", not "'+e.kind+'"'),u.resolve(e.result,e.tag)?(e.result=u.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):qe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function ft(e){var t,r,n,i,a=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(Je(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!Ne(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&qe(e,"directive name must not be less than one character in length");0!==i;){for(;Ie(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!Me(i));break}if(Me(i))break;for(t=e.position;0!==i&&!Ne(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&Qe(e),Ce.call(Ve,r)?Ve[r](e,r,n):He(e,'unknown document directive "'+r+'"')}Je(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Je(e,!0,-1)):s&&qe(e,"directives end mark is expected"),dt(e,e.lineIndent-1,4,!1,!0),Je(e,!0,-1),e.checkLineBreaks&&_e.test(e.input.slice(a,e.position))&&He(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&et(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Je(e,!0,-1)):e.position<e.length-1&&qe(e,"end of the stream or a document separator is expected")}function pt(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new We(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,qe(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)ft(r);return r.documents}function gt(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=pt(e,r);if("function"!=typeof t)return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function mt(e,t){var r=pt(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new f("expected a single document in the stream, but found more")}}(0,n.K2)(Ye,"captureSegment"),(0,n.K2)(Xe,"mergeMappings"),(0,n.K2)(Ze,"storeMappingPair"),(0,n.K2)(Qe,"readLineBreak"),(0,n.K2)(Je,"skipSeparationSpace"),(0,n.K2)(et,"testDocumentSeparator"),(0,n.K2)(tt,"writeFoldedLines"),(0,n.K2)(rt,"readPlainScalar"),(0,n.K2)(nt,"readSingleQuotedScalar"),(0,n.K2)(it,"readDoubleQuotedScalar"),(0,n.K2)(at,"readFlowCollection"),(0,n.K2)(st,"readBlockScalar"),(0,n.K2)(ot,"readBlockSequence"),(0,n.K2)(lt,"readBlockMapping"),(0,n.K2)(ct,"readTagProperty"),(0,n.K2)(ht,"readAnchorProperty"),(0,n.K2)(ut,"readAlias"),(0,n.K2)(dt,"composeNode"),(0,n.K2)(ft,"readDocument"),(0,n.K2)(pt,"loadDocuments"),(0,n.K2)(gt,"loadAll$1"),(0,n.K2)(mt,"load$1");var yt={loadAll:gt,load:mt},xt=Object.prototype.toString,bt=Object.prototype.hasOwnProperty,vt=65279,kt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},At=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],wt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Tt(e,t){var r,n,i,a,s,o,l;if(null===t)return{};for(r={},i=0,a=(n=Object.keys(t)).length;i<a;i+=1)s=n[i],o=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(l=e.compiledTypeMap.fallback[s])&&bt.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}function Ct(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new f("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+h.repeat("0",n-t.length)+t}(0,n.K2)(Tt,"compileStyleMap"),(0,n.K2)(Ct,"encodeHex");function St(e){this.schema=e.schema||Te,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=h.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Tt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _t(e,t){for(var r,n=h.repeat(" ",t),i=0,a=-1,s="",o=e.length;i<o;)-1===(a=e.indexOf("\n",i))?(r=e.slice(i),i=o):(r=e.slice(i,a+1),i=a+1),r.length&&"\n"!==r&&(s+=n),s+=r;return s}function $t(e,t){return"\n"+h.repeat(" ",e.indent*t)}function Rt(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}function Et(e){return 32===e||9===e}function Lt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==vt||65536<=e&&e<=1114111}function Mt(e){return Lt(e)&&e!==vt&&13!==e&&10!==e}function It(e,t,r){var n=Mt(e),i=n&&!Et(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||Mt(t)&&!Et(t)&&35===e||58===t&&i}function Nt(e){return Lt(e)&&e!==vt&&!Et(e)&&45!==e&&63!==e&&58!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&35!==e&&38!==e&&42!==e&&33!==e&&124!==e&&61!==e&&62!==e&&39!==e&&34!==e&&37!==e&&64!==e&&96!==e}function Ot(e){return!Et(e)&&58!==e}function Bt(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function Dt(e){return/^\n* /.test(e)}(0,n.K2)(St,"State"),(0,n.K2)(_t,"indentString"),(0,n.K2)($t,"generateNextLine"),(0,n.K2)(Rt,"testImplicitResolving"),(0,n.K2)(Et,"isWhitespace"),(0,n.K2)(Lt,"isPrintable"),(0,n.K2)(Mt,"isNsCharOrWhitespace"),(0,n.K2)(It,"isPlainSafe"),(0,n.K2)(Nt,"isPlainSafeFirst"),(0,n.K2)(Ot,"isPlainSafeLast"),(0,n.K2)(Bt,"codePointAt"),(0,n.K2)(Dt,"needIndentIndicator");function Ft(e,t,r,n,i,a,s,o){var l,c=0,h=null,u=!1,d=!1,f=-1!==n,p=-1,g=Nt(Bt(e,0))&&Ot(Bt(e,e.length-1));if(t||s)for(l=0;l<e.length;c>=65536?l+=2:l++){if(!Lt(c=Bt(e,l)))return 5;g=g&&It(c,h,o),h=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(10===(c=Bt(e,l)))u=!0,f&&(d=d||l-p-1>n&&" "!==e[p+1],p=l);else if(!Lt(c))return 5;g=g&&It(c,h,o),h=c}d=d||f&&l-p-1>n&&" "!==e[p+1]}return u||d?r>9&&Dt(e)?5:s?2===a?5:2:d?4:3:!g||s||i(e)?2===a?5:2:1}function Pt(e,t,r,i,a){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==At.indexOf(t)||wt.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=i||e.flowLevel>-1&&r>=e.flowLevel;function c(t){return Rt(e,t)}switch((0,n.K2)(c,"testAmbiguity"),Ft(t,l,e.indent,o,c,e.quotingType,e.forceQuotes&&!i,a)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+Kt(t,e.indent)+jt(_t(t,s));case 4:return">"+Kt(t,e.indent)+jt(_t(zt(t,o),s));case 5:return'"'+Wt(t)+'"';default:throw new f("impossible error: invalid scalar style")}}()}function Kt(e,t){var r=Dt(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function jt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function zt(e,t){for(var r,n,i,a=/(\n+)([^\n]*)/g,s=(r=-1!==(r=e.indexOf("\n"))?r:e.length,a.lastIndex=r,Ut(e.slice(0,r),t)),o="\n"===e[0]||" "===e[0];i=a.exec(e);){var l=i[1],c=i[2];n=" "===c[0],s+=l+(o||n||""===c?"":"\n")+Ut(c,t),o=n}return s}function Ut(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,a=0,s=0,o=0,l="";r=i.exec(e);)(o=r.index)-a>t&&(n=s>a?s:o,l+="\n"+e.slice(a,n),a=n+1),s=o;return l+="\n",e.length-a>t&&s>a?l+=e.slice(a,s)+"\n"+e.slice(s+1):l+=e.slice(a),l.slice(1)}function Wt(e){for(var t,r="",n=0,i=0;i<e.length;n>=65536?i+=2:i++)n=Bt(e,i),!(t=kt[n])&&Lt(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||Ct(n);return r}function Gt(e,t,r){var n,i,a,s="",o=e.tag;for(n=0,i=r.length;n<i;n+=1)a=r[n],e.replacer&&(a=e.replacer.call(r,String(n),a)),(Xt(e,t,a,!1,!1)||void 0===a&&Xt(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=o,e.dump="["+s+"]"}function qt(e,t,r,n){var i,a,s,o="",l=e.tag;for(i=0,a=r.length;i<a;i+=1)s=r[i],e.replacer&&(s=e.replacer.call(r,String(i),s)),(Xt(e,t+1,s,!0,!0,!1,!0)||void 0===s&&Xt(e,t+1,null,!0,!0,!1,!0))&&(n&&""===o||(o+=$t(e,t)),e.dump&&10===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function Ht(e,t,r){var n,i,a,s,o,l="",c=e.tag,h=Object.keys(r);for(n=0,i=h.length;n<i;n+=1)o="",""!==l&&(o+=", "),e.condenseFlow&&(o+='"'),s=r[a=h[n]],e.replacer&&(s=e.replacer.call(r,a,s)),Xt(e,t,a,!1,!1)&&(e.dump.length>1024&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Xt(e,t,s,!1,!1)&&(l+=o+=e.dump));e.tag=c,e.dump="{"+l+"}"}function Vt(e,t,r,n){var i,a,s,o,l,c,h="",u=e.tag,d=Object.keys(r);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new f("sortKeys must be a boolean or a function");for(i=0,a=d.length;i<a;i+=1)c="",n&&""===h||(c+=$t(e,t)),o=r[s=d[i]],e.replacer&&(o=e.replacer.call(r,s,o)),Xt(e,t+1,s,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,l&&(c+=$t(e,t)),Xt(e,t+1,o,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=":":c+=": ",h+=c+=e.dump));e.tag=u,e.dump=h||"{}"}function Yt(e,t,r){var n,i,a,s,o,l;for(a=0,s=(i=r?e.explicitTypes:e.implicitTypes).length;a<s;a+=1)if(((o=i[a]).instanceOf||o.predicate)&&(!o.instanceOf||"object"==typeof t&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,"[object Function]"===xt.call(o.represent))n=o.represent(t,l);else{if(!bt.call(o.represent,l))throw new f("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');n=o.represent[l](t,l)}e.dump=n}return!0}return!1}function Xt(e,t,r,n,i,a,s){e.tag=null,e.dump=r,Yt(e,r,!1)||Yt(e,r,!0);var o,l=xt.call(e.dump),c=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var h,u,d="[object Object]"===l||"[object Array]"===l;if(d&&(u=-1!==(h=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&t>0)&&(i=!1),u&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(d&&u&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),"[object Object]"===l)n&&0!==Object.keys(e.dump).length?(Vt(e,t,e.dump,i),u&&(e.dump="&ref_"+h+e.dump)):(Ht(e,t,e.dump),u&&(e.dump="&ref_"+h+" "+e.dump));else if("[object Array]"===l)n&&0!==e.dump.length?(e.noArrayIndent&&!s&&t>0?qt(e,t-1,e.dump,i):qt(e,t,e.dump,i),u&&(e.dump="&ref_"+h+e.dump)):(Gt(e,t,e.dump),u&&(e.dump="&ref_"+h+" "+e.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(e.skipInvalid)return!1;throw new f("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&Pt(e,e.dump,t,a,c)}null!==e.tag&&"?"!==e.tag&&(o=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),o="!"===e.tag[0]?"!"+o:"tag:yaml.org,2002:"===o.slice(0,18)?"!!"+o.slice(18):"!<"+o+">",e.dump=o+" "+e.dump)}return!0}function Zt(e,t){var r,n,i=[],a=[];for(Qt(e,i,a),r=0,n=a.length;r<n;r+=1)t.duplicates.push(i[a[r]]);t.usedDuplicates=new Array(n)}function Qt(e,t,r){var n,i,a;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===r.indexOf(i)&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Qt(e[i],t,r);else for(i=0,a=(n=Object.keys(e)).length;i<a;i+=1)Qt(e[n[i]],t,r)}function Jt(e,t){var r=new St(t=t||{});r.noRefs||Zt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Xt(r,0,n,!0,!0)?r.dump+"\n":""}(0,n.K2)(Ft,"chooseScalarStyle"),(0,n.K2)(Pt,"writeScalar"),(0,n.K2)(Kt,"blockHeader"),(0,n.K2)(jt,"dropEndingNewline"),(0,n.K2)(zt,"foldString"),(0,n.K2)(Ut,"foldLine"),(0,n.K2)(Wt,"escapeString"),(0,n.K2)(Gt,"writeFlowSequence"),(0,n.K2)(qt,"writeBlockSequence"),(0,n.K2)(Ht,"writeFlowMapping"),(0,n.K2)(Vt,"writeBlockMapping"),(0,n.K2)(Yt,"detectType"),(0,n.K2)(Xt,"writeNode"),(0,n.K2)(Zt,"getDuplicateReferences"),(0,n.K2)(Qt,"inspectNode"),(0,n.K2)(Jt,"dump$1");function er(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}(0,n.K2)(er,"renamed");var tr=Y,rr=yt.load;er("safeLoad","load"),er("safeLoadAll","loadAll"),er("safeDump","dump")},3988:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1917).A.Uint8Array},4092:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2634),i=r(1790),a=r(3958),s=r(2049);const o=function(e,t){return((0,s.A)(e)?n.A:i.A)(e,(0,a.A)(t,3))}},4098:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3588);const i=function(e){return(null==e?0:e.length)?(0,n.A)(e,1):[]}},4099:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e.has(t)}},4171:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8744);const i=function(){try{var e=(0,n.A)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}()},4298:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});class n{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const i={fileSystemProvider:()=>new n}},4326:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(9008),i=r(6875),a=r(7525);const s=function(e,t){return(0,a.A)((0,i.A)(e,t,n.A),e+"")}},4342:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=/\s/;const i=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t};var a=/^\s+/;const s=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e};var o=r(3149),l=r(1882),c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;const f=function(e){if("number"==typeof e)return e;if((0,l.A)(e))return NaN;if((0,o.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,o.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var r=h.test(e);return r||u.test(e)?d(e.slice(2),r?2:8):c.test(e)?NaN:+e};var p=1/0;const g=function(e){return e?(e=f(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4353:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",a="minute",s="hour",o="day",l="week",c="month",h="quarter",u="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},y=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},x={s:y,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+y(n,2,"0")+":"+y(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,c),a=r-i<0,s=t.clone().add(n+(a?-1:1),c);return+(-(n+(r-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:o,D:d,h:s,m:a,s:i,ms:n,Q:h}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=m;var k="$isDayjsObject",A=function(e){return e instanceof S||!(!e||!e[k])},w=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();v[a]&&(i=a),r&&(v[a]=r,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;v[o]=t,i=o}return!n&&i&&(b=i),i||!n&&b},T=function(e,t){if(A(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new S(r)},C=x;C.l=w,C.i=A,C.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[k]=!0}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var r=T(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return T(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<T(e)},y.$g=function(e,t,r){return C.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,n=!!C.u(t)||t,h=C.p(e),f=function(e,t){var i=C.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(o)},p=function(e,t){return C.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,x="set"+(this.$u?"UTC":"");switch(h){case u:return n?f(1,0):f(31,11);case c:return n?f(1,m):f(0,m+1);case l:var b=this.$locale().weekStart||0,v=(g<b?g+7:g)-b;return f(n?y-v:y+(6-v),m);case o:case d:return p(x+"Hours",0);case s:return p(x+"Minutes",1);case a:return p(x+"Seconds",2);case i:return p(x+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var r,l=C.p(e),h="set"+(this.$u?"UTC":""),f=(r={},r[o]=h+"Date",r[d]=h+"Date",r[c]=h+"Month",r[u]=h+"FullYear",r[s]=h+"Hours",r[a]=h+"Minutes",r[i]=h+"Seconds",r[n]=h+"Milliseconds",r)[l],p=l===o?this.$D+(t-this.$W):t;if(l===c||l===u){var g=this.clone().set(d,1);g.$d[f](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(n,h){var d,f=this;n=Number(n);var p=C.p(h),g=function(e){var t=T(f);return C.w(t.date(t.date()+Math.round(e*n)),f)};if(p===c)return this.set(c,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===o)return g(1);if(p===l)return g(7);var m=(d={},d[a]=t,d[s]=r,d[i]=e,d)[p]||1,y=this.$d.getTime()+n*m;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$H,s=this.$m,o=this.$M,l=r.weekdays,c=r.months,h=r.meridiem,u=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].slice(0,a)},d=function(e){return C.s(a%12||12,e,"0")},p=h||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(g,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return o+1;case"MM":return C.s(o+1,2,"0");case"MMM":return u(r.monthsShort,o,c,3);case"MMMM":return u(c,o);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(r.weekdaysMin,t.$W,l,2);case"ddd":return u(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(a,s,!0);case"A":return p(a,s,!1);case"m":return String(s);case"mm":return C.s(s,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,d,f){var p,g=this,m=C.p(d),y=T(n),x=(y.utcOffset()-this.utcOffset())*t,b=this-y,v=function(){return C.m(g,y)};switch(m){case u:p=v()/12;break;case c:p=v();break;case h:p=v()/3;break;case l:p=(b-x)/6048e5;break;case o:p=(b-x)/864e5;break;case s:p=b/r;break;case a:p=b/t;break;case i:p=b/e;break;default:p=b}return f?p:C.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return v[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=w(e,t,!0);return n&&(r.$L=n),r},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),_=S.prototype;return T.prototype=_,[["$ms",n],["$s",i],["$m",a],["$H",s],["$W",o],["$M",c],["$y",u],["$D",d]].forEach(function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),T.extend=function(e,t){return e.$i||(e(t,S,T),e.$i=!0),T},T.locale=w,T.isDayjs=A,T.unix=function(e){return T(1e3*e)},T.en=v[b],T.Ls=v,T.p={},T}()},4574:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(!1===r(a[l],l,a))break}return t}}()},4722:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5572),i=r(3958),a=r(2568),s=r(2049);const o=function(e,t){return((0,s.A)(e)?n.A:a.A)(e,(0,i.A)(t,3))}},4792:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2634),i=r(3153),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;const o=s?function(e){return null==e?[]:(e=Object(e),(0,n.A)(s(e),function(t){return a.call(e,t)}))}:i.A},4841:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2136),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===i&&n.A.process;const o=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}()},4886:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(3539),i=r(3122);const a={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(35!==e.charCodeAt(0))return;const t=e.match(a.re);if(!t)return;const r=t[1],i=parseInt(r,16),s=r.length,o=s%4==0,l=s>4,c=l?1:17,h=l?8:4,u=o?0:-1,d=l?255:15;return n.A.set({r:(i>>h*(u+3)&d)*c,g:(i>>h*(u+2)&d)*c,b:(i>>h*(u+1)&d)*c,a:o?(i&d)*c/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:a}=e;return a<1?`#${i.Y[Math.round(t)]}${i.Y[Math.round(r)]}${i.Y[Math.round(n)]}${i.Y[Math.round(255*a)]}`:`#${i.Y[Math.round(t)]}${i.Y[Math.round(r)]}${i.Y[Math.round(n)]}`}},s=a;var o=r(2453);const l={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(l.hueRe);if(t){const[,e,r]=t;switch(r){case"grad":return o.A.channel.clamp.h(.9*parseFloat(e));case"rad":return o.A.channel.clamp.h(180*parseFloat(e)/Math.PI);case"turn":return o.A.channel.clamp.h(360*parseFloat(e))}}return o.A.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(104!==t&&72!==t)return;const r=e.match(l.re);if(!r)return;const[,i,a,s,c,h]=r;return n.A.set({h:l._hue2deg(i),s:o.A.channel.clamp.s(parseFloat(a)),l:o.A.channel.clamp.l(parseFloat(s)),a:c?o.A.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${o.A.lang.round(t)}, ${o.A.lang.round(r)}%, ${o.A.lang.round(n)}%, ${i})`:`hsl(${o.A.lang.round(t)}, ${o.A.lang.round(r)}%, ${o.A.lang.round(n)}%)`}},c=l,h={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=h.colors[e];if(t)return s.parse(t)},stringify:e=>{const t=s.stringify(e);for(const r in h.colors)if(h.colors[r]===t)return r}},u=h,d={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(114!==t&&82!==t)return;const r=e.match(d.re);if(!r)return;const[,i,a,s,l,c,h,u,f]=r;return n.A.set({r:o.A.channel.clamp.r(a?2.55*parseFloat(i):parseFloat(i)),g:o.A.channel.clamp.g(l?2.55*parseFloat(s):parseFloat(s)),b:o.A.channel.clamp.b(h?2.55*parseFloat(c):parseFloat(c)),a:u?o.A.channel.clamp.a(f?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${o.A.lang.round(t)}, ${o.A.lang.round(r)}, ${o.A.lang.round(n)}, ${o.A.lang.round(i)})`:`rgb(${o.A.lang.round(t)}, ${o.A.lang.round(r)}, ${o.A.lang.round(n)})`}},f=d,p={format:{keyword:h,hex:s,rgb:d,rgba:d,hsl:l,hsla:l},parse:e=>{if("string"!=typeof e)return e;const t=s.parse(e)||f.parse(e)||c.parse(e)||u.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(i.Z.HSL)||void 0===e.data.r?c.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?f.stringify(e):s.stringify(e)},g=p},5033:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n,i=r(2151),a=r(8037);class s{convert(e,t){let r=t.grammarSource;if((0,i._c)(r)&&(r=(0,a.g4)(r)),(0,i.$g)(r)){const n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var i;switch(e.name.toUpperCase()){case"INT":return n.convertInt(t);case"STRING":return n.convertString(t);case"ID":return n.convertID(t)}switch(null===(i=(0,a.P3)(e))||void 0===i?void 0:i.toLowerCase()){case"number":return n.convertNumber(t);case"boolean":return n.convertBoolean(t);case"bigint":return n.convertBigint(t);case"date":return n.convertDate(t);default:return t}}}!function(e){function t(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}e.convertString=function(e){let r="";for(let n=1;n<e.length-1;n++){const i=e.charAt(n);if("\\"===i){r+=t(e.charAt(++n))}else r+=i}return r},e.convertID=function(e){return"^"===e.charAt(0)?e.substring(1):e},e.convertInt=function(e){return parseInt(e)},e.convertBigint=function(e){return BigInt(e)},e.convertDate=function(e){return new Date(e)},e.convertNumber=function(e){return Number(e)},e.convertBoolean=function(e){return"true"===e.toLowerCase()}}(n||(n={}))},5054:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(7819),i=r(2274),a=r(2049),s=r(5353),o=r(5254),l=r(901);const c=function(e,t,r){for(var c=-1,h=(t=(0,n.A)(t,e)).length,u=!1;++c<h;){var d=(0,l.A)(t[c]);if(!(u=null!=e&&r(e,d)))break;e=e[d]}return u||++c!=h?u:!!(h=null==e?0:e.length)&&(0,o.A)(h)&&(0,s.A)(d,h)&&((0,a.A)(e)||(0,i.A)(e))}},5164:(e,t,r)=>{"use strict";r.d(t,{IU:()=>x,Jo:()=>E,T_:()=>A,g0:()=>B,jP:()=>v});var n=r(8698),i=r(5894),a=r(3245),s=r(2387),o=r(92),l=r(3226),c=r(7633),h=r(797),u=r(451),d=r(9893),f=(0,h.K2)((e,t,r,n,i,a)=>{t.arrowTypeStart&&g(e,"start",t.arrowTypeStart,r,n,i,a),t.arrowTypeEnd&&g(e,"end",t.arrowTypeEnd,r,n,i,a)},"addEdgeMarkers"),p={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},g=(0,h.K2)((e,t,r,n,i,a,s)=>{const o=p[r];if(!o)return void h.Rm.warn(`Unknown arrow type: ${r}`);const l=`${i}_${a}-${o.type}${"start"===t?"Start":"End"}`;if(s&&""!==s.trim()){const r=`${l}_${s.replace(/[^\dA-Za-z]/g,"_")}`;if(!document.getElementById(r)){const e=document.getElementById(l);if(e){const t=e.cloneNode(!0);t.id=r;t.querySelectorAll("path, circle, line").forEach(e=>{e.setAttribute("stroke",s),o.fill&&e.setAttribute("fill",s)}),e.parentNode?.appendChild(t)}}e.attr(`marker-${t}`,`url(${n}#${r})`)}else e.attr(`marker-${t}`,`url(${n}#${l})`)},"addEdgeMarker"),m=new Map,y=new Map,x=(0,h.K2)(()=>{m.clear(),y.clear()},"clear"),b=(0,h.K2)(e=>e?e.reduce((e,t)=>e+";"+t,""):"","getLabelStyles"),v=(0,h.K2)(async(e,t)=>{let r=(0,c._3)((0,c.D7)().flowchart.htmlLabels);const{labelStyles:n}=(0,s.GX)(t);t.labelStyle=n;const a=await(0,o.GZ)(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});h.Rm.info("abc82",t,t.labelType);const l=e.insert("g").attr("class","edgeLabel"),d=l.insert("g").attr("class","label").attr("data-id",t.id);d.node().appendChild(a);let f,p=a.getBBox();if(r){const e=a.children[0],t=(0,u.Ltv)(a);p=e.getBoundingClientRect(),t.attr("width",p.width),t.attr("height",p.height)}if(d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),m.set(t.id,l),t.width=p.width,t.height=p.height,t.startLabelLeft){const r=await(0,i.DA)(t.startLabelLeft,b(t.labelStyle)),n=e.insert("g").attr("class","edgeTerminals"),a=n.insert("g").attr("class","inner");f=a.node().appendChild(r);const s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),y.get(t.id)||y.set(t.id,{}),y.get(t.id).startLeft=n,k(f,t.startLabelLeft)}if(t.startLabelRight){const r=await(0,i.DA)(t.startLabelRight,b(t.labelStyle)),n=e.insert("g").attr("class","edgeTerminals"),a=n.insert("g").attr("class","inner");f=n.node().appendChild(r),a.node().appendChild(r);const s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),y.get(t.id)||y.set(t.id,{}),y.get(t.id).startRight=n,k(f,t.startLabelRight)}if(t.endLabelLeft){const r=await(0,i.DA)(t.endLabelLeft,b(t.labelStyle)),n=e.insert("g").attr("class","edgeTerminals"),a=n.insert("g").attr("class","inner");f=a.node().appendChild(r);const s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n.node().appendChild(r),y.get(t.id)||y.set(t.id,{}),y.get(t.id).endLeft=n,k(f,t.endLabelLeft)}if(t.endLabelRight){const r=await(0,i.DA)(t.endLabelRight,b(t.labelStyle)),n=e.insert("g").attr("class","edgeTerminals"),a=n.insert("g").attr("class","inner");f=a.node().appendChild(r);const s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n.node().appendChild(r),y.get(t.id)||y.set(t.id,{}),y.get(t.id).endRight=n,k(f,t.endLabelRight)}return a},"insertEdgeLabel");function k(e,t){(0,c.D7)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}(0,h.K2)(k,"setTerminalWidth");var A=(0,h.K2)((e,t)=>{h.Rm.debug("Moving label abc88 ",e.id,e.label,m.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=(0,c.D7)(),{subGraphTitleTotalMargin:i}=(0,a.O)(n);if(e.label){const n=m.get(e.id);let a=e.x,s=e.y;if(r){const n=l._K.calcLabelPosition(r);h.Rm.debug("Moving label "+e.label+" from (",a,",",s,") to (",n.x,",",n.y,") abc88"),t.updatedPath&&(a=n.x,s=n.y)}n.attr("transform",`translate(${a}, ${s+i/2})`)}if(e.startLabelLeft){const t=y.get(e.id).startLeft;let n=e.x,i=e.y;if(r){const t=l._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.startLabelRight){const t=y.get(e.id).startRight;let n=e.x,i=e.y;if(r){const t=l._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelLeft){const t=y.get(e.id).endLeft;let n=e.x,i=e.y;if(r){const t=l._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelRight){const t=y.get(e.id).endRight;let n=e.x,i=e.y;if(r){const t=l._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}},"positionEdgeLabel"),w=(0,h.K2)((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,o=e.height/2;return i>=s||a>=o},"outsideNode"),T=(0,h.K2)((e,t,r)=>{h.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2;let o=r.x<t.x?s-a:s+a;const l=e.height/2,c=Math.abs(t.y-r.y),u=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*l){let e=r.y<t.y?t.y-l-i:i-l-t.y;o=u*e/c;const n={x:r.x<t.x?r.x+o:r.x-u+o,y:r.y<t.y?r.y+c-e:r.y-c+e};return 0===o&&(n.x=t.x,n.y=t.y),0===u&&(n.x=t.x),0===c&&(n.y=t.y),h.Rm.debug(`abc89 top/bottom calc, Q ${c}, q ${e}, R ${u}, r ${o}`,n),n}{o=r.x<t.x?t.x-s-n:n-s-t.x;let e=c*o/u,i=r.x<t.x?r.x+u-o:r.x-u+o,a=r.y<t.y?r.y+e:r.y-e;return h.Rm.debug(`sides calc abc89, Q ${c}, q ${e}, R ${u}, r ${o}`,{_x:i,_y:a}),0===o&&(i=t.x,a=t.y),0===u&&(i=t.x),0===c&&(a=t.y),{x:i,y:a}}},"intersection"),C=(0,h.K2)((e,t)=>{h.Rm.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(e=>{if(h.Rm.info("abc88 checking point",e,t),w(t,e)||i)h.Rm.warn("abc88 outside",e,n),n=e,i||r.push(e);else{const a=T(t,n,e);h.Rm.debug("abc88 inside",e,n,a),h.Rm.debug("abc88 intersection",a,t);let s=!1;r.forEach(e=>{s=s||e.x===a.x&&e.y===a.y}),r.some(e=>e.x===a.x&&e.y===a.y)?h.Rm.warn("abc88 no intersect",a,r):r.push(a),i=!0}}),h.Rm.debug("returning points",r),r},"cutPathAtIntersect");function S(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],a=e[n],s=e[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}(0,h.K2)(S,"extractCornerPoints");var _=(0,h.K2)(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,a=r/Math.sqrt(n*n+i*i);return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),$=(0,h.K2)(function(e){const{cornerPointPositions:t}=S(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const t=e[n-1],i=e[n+1],a=e[n],s=_(t,a,5),o=_(i,a,5),l=o.x-s.x,c=o.y-s.y;r.push(s);const u=2*Math.sqrt(2);let d={x:a.x,y:a.y};if(Math.abs(i.x-t.x)>10&&Math.abs(i.y-t.y)>=10){h.Rm.debug("Corner point fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));const e=5;d=a.x===s.x?{x:l<0?s.x-e+u:s.x+e-u,y:c<0?s.y-u:s.y+u}:{x:l<0?s.x-u:s.x+u,y:c<0?s.y-e+u:s.y+e-u}}else h.Rm.debug("Corner point skipping fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));r.push(d,o)}else r.push(e[n]);return r},"fixCorners"),R=(0,h.K2)((e,t,r)=>{const n=e-t-r,i=Math.floor(n/4);return`0 ${t} ${Array(i).fill("2 2").join(" ")} ${r}`},"generateDashArray"),E=(0,h.K2)(function(e,t,r,i,a,o,p,g=!1){const{handDrawnSeed:m}=(0,c.D7)();let y=t.points,x=!1;const b=a;var v=o;const k=[];for(const n in t.cssCompiledStyles)(0,s.KX)(n)||k.push(t.cssCompiledStyles[n]);h.Rm.debug("UIO intersect check",t.points,v.x,b.x),v.intersect&&b.intersect&&!g&&(y=y.slice(1,t.points.length-1),y.unshift(b.intersect(y[0])),h.Rm.debug("Last point UIO",t.start,"--\x3e",t.end,y[y.length-1],v,v.intersect(y[y.length-1])),y.push(v.intersect(y[y.length-1])));const A=btoa(JSON.stringify(y));t.toCluster&&(h.Rm.info("to cluster abc88",r.get(t.toCluster)),y=C(t.points,r.get(t.toCluster).node),x=!0),t.fromCluster&&(h.Rm.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(y,null,2)),y=C(y.reverse(),r.get(t.fromCluster).node).reverse(),x=!0);let w=y.filter(e=>!Number.isNaN(e.y));w=$(w);let T=u.qrM;switch(T=u.lUB,t.curve){case"linear":T=u.lUB;break;case"basis":default:T=u.qrM;break;case"cardinal":T=u.y8u;break;case"bumpX":T=u.Wi0;break;case"bumpY":T=u.PGM;break;case"catmullRom":T=u.oDi;break;case"monotoneX":T=u.nVG;break;case"monotoneY":T=u.uxU;break;case"natural":T=u.Xf2;break;case"step":T=u.GZz;break;case"stepAfter":T=u.UPb;break;case"stepBefore":T=u.dyv}const{x:S,y:_}=(0,n.RI)(t),E=(0,u.n8j)().x(S).y(_).curve(T);let M,N;switch(t.thickness){case"normal":default:M="edge-thickness-normal";break;case"thick":M="edge-thickness-thick";break;case"invisible":M="edge-thickness-invisible"}switch(t.pattern){case"solid":default:M+=" edge-pattern-solid";break;case"dotted":M+=" edge-pattern-dotted";break;case"dashed":M+=" edge-pattern-dashed"}let O="rounded"===t.curve?L(I(w,t),5):E(w);const B=Array.isArray(t.style)?t.style:[t.style];let D=B.find(e=>e?.startsWith("stroke:")),F=!1;if("handDrawn"===t.look){const r=d.A.svg(e);Object.assign([],w);const n=r.path(O,{roughness:.3,seed:m});M+=" transition",N=(0,u.Ltv)(n).select("path").attr("id",t.id).attr("class"," "+M+(t.classes?" "+t.classes:"")).attr("style",B?B.reduce((e,t)=>e+";"+t,""):"");let i=N.attr("d");N.attr("d",i),e.node().appendChild(N.node())}else{const r=k.join(";"),i=B?B.reduce((e,t)=>e+t+";",""):"";let a="";t.animate&&(a=" edge-animation-fast"),t.animation&&(a=" edge-animation-"+t.animation);const s=(r?r+";"+i+";":i)+";"+(B?B.reduce((e,t)=>e+";"+t,""):"");N=e.append("path").attr("d",O).attr("id",t.id).attr("class"," "+M+(t.classes?" "+t.classes:"")+(a??"")).attr("style",s),D=s.match(/stroke:([^;]+)/)?.[1],F=!0===t.animate||!!t.animation||r.includes("animation");const o=N.node(),l="function"==typeof o.getTotalLength?o.getTotalLength():0,c=n.Nq[t.arrowTypeStart]||0,h=n.Nq[t.arrowTypeEnd]||0;if("neo"===t.look&&!F){const e=`stroke-dasharray: ${"dotted"===t.pattern||"dashed"===t.pattern?R(l,c,h):`0 ${c} ${l-c-h} ${h}`}; stroke-dashoffset: 0;`;N.attr("style",e+N.attr("style"))}}N.attr("data-edge",!0),N.attr("data-et","edge"),N.attr("data-id",t.id),N.attr("data-points",A),t.showPoints&&w.forEach(t=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",t.x).attr("cy",t.y)});let P="";((0,c.D7)().flowchart.arrowMarkerAbsolute||(0,c.D7)().state.arrowMarkerAbsolute)&&(P=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,P=P.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),h.Rm.info("arrowTypeStart",t.arrowTypeStart),h.Rm.info("arrowTypeEnd",t.arrowTypeEnd),f(N,t,P,p,i,D);const K=y[Math.floor(y.length/2)];l._K.isLabelCoordinateInPath(K,N.attr("d"))||(x=!0);let j={};return x&&(j.updatedPath=y),j.originalPath=t.points,j},"insertEdge");function L(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let a=0;a<n;a++){const s=e[a],o=e[a-1],l=e[a+1];if(0===a)r+=`M${s.x},${s.y}`;else if(a===n-1)r+=`L${s.x},${s.y}`;else{const e=s.x-o.x,n=s.y-o.y,a=l.x-s.x,c=l.y-s.y,h=Math.hypot(e,n),u=Math.hypot(a,c);if(h<i||u<i){r+=`L${s.x},${s.y}`;continue}const d=e/h,f=n/h,p=a/u,g=c/u,m=d*p+f*g,y=Math.max(-1,Math.min(1,m)),x=Math.acos(y);if(x<i||Math.abs(Math.PI-x)<i){r+=`L${s.x},${s.y}`;continue}const b=Math.min(t/Math.sin(x/2),h/2,u/2),v=s.x-d*b,k=s.y-f*b,A=s.x+p*b,w=s.y+g*b;r+=`L${v},${k}`,r+=`Q${s.x},${s.y} ${A},${w}`}}return r}function M(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}function I(e,t){const r=e.map(e=>({...e}));if(e.length>=2&&n.hq[t.arrowTypeStart]){const i=n.hq[t.arrowTypeStart],a=e[0],s=e[1],{angle:o}=M(a,s),l=i*Math.cos(o),c=i*Math.sin(o);r[0].x=a.x+l,r[0].y=a.y+c}const i=e.length;if(i>=2&&n.hq[t.arrowTypeEnd]){const a=n.hq[t.arrowTypeEnd],s=e[i-1],o=e[i-2],{angle:l}=M(o,s),c=a*Math.cos(l),h=a*Math.sin(l);r[i-1].x=s.x-c,r[i-1].y=s.y-h}return r}(0,h.K2)(L,"generateRoundedPath"),(0,h.K2)(M,"calculateDeltaAndAngle"),(0,h.K2)(I,"applyMarkerOffsetsToPoints");var N=(0,h.K2)((e,t,r,n)=>{t.forEach(t=>{O[t](e,r,n)})},"insertMarkers"),O={extension:(0,h.K2)((e,t,r)=>{h.Rm.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point:(0,h.K2)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle:(0,h.K2)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross:(0,h.K2)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),only_one:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),zero_or_one:(0,h.K2)((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),one_or_more:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),zero_or_more:(0,h.K2)((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),requirement_arrow:(0,h.K2)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d","M0,0\n      L20,10\n      M20,10\n      L0,20")},"requirement_arrow"),requirement_contains:(0,h.K2)((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")},B=N},5186:(e,t,r)=>{"use strict";function n(e){return e.charCodeAt(0)}function i(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function a(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t];e[t]=!0}function s(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function o(){throw Error("Internal Error - Should never get here!")}function l(e){return"Character"===e.type}r.d(t,{z:()=>m,H:()=>g});const c=[];for(let y=n("0");y<=n("9");y++)c.push(y);const h=[n("_")].concat(c);for(let y=n("a");y<=n("z");y++)h.push(y);for(let y=n("A");y<=n("Z");y++)h.push(y);const u=[n(" "),n("\f"),n("\n"),n("\r"),n("\t"),n("\v"),n("\t"),n("\xa0"),n("\u1680"),n("\u2000"),n("\u2001"),n("\u2002"),n("\u2003"),n("\u2004"),n("\u2005"),n("\u2006"),n("\u2007"),n("\u2008"),n("\u2009"),n("\u200a"),n("\u2028"),n("\u2029"),n("\u202f"),n("\u205f"),n("\u3000"),n("\ufeff")],d=/[0-9a-fA-F]/,f=/[0-9]/,p=/[1-9]/;class g{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":a(r,"global");break;case"i":a(r,"ignoreCase");break;case"m":a(r,"multiLine");break;case"u":a(r,"unicode");break;case"y":a(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}s(t);const r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return o()}quantifier(e=!1){let t;const r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:r,atMost:e}):t={atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;s(t)}if(!0!==e||void 0!==t)return s(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),s(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):o()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[n("\n"),n("\r"),n("\u2028"),n("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=c;break;case"D":e=c,t=!0;break;case"s":e=u;break;case"S":e=u,t=!0;break;case"w":e=h;break;case"W":e=h,t=!0}return s(e)?{type:"Set",value:e,complement:t}:o()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=n("\f");break;case"n":e=n("\n");break;case"r":e=n("\r");break;case"t":e=n("\t");break;case"v":e=n("\v")}return s(e)?{type:"Character",value:e}:o()}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:n("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:n(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:n(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();t.type;if(l(t)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();r.type;if(l(r)){if(r.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:r.value})}else i(t.value,e),e.push(n("-")),i(r.value,e)}else i(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:n("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;if(this.consumeChar("("),"?"===this.peekChar(0))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(!1===p.test(e))throw Error("Expecting a positive integer");for(;f.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===f.test(e))throw Error("Expecting an integer");for(;f.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:n(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return f.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){const e=this.popChar();if(!1===d.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class m{visitChildren(e){for(const t in e){const r=e[t];e.hasOwnProperty(t)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}},5254:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5263:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5635);const i=(e,t)=>(0,n.A)(e,"l",-t)},5353:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=/^(?:0|[1-9]\d*)$/;const i=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},5530:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(818);const i=function(e,t){return!!(null==e?0:e.length)&&(0,n.A)(e,t,0)>-1}},5572:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},5582:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2453),i=r(3539),a=r(4886),s=r(8232);const o=(e,t,r=0,o=1)=>{if("number"!=typeof e)return(0,s.A)(e,{a:t});const l=i.A.set({r:n.A.channel.clamp.r(e),g:n.A.channel.clamp.g(t),b:n.A.channel.clamp.b(r),a:n.A.channel.clamp.a(o)});return a.A.stringify(l)}},5615:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(3607),i=r(3149),a=r(7271);const s=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var o=Object.prototype.hasOwnProperty;const l=function(e){if(!(0,i.A)(e))return s(e);var t=(0,a.A)(e),r=[];for(var n in e)("constructor"!=n||!t&&o.call(e,n))&&r.push(n);return r};var c=r(8446);const h=function(e){return(0,c.A)(e)?(0,n.A)(e,!0):l(e)}},5635:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2453),i=r(4886);const a=(e,t,r)=>{const a=i.A.parse(e),s=a[t],o=n.A.channel.clamp[t](s+r);return s!==o&&(a[t]=o),i.A.stringify(a)}},5647:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(367).A)(Object.getPrototypeOf,Object)},5707:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5894:(e,t,r)=>{"use strict";r.d(t,{DA:()=>k,IU:()=>E,U:()=>R,U7:()=>St,U_:()=>$t,Zk:()=>u,aP:()=>wt,gh:()=>_t,lC:()=>f,on:()=>Ct});var n=r(3245),i=r(2387),a=r(92),s=r(3226),o=r(7633),l=r(797),c=r(451),h=r(9893),u=(0,l.K2)(async(e,t,r)=>{let n;const i=t.useHtmlLabels||(0,o._3)((0,o.D7)()?.htmlLabels);n=r||"node default";const h=e.insert("g").attr("class",n).attr("id",t.domId||t.id),u=h.insert("g").attr("class","label").attr("style",(0,s.KL)(t.labelStyle));let d;d=void 0===t.label?"":"string"==typeof t.label?t.label:t.label[0];const f=await(0,a.GZ)(u,(0,o.jZ)((0,s.Sm)(d),(0,o.D7)()),{useHtmlLabels:i,width:t.width||(0,o.D7)().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let p=f.getBBox();const g=(t?.padding??0)/2;if(i){const e=f.children[0],t=(0,c.Ltv)(f),r=e.getElementsByTagName("img");if(r){const e=""===d.replace(/<img[^>]*>/g,"").trim();await Promise.all([...r].map(t=>new Promise(r=>{function n(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=(0,o.D7)().fontSize?(0,o.D7)().fontSize:window.getComputedStyle(document.body).fontSize,r=5,[n=o.UI.fontSize]=(0,s.I5)(e),i=n*r+"px";t.style.minWidth=i,t.style.maxWidth=i}else t.style.width="100%";r(t)}(0,l.K2)(n,"setupImage"),setTimeout(()=>{t.complete&&n()}),t.addEventListener("error",n),t.addEventListener("load",n)})))}p=e.getBoundingClientRect(),t.attr("width",p.width),t.attr("height",p.height)}return i?u.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):u.attr("transform","translate(0, "+-p.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:h,bbox:p,halfPadding:g,label:u}},"labelHelper"),d=(0,l.K2)(async(e,t,r)=>{const n=r.useHtmlLabels||(0,o._3)((0,o.D7)()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),l=await(0,a.GZ)(i,(0,o.jZ)((0,s.Sm)(t),(0,o.D7)()),{useHtmlLabels:n,width:r.width||(0,o.D7)()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let h=l.getBBox();const u=r.padding/2;if((0,o._3)((0,o.D7)()?.flowchart?.htmlLabels)){const e=l.children[0],t=(0,c.Ltv)(l);h=e.getBoundingClientRect(),t.attr("width",h.width),t.attr("height",h.height)}return n?i.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):i.attr("transform","translate(0, "+-h.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:h,halfPadding:u,label:i}},"insertLabel"),f=(0,l.K2)((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),p=(0,l.K2)((e,t)=>("handDrawn"===e.look?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function g(e){const t=e.map((e,t)=>`${0===t?"M":"L"}${e.x},${e.y}`);return t.push("Z"),t.join(" ")}function m(e,t,r,n,i,a){const s=[],o=r-e,l=n-t,c=o/a,h=2*Math.PI/c,u=t+l/2;for(let d=0;d<=50;d++){const t=e+d/50*o,r=u+i*Math.sin(h*(t-e));s.push({x:t,y:r})}return s}function y(e,t,r,n,i,a){const s=[],o=i*Math.PI/180,l=(a*Math.PI/180-o)/(n-1);for(let c=0;c<n;c++){const n=o+c*l,i=e+r*Math.cos(n),a=t+r*Math.sin(n);s.push({x:-i,y:-a})}return s}(0,l.K2)(g,"createPathFromPoints"),(0,l.K2)(m,"generateFullSineWavePoints"),(0,l.K2)(y,"generateCirclePoints");var x=(0,l.K2)((e,t)=>{var r,n,i=e.x,a=e.y,s=t.x-i,o=t.y-a,l=e.width/2,c=e.height/2;return Math.abs(o)*l>Math.abs(s)*c?(o<0&&(c=-c),r=0===o?0:c*s/o,n=c):(s<0&&(l=-l),r=l,n=0===s?0:l*o/s),{x:i+r,y:a+n}},"intersectRect");function b(e,t){t&&e.attr("style",t)}async function v(e){const t=(0,c.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=(0,o.D7)();let i=e.label;e.label&&(0,o.Wi)(e.label)&&(i=await(0,o.dj)(e.label.replace(o.Y2.lineBreakRegex,"\n"),n));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html((0,o.jZ)(a,n)),b(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}(0,l.K2)(b,"applyStyle"),(0,l.K2)(v,"addHtmlLabel");var k=(0,l.K2)(async(e,t,r,n)=>{let i=e||"";if("object"==typeof i&&(i=i[0]),(0,o._3)((0,o.D7)().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),l.Rm.info("vertexText"+i);const e={isNode:n,label:(0,s.Sm)(i).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t?t.replace("fill:","color:"):t};return await v(e)}{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let n=[];n="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const t of n){const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),r?n.setAttribute("class","title-row"):n.setAttribute("class","row"),n.textContent=t.trim(),e.appendChild(n)}return e}},"createLabel"),A=(0,l.K2)((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),w=(0,l.K2)(async(e,t)=>{l.Rm.info("Creating subgraph rect for ",t.id,t);const r=(0,o.D7)(),{themeVariables:s,handDrawnSeed:u}=r,{clusterBkg:d,clusterBorder:f}=s,{labelStyles:p,nodeStyles:g,borderStyles:m,backgroundStyles:y}=(0,i.GX)(t),b=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=(0,o._3)(r.flowchart.htmlLabels),k=b.insert("g").attr("class","cluster-label "),w=await(0,a.GZ)(k,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0});let T=w.getBBox();if((0,o._3)(r.flowchart.htmlLabels)){const e=w.children[0],t=(0,c.Ltv)(w);T=e.getBoundingClientRect(),t.attr("width",T.width),t.attr("height",T.height)}const C=t.width<=T.width+t.padding?T.width+t.padding:t.width;t.width<=T.width+t.padding?t.diff=(C-t.width)/2-t.padding:t.diff=-t.padding;const S=t.height,_=t.x-C/2,$=t.y-S/2;let R;if(l.Rm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=h.A.svg(b),r=(0,i.Fr)(t,{roughness:.7,fill:d,stroke:f,fillWeight:3,seed:u}),n=e.path(A(_,$,C,S,0),r);R=b.insert(()=>(l.Rm.debug("Rough node insert CXC",n),n),":first-child"),R.select("path:nth-child(2)").attr("style",m.join(";")),R.select("path").attr("style",y.join(";").replace("fill","stroke"))}else R=b.insert("rect",":first-child"),R.attr("style",g).attr("rx",t.rx).attr("ry",t.ry).attr("x",_).attr("y",$).attr("width",C).attr("height",S);const{subGraphTitleTopMargin:E}=(0,n.O)(r);if(k.attr("transform",`translate(${t.x-T.width/2}, ${t.y-t.height/2+E})`),p){const e=k.select("span");e&&e.attr("style",p)}const L=R.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=T.height-t.padding/2,t.intersect=function(e){return x(t,e)},{cluster:b,labelBBox:T}},"rect"),T=(0,l.K2)((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,a=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(e){return x(t,e)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),C=(0,l.K2)(async(e,t)=>{const r=(0,o.D7)(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:l,nodeBorder:u}=n,d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),f=d.insert("g",":first-child"),p=d.insert("g").attr("class","cluster-label");let g=d.append("rect");const m=p.node().appendChild(await k(t.label,t.labelStyle,void 0,!0));let y=m.getBBox();if((0,o._3)(r.flowchart.htmlLabels)){const e=m.children[0],t=(0,c.Ltv)(m);y=e.getBoundingClientRect(),t.attr("width",y.width),t.attr("height",y.height)}const b=0*t.padding,v=b/2,w=(t.width<=y.width+t.padding?y.width+t.padding:t.width)+b;t.width<=y.width+t.padding?t.diff=(w-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height+b,C=t.height+b-y.height-6,S=t.x-w/2,_=t.y-T/2;t.width=w;const $=t.y-t.height/2-v+y.height+2;let R;if("handDrawn"===t.look){const e=t.cssClasses.includes("statediagram-cluster-alt"),r=h.A.svg(d),n=t.rx||t.ry?r.path(A(S,_,w,T,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:u,seed:i}):r.rectangle(S,_,w,T,{seed:i});R=d.insert(()=>n,":first-child");const o=r.rectangle(S,$,w,C,{fill:e?a:s,fillStyle:e?"hachure":"solid",stroke:u,seed:i});R=d.insert(()=>n,":first-child"),g=d.insert(()=>o)}else{R=f.insert("rect",":first-child");const e="outer";R.attr("class",e).attr("x",S).attr("y",_).attr("width",w).attr("height",T).attr("data-look",t.look),g.attr("class","inner").attr("x",S).attr("y",$).attr("width",w).attr("height",C)}p.attr("transform",`translate(${t.x-y.width/2}, ${_+1-((0,o._3)(r.flowchart.htmlLabels)?0:3)})`);const E=R.node().getBBox();return t.height=E.height,t.offsetX=0,t.offsetY=y.height-t.padding/2,t.labelBBox=y,t.intersect=function(e){return x(t,e)},{cluster:d,labelBBox:y}},"roundedWithTitle"),S=(0,l.K2)(async(e,t)=>{l.Rm.info("Creating subgraph rect for ",t.id,t);const r=(0,o.D7)(),{themeVariables:s,handDrawnSeed:u}=r,{clusterBkg:d,clusterBorder:f}=s,{labelStyles:p,nodeStyles:g,borderStyles:m,backgroundStyles:y}=(0,i.GX)(t),b=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=(0,o._3)(r.flowchart.htmlLabels),k=b.insert("g").attr("class","cluster-label "),w=await(0,a.GZ)(k,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0,width:t.width});let T=w.getBBox();if((0,o._3)(r.flowchart.htmlLabels)){const e=w.children[0],t=(0,c.Ltv)(w);T=e.getBoundingClientRect(),t.attr("width",T.width),t.attr("height",T.height)}const C=t.width<=T.width+t.padding?T.width+t.padding:t.width;t.width<=T.width+t.padding?t.diff=(C-t.width)/2-t.padding:t.diff=-t.padding;const S=t.height,_=t.x-C/2,$=t.y-S/2;let R;if(l.Rm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=h.A.svg(b),r=(0,i.Fr)(t,{roughness:.7,fill:d,stroke:f,fillWeight:4,seed:u}),n=e.path(A(_,$,C,S,t.rx),r);R=b.insert(()=>(l.Rm.debug("Rough node insert CXC",n),n),":first-child"),R.select("path:nth-child(2)").attr("style",m.join(";")),R.select("path").attr("style",y.join(";").replace("fill","stroke"))}else R=b.insert("rect",":first-child"),R.attr("style",g).attr("rx",t.rx).attr("ry",t.ry).attr("x",_).attr("y",$).attr("width",C).attr("height",S);const{subGraphTitleTopMargin:E}=(0,n.O)(r);if(k.attr("transform",`translate(${t.x-T.width/2}, ${t.y-t.height/2+E})`),p){const e=k.select("span");e&&e.attr("style",p)}const L=R.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=T.height-t.padding/2,t.intersect=function(e){return x(t,e)},{cluster:b,labelBBox:T}},"kanbanSection"),_={rect:w,squareRect:w,roundedWithTitle:C,noteGroup:T,divider:(0,l.K2)((e,t)=>{const r=(0,o.D7)(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=s.insert("g",":first-child"),c=0*t.padding,u=t.width+c;t.diff=-t.padding;const d=t.height+c,f=t.x-u/2,p=t.y-d/2;let g;if(t.width=u,"handDrawn"===t.look){const e=h.A.svg(s).rectangle(f,p,u,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});g=s.insert(()=>e,":first-child")}else{g=l.insert("rect",":first-child");const e="divider";g.attr("class",e).attr("x",f).attr("y",p).attr("width",u).attr("height",d).attr("data-look",t.look)}const m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(e){return x(t,e)},{cluster:s,labelBBox:{}}},"divider"),kanbanSection:S},$=new Map,R=(0,l.K2)(async(e,t)=>{const r=t.shape||"rect",n=await _[r](e,t);return $.set(t.id,n),n},"insertCluster"),E=(0,l.K2)(()=>{$=new Map},"clear");function L(e,t){return e.intersect(t)}(0,l.K2)(L,"intersectNode");var M=L;function I(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,o=a-n.y,l=Math.sqrt(t*t*o*o+r*r*s*s),c=Math.abs(t*r*s/l);n.x<i&&(c=-c);var h=Math.abs(t*r*o/l);return n.y<a&&(h=-h),{x:i+c,y:a+h}}(0,l.K2)(I,"intersectEllipse");var N=I;function O(e,t,r){return N(e,t,t,r)}(0,l.K2)(O,"intersectCircle");var B=O;function D(e,t,r,n){{const i=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,o=i*r.x+a*r.y+s,l=i*n.x+a*n.y+s,c=1e-6;if(0!==o&&0!==l&&F(o,l))return;const h=n.y-r.y,u=r.x-n.x,d=n.x*r.y-r.x*n.y,f=h*e.x+u*e.y+d,p=h*t.x+u*t.y+d;if(Math.abs(f)<c&&Math.abs(p)<c&&F(f,p))return;const g=i*u-h*a;if(0===g)return;const m=Math.abs(g/2);let y=a*d-u*s;const x=y<0?(y-m)/g:(y+m)/g;y=h*s-i*d;return{x:x,y:y<0?(y-m)/g:(y+m)/g}}}function F(e,t){return e*t>0}(0,l.K2)(D,"intersectLine"),(0,l.K2)(F,"sameSign");var P=D;function K(e,t,r){let n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach(function(e){s=Math.min(s,e.x),o=Math.min(o,e.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));let l=n-e.width/2-s,c=i-e.height/2-o;for(let h=0;h<t.length;h++){let n=t[h],i=t[h<t.length-1?h+1:0],s=P(e,r,{x:l+n.x,y:c+n.y},{x:l+i.x,y:c+i.y});s&&a.push(s)}return a.length?(a.length>1&&a.sort(function(e,t){let n=e.x-r.x,i=e.y-r.y,a=Math.sqrt(n*n+i*i),s=t.x-r.x,o=t.y-r.y,l=Math.sqrt(s*s+o*o);return a<l?-1:a===l?0:1}),a[0]):e}(0,l.K2)(K,"intersectPolygon");var j={node:M,circle:B,ellipse:N,polygon:K,rect:x};function z(e,t){const{labelStyles:r}=(0,i.GX)(t);t.labelStyle=r;const n=p(t);let a=n;n||(a="anchor");const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),{cssStyles:c}=t,u=h.A.svg(o),d=(0,i.Fr)(t,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==t.look&&(d.roughness=0);const g=u.circle(0,0,2,d),m=o.insert(()=>g,":first-child");return m.attr("class","anchor").attr("style",(0,s.KL)(c)),f(t,m),t.intersect=function(e){return l.Rm.info("Circle intersect",t,1,e),j.circle(t,1,e)},o}function U(e,t,r,n,i,a,s){const o=(e+r)/2,l=(t+n)/2,c=Math.atan2(n-t,r-e),h=(r-e)/2/i,u=(n-t)/2/a,d=Math.sqrt(h**2+u**2);if(d>1)throw new Error("The given radii are too small to create an arc between the points.");const f=Math.sqrt(1-d**2),p=o+f*a*Math.sin(c)*(s?-1:1),g=l-f*i*Math.cos(c)*(s?-1:1),m=Math.atan2((t-g)/a,(e-p)/i);let y=Math.atan2((n-g)/a,(r-p)/i)-m;s&&y<0&&(y+=2*Math.PI),!s&&y>0&&(y-=2*Math.PI);const x=[];for(let b=0;b<20;b++){const e=m+b/19*y,t=p+i*Math.cos(e),r=g+a*Math.sin(e);x.push({x:t,y:r})}return x}async function W(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.width+t.padding+20,l=s.height+t.padding,c=l/2,d=c/(2.5+l/50),{cssStyles:m}=t,y=[{x:o/2,y:-l/2},{x:-o/2,y:-l/2},...U(-o/2,-l/2,-o/2,l/2,d,c,!1),{x:o/2,y:l/2},...U(o/2,l/2,o/2,-l/2,d,c,!0)],x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=g(y),k=x.path(v,b),A=a.insert(()=>k,":first-child");return A.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(${d/2}, 0)`),f(t,A),t.intersect=function(e){return j.polygon(t,y,e)},a}function G(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}async function q(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.height+t.padding,l=s.width+t.padding+12,c=-o,d=[{x:12,y:c},{x:l,y:c},{x:l,y:0},{x:0,y:0},{x:0,y:c+12},{x:12,y:c}];let m;const{cssStyles:y}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=g(d),s=e.path(n,r);m=a.insert(()=>s,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),y&&m.attr("style",y)}else m=G(a,l,o,d);return n&&m.attr("style",n),f(t,m),t.intersect=function(e){return j.polygon(t,d,e)},a}function H(e,t){const{nodeStyles:r}=(0,i.GX)(t);t.label="";const n=e.insert("g").attr("class",p(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(28,t.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],l=h.A.svg(n),c=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(c.roughness=0,c.fillStyle="solid");const u=g(o),d=l.path(u,c),f=n.insert(()=>d,":first-child");return a&&"handDrawn"!==t.look&&f.selectAll("path").attr("style",a),r&&"handDrawn"!==t.look&&f.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(e){return j.polygon(t,o,e)},n}async function V(e,t,r){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.labelStyle=n;const{shapeSvg:o,bbox:c,halfPadding:d}=await u(e,t,p(t)),g=r?.padding??d,m=c.width/2+g;let y;const{cssStyles:x}=t;if("handDrawn"===t.look){const e=h.A.svg(o),r=(0,i.Fr)(t,{}),n=e.circle(0,0,2*m,r);y=o.insert(()=>n,":first-child"),y.attr("class","basic label-container").attr("style",(0,s.KL)(x))}else y=o.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",m).attr("cx",0).attr("cy",0);return f(t,y),t.calcIntersect=function(e,t){const r=e.width/2;return j.circle(e,r,t)},t.intersect=function(e){return l.Rm.info("Circle intersect",t,m,e),j.circle(t,m,e)},o}function Y(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=2*e;return`M ${-n/2*t},${n/2*r} L ${n/2*t},${-n/2*r}\n                   M ${n/2*t},${n/2*r} L ${-n/2*t},${-n/2*r}`}function X(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r,t.label="";const a=e.insert("g").attr("class",p(t)).attr("id",t.domId??t.id),s=Math.max(30,t?.width??0),{cssStyles:o}=t,c=h.A.svg(a),u=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(u.roughness=0,u.fillStyle="solid");const d=c.circle(0,0,2*s,u),g=Y(s),m=c.path(g,u),y=a.insert(()=>d,":first-child");return y.insert(()=>m),o&&"handDrawn"!==t.look&&y.selectAll("path").attr("style",o),n&&"handDrawn"!==t.look&&y.selectAll("path").attr("style",n),f(t,y),t.intersect=function(e){l.Rm.info("crossedCircle intersect",t,{radius:s,point:e});return j.circle(t,s,e)},a}function Z(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,l=(a*Math.PI/180-o)/(n-1);for(let c=0;c<n;c++){const n=o+c*l,i=e+r*Math.cos(n),a=t+r*Math.sin(n);s.push({x:-i,y:-a})}return s}async function Q(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),d=Math.max(5,.1*c),{cssStyles:m}=t,y=[...Z(l/2,-c/2,d,30,-90,0),{x:-l/2-d,y:d},...Z(l/2+2*d,-d,d,20,-180,-270),...Z(l/2+2*d,d,d,20,-90,-180),{x:-l/2-d,y:-c/2},...Z(l/2,c/2,d,20,0,90)],x=[{x:l/2,y:-c/2-d},{x:-l/2,y:-c/2-d},...Z(l/2,-c/2,d,20,-90,0),{x:-l/2-d,y:-d},...Z(l/2+.1*l,-d,d,20,-180,-270),...Z(l/2+.1*l,d,d,20,-90,-180),{x:-l/2-d,y:c/2},...Z(l/2,c/2,d,20,0,90),{x:-l/2,y:c/2+d},{x:l/2,y:c/2+d}],b=h.A.svg(a),v=(0,i.Fr)(t,{fill:"none"});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=g(y).replace("Z",""),A=b.path(k,v),w=g(x),T=b.path(w,{...v}),C=a.insert("g",":first-child");return C.insert(()=>T,":first-child").attr("stroke-opacity",0),C.insert(()=>A,":first-child"),C.attr("class","text"),m&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${d}, 0)`),o.attr("transform",`translate(${-l/2+d-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),f(t,C),t.intersect=function(e){return j.polygon(t,x,e)},a}function J(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,l=(a*Math.PI/180-o)/(n-1);for(let c=0;c<n;c++){const n=o+c*l,i=e+r*Math.cos(n),a=t+r*Math.sin(n);s.push({x:i,y:a})}return s}async function ee(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),d=Math.max(5,.1*c),{cssStyles:m}=t,y=[...J(l/2,-c/2,d,20,-90,0),{x:l/2+d,y:-d},...J(l/2+2*d,-d,d,20,-180,-270),...J(l/2+2*d,d,d,20,-90,-180),{x:l/2+d,y:c/2},...J(l/2,c/2,d,20,0,90)],x=[{x:-l/2,y:-c/2-d},{x:l/2,y:-c/2-d},...J(l/2,-c/2,d,20,-90,0),{x:l/2+d,y:-d},...J(l/2+2*d,-d,d,20,-180,-270),...J(l/2+2*d,d,d,20,-90,-180),{x:l/2+d,y:c/2},...J(l/2,c/2,d,20,0,90),{x:l/2,y:c/2+d},{x:-l/2,y:c/2+d}],b=h.A.svg(a),v=(0,i.Fr)(t,{fill:"none"});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=g(y).replace("Z",""),A=b.path(k,v),w=g(x),T=b.path(w,{...v}),C=a.insert("g",":first-child");return C.insert(()=>T,":first-child").attr("stroke-opacity",0),C.insert(()=>A,":first-child"),C.attr("class","text"),m&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${-d}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),f(t,C),t.intersect=function(e){return j.polygon(t,x,e)},a}function te(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,l=(a*Math.PI/180-o)/(n-1);for(let c=0;c<n;c++){const n=o+c*l,i=e+r*Math.cos(n),a=t+r*Math.sin(n);s.push({x:-i,y:-a})}return s}async function re(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=s.width+(t.padding??0),c=s.height+(t.padding??0),d=Math.max(5,.1*c),{cssStyles:m}=t,y=[...te(l/2,-c/2,d,30,-90,0),{x:-l/2-d,y:d},...te(l/2+2*d,-d,d,20,-180,-270),...te(l/2+2*d,d,d,20,-90,-180),{x:-l/2-d,y:-c/2},...te(l/2,c/2,d,20,0,90)],x=[...te(-l/2+d+d/2,-c/2,d,20,-90,-180),{x:l/2-d/2,y:d},...te(-l/2-d/2,-d,d,20,0,90),...te(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...te(-l/2+d+d/2,c/2,d,30,-180,-270)],b=[{x:l/2,y:-c/2-d},{x:-l/2,y:-c/2-d},...te(l/2,-c/2,d,20,-90,0),{x:-l/2-d,y:-d},...te(l/2+2*d,-d,d,20,-180,-270),...te(l/2+2*d,d,d,20,-90,-180),{x:-l/2-d,y:c/2},...te(l/2,c/2,d,20,0,90),{x:-l/2,y:c/2+d},{x:l/2-d-d/2,y:c/2+d},...te(-l/2+d+d/2,-c/2,d,20,-90,-180),{x:l/2-d/2,y:d},...te(-l/2-d/2,-d,d,20,0,90),...te(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...te(-l/2+d+d/2,c/2,d,30,-180,-270)],v=h.A.svg(a),k=(0,i.Fr)(t,{fill:"none"});"handDrawn"!==t.look&&(k.roughness=0,k.fillStyle="solid");const A=g(y).replace("Z",""),w=v.path(A,k),T=g(x).replace("Z",""),C=v.path(T,k),S=g(b),_=v.path(S,{...k}),$=a.insert("g",":first-child");return $.insert(()=>_,":first-child").attr("stroke-opacity",0),$.insert(()=>w,":first-child"),$.insert(()=>C,":first-child"),$.attr("class","text"),m&&"handDrawn"!==t.look&&$.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&$.selectAll("path").attr("style",n),$.attr("transform",`translate(${d-d/4}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)/2-(s.y-(s.top??0))})`),f(t,$),t.intersect=function(e){return j.polygon(t,b,e)},a}async function ne(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(80,1.25*(s.width+2*(t.padding??0)),t?.width??0),l=Math.max(20,s.height+2*(t.padding??0),t?.height??0),c=l/2,{cssStyles:d}=t,m=h.A.svg(a),x=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const b=o-c,v=l/4,k=[{x:b,y:0},{x:v,y:0},{x:0,y:l/2},{x:v,y:l},{x:b,y:l},...y(-b,-l/2,c,50,270,90)],A=g(k),w=m.path(A,x),T=a.insert(()=>w,":first-child");return T.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&T.selectChildren("path").attr("style",d),n&&"handDrawn"!==t.look&&T.selectChildren("path").attr("style",n),T.attr("transform",`translate(${-o/2}, ${-l/2})`),f(t,T),t.intersect=function(e){return j.polygon(t,k,e)},a}(0,l.K2)(z,"anchor"),(0,l.K2)(U,"generateArcPoints"),(0,l.K2)(W,"bowTieRect"),(0,l.K2)(G,"insertPolygonShape"),(0,l.K2)(q,"card"),(0,l.K2)(H,"choice"),(0,l.K2)(V,"circle"),(0,l.K2)(Y,"createLine"),(0,l.K2)(X,"crossedCircle"),(0,l.K2)(Z,"generateCirclePoints"),(0,l.K2)(Q,"curlyBraceLeft"),(0,l.K2)(J,"generateCirclePoints"),(0,l.K2)(ee,"curlyBraceRight"),(0,l.K2)(te,"generateCirclePoints"),(0,l.K2)(re,"curlyBraces"),(0,l.K2)(ne,"curvedTrapezoid");var ie=(0,l.K2)((e,t,r,n,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createCylinderPathD"),ae=(0,l.K2)((e,t,r,n,i,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createOuterCylinderPathD"),se=(0,l.K2)((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function oe(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await u(e,t,p(t)),c=Math.max(o.width+t.padding,t.width??0),d=c/2,g=d/(2.5+c/50),m=Math.max(o.height+g+t.padding,t.height??0);let y;const{cssStyles:x}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=ae(0,0,c,m,d,g),n=se(0,g,c,m,d,g),s=e.path(r,(0,i.Fr)(t,{})),o=e.path(n,(0,i.Fr)(t,{fill:"none"}));y=a.insert(()=>o,":first-child"),y=a.insert(()=>s,":first-child"),y.attr("class","basic label-container"),x&&y.attr("style",x)}else{const e=ie(0,0,c,m,d,g);y=a.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,s.KL)(x)).attr("style",n)}return y.attr("label-offset-y",g),y.attr("transform",`translate(${-c/2}, ${-(m/2+g)})`),f(t,y),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-o.height/2+(t.padding??0)/1.5-(o.y-(o.top??0))})`),t.intersect=function(e){const r=j.rect(t,e),n=r.x-(t.x??0);if(0!=d&&(Math.abs(n)<(t.width??0)/2||Math.abs(n)==(t.width??0)/2&&Math.abs(r.y-(t.y??0))>(t.height??0)/2-g)){let i=g*g*(1-n*n/(d*d));i>0&&(i=Math.sqrt(i)),i=g-i,e.y-(t.y??0)>0&&(i=-i),r.y+=i}return r},a}async function le(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=s.width+t.padding,c=s.height+t.padding,d=.2*c,g=-l/2,m=-c/2-d/2,{cssStyles:y}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=[{x:g,y:m+d},{x:-g,y:m+d},{x:-g,y:-m},{x:g,y:-m},{x:g,y:m},{x:-g,y:m},{x:-g,y:m+d}],k=x.polygon(v.map(e=>[e.x,e.y]),b),A=a.insert(()=>k,":first-child");return A.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",n),o.attr("transform",`translate(${g+(t.padding??0)/2-(s.x-(s.left??0))}, ${m+d+(t.padding??0)/2-(s.y-(s.top??0))})`),f(t,A),t.intersect=function(e){return j.rect(t,e)},a}async function ce(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,halfPadding:c}=await u(e,t,p(t)),d=o.width/2+c+5,g=o.width/2+c;let m;const{cssStyles:y}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{roughness:.2,strokeWidth:2.5}),n=(0,i.Fr)(t,{roughness:.2,strokeWidth:1.5}),o=e.circle(0,0,2*d,r),l=e.circle(0,0,2*g,n);m=a.insert("g",":first-child"),m.attr("class",(0,s.KL)(t.cssClasses)).attr("style",(0,s.KL)(y)),m.node()?.appendChild(o),m.node()?.appendChild(l)}else{m=a.insert("g",":first-child");const e=m.insert("circle",":first-child"),t=m.insert("circle");m.attr("class","basic label-container").attr("style",n),e.attr("class","outer-circle").attr("style",n).attr("r",d).attr("cx",0).attr("cy",0),t.attr("class","inner-circle").attr("style",n).attr("r",g).attr("cx",0).attr("cy",0)}return f(t,m),t.intersect=function(e){return l.Rm.info("DoubleCircle intersect",t,d,e),j.circle(t,d,e)},a}function he(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",p(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,c=h.A.svg(s),{nodeBorder:u}=r,d=(0,i.Fr)(t,{fillStyle:"solid"});"handDrawn"!==t.look&&(d.roughness=0);const g=c.circle(0,0,14,d),m=s.insert(()=>g,":first-child");return m.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",o),a&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",a),f(t,m),t.intersect=function(e){l.Rm.info("filledCircle intersect",t,{radius:7,point:e});return j.circle(t,7,e)},s}async function ue(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),c=s.width+(t.padding??0),d=c+s.height,m=c+s.height,y=[{x:0,y:-d},{x:m,y:-d},{x:m/2,y:0}],{cssStyles:x}=t,b=h.A.svg(a),v=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=g(y),A=b.path(k,v),w=a.insert(()=>A,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return x&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",x),n&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",n),t.width=c,t.height=d,f(t,w),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-d/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(e){return l.Rm.info("Triangle intersect",t,y,e),j.polygon(t,y,e)},a}function de(e,t,{dir:r,config:{state:n,themeVariables:a}}){const{nodeStyles:s}=(0,i.GX)(t);t.label="";const o=e.insert("g").attr("class",p(t)).attr("id",t.domId??t.id),{cssStyles:l}=t;let c=Math.max(70,t?.width??0),u=Math.max(10,t?.height??0);"LR"===r&&(c=Math.max(10,t?.width??0),u=Math.max(70,t?.height??0));const d=-1*c/2,g=-1*u/2,m=h.A.svg(o),y=(0,i.Fr)(t,{stroke:a.lineColor,fill:a.lineColor});"handDrawn"!==t.look&&(y.roughness=0,y.fillStyle="solid");const x=m.rectangle(d,g,c,u,y),b=o.insert(()=>x,":first-child");l&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",l),s&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",s),f(t,b);const v=n?.padding??0;return t.width&&t.height&&(t.width+=v/2||0,t.height+=v/2||0),t.intersect=function(e){return j.rect(t,e)},o}async function fe(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(80,s.width+2*(t.padding??0),t?.width??0),c=Math.max(50,s.height+2*(t.padding??0),t?.height??0),d=c/2,{cssStyles:m}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=[{x:-o/2,y:-c/2},{x:o/2-d,y:-c/2},...y(-o/2+d,0,d,50,90,270),{x:o/2-d,y:c/2},{x:-o/2,y:c/2}],k=g(v),A=x.path(k,b),w=a.insert(()=>A,":first-child");return w.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",m),n&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",n),f(t,w),t.intersect=function(e){l.Rm.info("Pill intersect",t,{radius:d,point:e});return j.polygon(t,v,e)},a}async function pe(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.height+(t.padding??0),l=s.width+2.5*(t.padding??0),{cssStyles:c}=t,d=h.A.svg(a),m=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");let y=l/2;y+=y/6;const x=o/2,b=y-x/2,v=[{x:-b,y:-x},{x:0,y:-x},{x:b,y:-x},{x:y,y:0},{x:b,y:x},{x:0,y:x},{x:-b,y:x},{x:-y,y:0}],k=g(v),A=d.path(k,m),w=a.insert(()=>A,":first-child");return w.attr("class","basic label-container"),c&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",c),n&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",n),t.width=l,t.height=o,f(t,w),t.intersect=function(e){return j.polygon(t,v,e)},a}async function ge(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.label="",t.labelStyle=r;const{shapeSvg:a}=await u(e,t,p(t)),s=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:c}=t,d=h.A.svg(a),m=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const y=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],x=g(y),b=d.path(x,m),v=a.insert(()=>b,":first-child");return v.attr("class","basic label-container"),c&&"handDrawn"!==t.look&&v.selectChildren("path").attr("style",c),n&&"handDrawn"!==t.look&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(${-s/2}, ${-o/2})`),f(t,v),t.intersect=function(e){l.Rm.info("Pill intersect",t,{points:y});return j.polygon(t,y,e)},a}async function me(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=(0,i.GX)(t);t.labelStyle=s;const o=t.assetHeight??48,c=t.assetWidth??48,d=Math.max(o,c),p=n?.wrappingWidth;t.width=Math.max(d,p??0);const{shapeSvg:g,bbox:m,label:y}=await u(e,t,"icon-shape default"),x="t"===t.pos,b=d,v=d,{nodeBorder:k}=r,{stylesMap:A}=(0,i.WW)(t),w=-v/2,T=-b/2,C=t.label?8:0,S=h.A.svg(g),_=(0,i.Fr)(t,{stroke:"none",fill:"none"});"handDrawn"!==t.look&&(_.roughness=0,_.fillStyle="solid");const $=S.rectangle(w,T,v,b,_),R=Math.max(v,m.width),E=b+m.height+C,L=S.rectangle(-R/2,-E/2,R,E,{..._,fill:"transparent",stroke:"none"}),M=g.insert(()=>$,":first-child"),I=g.insert(()=>L);if(t.icon){const e=g.append("g");e.html(`<g>${await(0,a.WY)(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),n=r.width,i=r.height,s=r.x,o=r.y;e.attr("transform",`translate(${-n/2-s},${x?m.height/2+C/2-i/2-o:-m.height/2-C/2-i/2-o})`),e.attr("style",`color: ${A.get("stroke")??k};`)}return y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-E/2:E/2-m.height})`),M.attr("transform",`translate(0,${x?m.height/2+C/2:-m.height/2-C/2})`),f(t,I),t.intersect=function(e){if(l.Rm.info("iconSquare intersect",t,e),!t.label)return j.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];a=x?[{x:r-m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2+m.height+C},{x:r+v/2,y:n-i/2+m.height+C},{x:r+v/2,y:n+i/2},{x:r-v/2,y:n+i/2},{x:r-v/2,y:n-i/2+m.height+C},{x:r-m.width/2,y:n-i/2+m.height+C}]:[{x:r-v/2,y:n-i/2},{x:r+v/2,y:n-i/2},{x:r+v/2,y:n-i/2+b},{x:r+m.width/2,y:n-i/2+b},{x:r+m.width/2/2,y:n+i/2},{x:r-m.width/2,y:n+i/2},{x:r-m.width/2,y:n-i/2+b},{x:r-v/2,y:n-i/2+b}];return j.polygon(t,a,e)},g}async function ye(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=(0,i.GX)(t);t.labelStyle=s;const o=t.assetHeight??48,c=t.assetWidth??48,d=Math.max(o,c),p=n?.wrappingWidth;t.width=Math.max(d,p??0);const{shapeSvg:g,bbox:m,label:y}=await u(e,t,"icon-shape default"),x=t.label?8:0,b="t"===t.pos,{nodeBorder:v,mainBkg:k}=r,{stylesMap:A}=(0,i.WW)(t),w=h.A.svg(g),T=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(T.roughness=0,T.fillStyle="solid");const C=A.get("fill");T.stroke=C??k;const S=g.append("g");t.icon&&S.html(`<g>${await(0,a.WY)(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);const _=S.node().getBBox(),$=_.width,R=_.height,E=_.x,L=_.y,M=Math.max($,R)*Math.SQRT2+40,I=w.circle(0,0,M,T),N=Math.max(M,m.width),O=M+m.height+x,B=w.rectangle(-N/2,-O/2,N,O,{...T,fill:"transparent",stroke:"none"}),D=g.insert(()=>I,":first-child"),F=g.insert(()=>B);return S.attr("transform",`translate(${-$/2-E},${b?m.height/2+x/2-R/2-L:-m.height/2-x/2-R/2-L})`),S.attr("style",`color: ${A.get("stroke")??v};`),y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${b?-O/2:O/2-m.height})`),D.attr("transform",`translate(0,${b?m.height/2+x/2:-m.height/2-x/2})`),f(t,F),t.intersect=function(e){l.Rm.info("iconSquare intersect",t,e);return j.rect(t,e)},g}async function xe(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=(0,i.GX)(t);t.labelStyle=s;const o=t.assetHeight??48,c=t.assetWidth??48,d=Math.max(o,c),p=n?.wrappingWidth;t.width=Math.max(d,p??0);const{shapeSvg:g,bbox:m,halfPadding:y,label:x}=await u(e,t,"icon-shape default"),b="t"===t.pos,v=d+2*y,k=d+2*y,{nodeBorder:w,mainBkg:T}=r,{stylesMap:C}=(0,i.WW)(t),S=-k/2,_=-v/2,$=t.label?8:0,R=h.A.svg(g),E=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(E.roughness=0,E.fillStyle="solid");const L=C.get("fill");E.stroke=L??T;const M=R.path(A(S,_,k,v,5),E),I=Math.max(k,m.width),N=v+m.height+$,O=R.rectangle(-I/2,-N/2,I,N,{...E,fill:"transparent",stroke:"none"}),B=g.insert(()=>M,":first-child").attr("class","icon-shape2"),D=g.insert(()=>O);if(t.icon){const e=g.append("g");e.html(`<g>${await(0,a.WY)(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),n=r.width,i=r.height,s=r.x,o=r.y;e.attr("transform",`translate(${-n/2-s},${b?m.height/2+$/2-i/2-o:-m.height/2-$/2-i/2-o})`),e.attr("style",`color: ${C.get("stroke")??w};`)}return x.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${b?-N/2:N/2-m.height})`),B.attr("transform",`translate(0,${b?m.height/2+$/2:-m.height/2-$/2})`),f(t,D),t.intersect=function(e){if(l.Rm.info("iconSquare intersect",t,e),!t.label)return j.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];a=b?[{x:r-m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2+m.height+$},{x:r+k/2,y:n-i/2+m.height+$},{x:r+k/2,y:n+i/2},{x:r-k/2,y:n+i/2},{x:r-k/2,y:n-i/2+m.height+$},{x:r-m.width/2,y:n-i/2+m.height+$}]:[{x:r-k/2,y:n-i/2},{x:r+k/2,y:n-i/2},{x:r+k/2,y:n-i/2+v},{x:r+m.width/2,y:n-i/2+v},{x:r+m.width/2/2,y:n+i/2},{x:r-m.width/2,y:n+i/2},{x:r-m.width/2,y:n-i/2+v},{x:r-k/2,y:n-i/2+v}];return j.polygon(t,a,e)},g}async function be(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=(0,i.GX)(t);t.labelStyle=s;const o=t.assetHeight??48,c=t.assetWidth??48,d=Math.max(o,c),p=n?.wrappingWidth;t.width=Math.max(d,p??0);const{shapeSvg:g,bbox:m,halfPadding:y,label:x}=await u(e,t,"icon-shape default"),b="t"===t.pos,v=d+2*y,k=d+2*y,{nodeBorder:w,mainBkg:T}=r,{stylesMap:C}=(0,i.WW)(t),S=-k/2,_=-v/2,$=t.label?8:0,R=h.A.svg(g),E=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(E.roughness=0,E.fillStyle="solid");const L=C.get("fill");E.stroke=L??T;const M=R.path(A(S,_,k,v,.1),E),I=Math.max(k,m.width),N=v+m.height+$,O=R.rectangle(-I/2,-N/2,I,N,{...E,fill:"transparent",stroke:"none"}),B=g.insert(()=>M,":first-child"),D=g.insert(()=>O);if(t.icon){const e=g.append("g");e.html(`<g>${await(0,a.WY)(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),n=r.width,i=r.height,s=r.x,o=r.y;e.attr("transform",`translate(${-n/2-s},${b?m.height/2+$/2-i/2-o:-m.height/2-$/2-i/2-o})`),e.attr("style",`color: ${C.get("stroke")??w};`)}return x.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${b?-N/2:N/2-m.height})`),B.attr("transform",`translate(0,${b?m.height/2+$/2:-m.height/2-$/2})`),f(t,D),t.intersect=function(e){if(l.Rm.info("iconSquare intersect",t,e),!t.label)return j.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];a=b?[{x:r-m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2+m.height+$},{x:r+k/2,y:n-i/2+m.height+$},{x:r+k/2,y:n+i/2},{x:r-k/2,y:n+i/2},{x:r-k/2,y:n-i/2+m.height+$},{x:r-m.width/2,y:n-i/2+m.height+$}]:[{x:r-k/2,y:n-i/2},{x:r+k/2,y:n-i/2},{x:r+k/2,y:n-i/2+v},{x:r+m.width/2,y:n-i/2+v},{x:r+m.width/2/2,y:n+i/2},{x:r-m.width/2,y:n+i/2},{x:r-m.width/2,y:n-i/2+v},{x:r-k/2,y:n-i/2+v}];return j.polygon(t,a,e)},g}async function ve(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const a=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/s;const{labelStyles:o}=(0,i.GX)(t);t.labelStyle=o;const c=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const d=Math.max(t.label?c??0:0,t?.assetWidth??a),p="on"===t.constraint&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:d,g="on"===t.constraint?p/t.imageAspectRatio:t?.assetHeight??s;t.width=Math.max(p,c??0);const{shapeSvg:m,bbox:y,label:x}=await u(e,t,"image-shape default"),b="t"===t.pos,v=-p/2,k=-g/2,A=t.label?8:0,w=h.A.svg(m),T=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(T.roughness=0,T.fillStyle="solid");const C=w.rectangle(v,k,p,g,T),S=Math.max(p,y.width),_=g+y.height+A,$=w.rectangle(-S/2,-_/2,S,_,{...T,fill:"none",stroke:"none"}),R=m.insert(()=>C,":first-child"),E=m.insert(()=>$);if(t.img){const e=m.append("image");e.attr("href",t.img),e.attr("width",p),e.attr("height",g),e.attr("preserveAspectRatio","none"),e.attr("transform",`translate(${-p/2},${b?_/2-g:-_/2})`)}return x.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${b?-g/2-y.height/2-A/2:g/2-y.height/2+A/2})`),R.attr("transform",`translate(0,${b?y.height/2+A/2:-y.height/2-A/2})`),f(t,E),t.intersect=function(e){if(l.Rm.info("iconSquare intersect",t,e),!t.label)return j.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];a=b?[{x:r-y.width/2,y:n-i/2},{x:r+y.width/2,y:n-i/2},{x:r+y.width/2,y:n-i/2+y.height+A},{x:r+p/2,y:n-i/2+y.height+A},{x:r+p/2,y:n+i/2},{x:r-p/2,y:n+i/2},{x:r-p/2,y:n-i/2+y.height+A},{x:r-y.width/2,y:n-i/2+y.height+A}]:[{x:r-p/2,y:n-i/2},{x:r+p/2,y:n-i/2},{x:r+p/2,y:n-i/2+g},{x:r+y.width/2,y:n-i/2+g},{x:r+y.width/2/2,y:n+i/2},{x:r-y.width/2,y:n+i/2},{x:r-y.width/2,y:n-i/2+g},{x:r-p/2,y:n-i/2+g}];return j.polygon(t,a,e)},m}async function ke(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+2*(t.padding??0),t?.width??0),l=Math.max(s.height+2*(t.padding??0),t?.height??0),c=[{x:0,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:-3*l/6,y:-l}];let d;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=g(c),s=e.path(n,r);d=a.insert(()=>s,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),m&&d.attr("style",m)}else d=G(a,o,l,c);return n&&d.attr("style",n),t.width=o,t.height=l,f(t,d),t.intersect=function(e){return j.polygon(t,c,e)},a}async function Ae(e,t,r){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.labelStyle=n;const{shapeSvg:o,bbox:l}=await u(e,t,p(t)),c=Math.max(l.width+2*r.labelPaddingX,t?.width||0),d=Math.max(l.height+2*r.labelPaddingY,t?.height||0),g=-c/2,m=-d/2;let y,{rx:x,ry:b}=t;const{cssStyles:v}=t;if(r?.rx&&r.ry&&(x=r.rx,b=r.ry),"handDrawn"===t.look){const e=h.A.svg(o),r=(0,i.Fr)(t,{}),n=x||b?e.path(A(g,m,c,d,x||0),r):e.rectangle(g,m,c,d,r);y=o.insert(()=>n,":first-child"),y.attr("class","basic label-container").attr("style",(0,s.KL)(v))}else y=o.insert("rect",":first-child"),y.attr("class","basic label-container").attr("style",a).attr("rx",(0,s.KL)(x)).attr("ry",(0,s.KL)(b)).attr("x",g).attr("y",m).attr("width",c).attr("height",d);return f(t,y),t.calcIntersect=function(e,t){return j.rect(e,t)},t.intersect=function(e){return j.rect(t,e)},o}async function we(e,t){const{shapeSvg:r,bbox:n,label:i}=await u(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-n.height/2-(n.y-(n.top??0))})`),f(t,a),t.intersect=function(e){return j.rect(t,e)},r}async function Te(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+(t.padding??0),t?.width??0),l=Math.max(s.height+(t.padding??0),t?.height??0),c=[{x:0,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:-3*l/6,y:-l}];let d;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=g(c),s=e.path(n,r);d=a.insert(()=>s,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),m&&d.attr("style",m)}else d=G(a,o,l,c);return n&&d.attr("style",n),t.width=o,t.height=l,f(t,d),t.intersect=function(e){return j.polygon(t,c,e)},a}async function Ce(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+(t.padding??0),t?.width??0),l=Math.max(s.height+(t.padding??0),t?.height??0),c=[{x:-3*l/6,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:0,y:-l}];let d;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=g(c),s=e.path(n,r);d=a.insert(()=>s,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),m&&d.attr("style",m)}else d=G(a,o,l,c);return n&&d.attr("style",n),t.width=o,t.height=l,f(t,d),t.intersect=function(e){return j.polygon(t,c,e)},a}function Se(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",p(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,o=Math.max(35,t?.width??0),c=Math.max(35,t?.height??0),u=[{x:o,y:0},{x:0,y:c+3.5},{x:o-14,y:c+3.5},{x:0,y:2*c},{x:o,y:c-3.5},{x:14,y:c-3.5}],d=h.A.svg(a),m=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const y=g(u),x=d.path(y,m),b=a.insert(()=>x,":first-child");return s&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",s),n&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(-${o/2},${-c})`),f(t,b),t.intersect=function(e){l.Rm.info("lightningBolt intersect",t,e);return j.polygon(t,u,e)},a}(0,l.K2)(oe,"cylinder"),(0,l.K2)(le,"dividedRectangle"),(0,l.K2)(ce,"doublecircle"),(0,l.K2)(he,"filledCircle"),(0,l.K2)(ue,"flippedTriangle"),(0,l.K2)(de,"forkJoin"),(0,l.K2)(fe,"halfRoundedRectangle"),(0,l.K2)(pe,"hexagon"),(0,l.K2)(ge,"hourglass"),(0,l.K2)(me,"icon"),(0,l.K2)(ye,"iconCircle"),(0,l.K2)(xe,"iconRounded"),(0,l.K2)(be,"iconSquare"),(0,l.K2)(ve,"imageSquare"),(0,l.K2)(ke,"inv_trapezoid"),(0,l.K2)(Ae,"drawRect"),(0,l.K2)(we,"labelRect"),(0,l.K2)(Te,"lean_left"),(0,l.K2)(Ce,"lean_right"),(0,l.K2)(Se,"lightningBolt");var _e=(0,l.K2)((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),$e=(0,l.K2)((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),Re=(0,l.K2)((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Ee(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await u(e,t,p(t)),c=Math.max(o.width+(t.padding??0),t.width??0),d=c/2,g=d/(2.5+c/50),m=Math.max(o.height+g+(t.padding??0),t.height??0),y=.1*m;let x;const{cssStyles:b}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=$e(0,0,c,m,d,g,y),n=Re(0,g,c,m,d,g),s=(0,i.Fr)(t,{}),o=e.path(r,s),l=e.path(n,s);a.insert(()=>l,":first-child").attr("class","line"),x=a.insert(()=>o,":first-child"),x.attr("class","basic label-container"),b&&x.attr("style",b)}else{const e=_e(0,0,c,m,d,g,y);x=a.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,s.KL)(b)).attr("style",n)}return x.attr("label-offset-y",g),x.attr("transform",`translate(${-c/2}, ${-(m/2+g)})`),f(t,x),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-o.height/2+g-(o.y-(o.top??0))})`),t.intersect=function(e){const r=j.rect(t,e),n=r.x-(t.x??0);if(0!=d&&(Math.abs(n)<(t.width??0)/2||Math.abs(n)==(t.width??0)/2&&Math.abs(r.y-(t.y??0))>(t.height??0)/2-g)){let i=g*g*(1-n*n/(d*d));i>0&&(i=Math.sqrt(i)),i=g-i,e.y-(t.y??0)>0&&(i=-i),r.y+=i}return r},a}async function Le(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=c/4,g=c+d,{cssStyles:y}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=[{x:-l/2-l/2*.1,y:-g/2},{x:-l/2-l/2*.1,y:g/2},...m(-l/2-l/2*.1,g/2,l/2+l/2*.1,g/2,d,.8),{x:l/2+l/2*.1,y:-g/2},{x:-l/2-l/2*.1,y:-g/2},{x:-l/2,y:-g/2},{x:-l/2,y:g/2*1.1},{x:-l/2,y:-g/2}],k=x.polygon(v.map(e=>[e.x,e.y]),b),A=a.insert(()=>k,":first-child");return A.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(s.x-(s.left??0))},${-c/2+(t.padding??0)-d/2-(s.y-(s.top??0))})`),f(t,A),t.intersect=function(e){return j.polygon(t,v,e)},a}async function Me(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=-l/2,m=-c/2,{cssStyles:y}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{}),v=[{x:d-5,y:m+5},{x:d-5,y:m+c+5},{x:d+l-5,y:m+c+5},{x:d+l-5,y:m+c},{x:d+l,y:m+c},{x:d+l,y:m+c-5},{x:d+l+5,y:m+c-5},{x:d+l+5,y:m-5},{x:d+5,y:m-5},{x:d+5,y:m},{x:d,y:m},{x:d,y:m+5}],k=[{x:d,y:m+5},{x:d+l-5,y:m+5},{x:d+l-5,y:m+c},{x:d+l,y:m+c},{x:d+l,y:m},{x:d,y:m}];"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const A=g(v),w=x.path(A,b),T=g(k),C=x.path(T,{...b,fill:"none"}),S=a.insert(()=>C,":first-child");return S.insert(()=>w,":first-child"),S.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",n),o.attr("transform",`translate(${-s.width/2-5-(s.x-(s.left??0))}, ${-s.height/2+5-(s.y-(s.top??0))})`),f(t,S),t.intersect=function(e){return j.polygon(t,v,e)},a}async function Ie(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=c/4,y=c+d,x=-l/2,b=-y/2,{cssStyles:v}=t,k=m(x-5,b+y+5,x+l-5,b+y+5,d,.8),A=k?.[k.length-1],w=[{x:x-5,y:b+5},{x:x-5,y:b+y+5},...k,{x:x+l-5,y:A.y-5},{x:x+l,y:A.y-5},{x:x+l,y:A.y-10},{x:x+l+5,y:A.y-10},{x:x+l+5,y:b-5},{x:x+5,y:b-5},{x:x+5,y:b},{x:x,y:b},{x:x,y:b+5}],T=[{x:x,y:b+5},{x:x+l-5,y:b+5},{x:x+l-5,y:A.y-5},{x:x+l,y:A.y-5},{x:x+l,y:b},{x:x,y:b}],C=h.A.svg(a),S=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(S.roughness=0,S.fillStyle="solid");const _=g(w),$=C.path(_,S),R=g(T),E=C.path(R,S),L=a.insert(()=>$,":first-child");return L.insert(()=>E),L.attr("class","basic label-container"),v&&"handDrawn"!==t.look&&L.selectAll("path").attr("style",v),n&&"handDrawn"!==t.look&&L.selectAll("path").attr("style",n),L.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-s.width/2-5-(s.x-(s.left??0))}, ${-s.height/2+5-d/2-(s.y-(s.top??0))})`),f(t,L),t.intersect=function(e){return j.polygon(t,w,e)},a}async function Ne(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.labelStyle=n;t.useHtmlLabels||!1!==(0,o.zj)().flowchart?.htmlLabels||(t.centerLabel=!0);const{shapeSvg:s,bbox:l,label:c}=await u(e,t,p(t)),d=Math.max(l.width+2*(t.padding??0),t?.width??0),g=Math.max(l.height+2*(t.padding??0),t?.height??0),m=-d/2,y=-g/2,{cssStyles:x}=t,b=h.A.svg(s),v=(0,i.Fr)(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=b.rectangle(m,y,d,g,v),A=s.insert(()=>k,":first-child");return A.attr("class","basic label-container"),x&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",x),a&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",a),c.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-l.height/2-(l.y-(l.top??0))})`),f(t,A),t.intersect=function(e){return j.rect(t,e)},s}(0,l.K2)(Ee,"linedCylinder"),(0,l.K2)(Le,"linedWaveEdgedRect"),(0,l.K2)(Me,"multiRect"),(0,l.K2)(Ie,"multiWaveEdgedRectangle"),(0,l.K2)(Ne,"note");var Oe=(0,l.K2)((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Be(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.width+t.padding+(s.height+t.padding),l=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];let c;const{cssStyles:d}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=Oe(0,0,o),s=e.path(n,r);c=a.insert(()=>s,":first-child").attr("transform",`translate(${-o/2+.5}, ${o/2})`),d&&c.attr("style",d)}else c=G(a,o,o,l),c.attr("transform",`translate(${-o/2+.5}, ${o/2})`);return n&&c.attr("style",n),f(t,c),t.calcIntersect=function(e,t){const r=e.width,n=[{x:r/2,y:0},{x:r,y:-r/2},{x:r/2,y:-r},{x:0,y:-r/2}],i=j.polygon(e,n,t);return{x:i.x-.5,y:i.y-.5}},t.intersect=function(e){return this.calcIntersect(t,e)},a}async function De(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=-Math.max(s.width+(t.padding??0),t?.width??0)/2,c=-Math.max(s.height+(t.padding??0),t?.height??0)/2,d=c/2,m=[{x:l+d,y:c},{x:l,y:0},{x:l+d,y:-c},{x:-l,y:-c},{x:-l,y:c}],{cssStyles:y}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=g(m),k=x.path(v,b),A=a.insert(()=>k,":first-child");return A.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(${-d/2},0)`),o.attr("transform",`translate(${-d/2-s.width/2-(s.x-(s.left??0))}, ${-s.height/2-(s.y-(s.top??0))})`),f(t,A),t.intersect=function(e){return j.polygon(t,m,e)},a}async function Fe(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);let a;t.labelStyle=r,a=t.cssClasses?"node "+t.cssClasses:"node default";const s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=s.insert("g"),d=s.insert("g").attr("class","label").attr("style",n),p=t.description,g=t.label,m=d.node().appendChild(await k(g,t.labelStyle,!0,!0));let y={width:0,height:0};if((0,o._3)((0,o.D7)()?.flowchart?.htmlLabels)){const e=m.children[0],t=(0,c.Ltv)(m);y=e.getBoundingClientRect(),t.attr("width",y.width),t.attr("height",y.height)}l.Rm.info("Text 2",p);const x=p||[],b=m.getBBox(),v=d.node().appendChild(await k(x.join?x.join("<br/>"):x,t.labelStyle,!0,!0)),w=v.children[0],T=(0,c.Ltv)(v);y=w.getBoundingClientRect(),T.attr("width",y.width),T.attr("height",y.height);const C=(t.padding||0)/2;(0,c.Ltv)(v).attr("transform","translate( "+(y.width>b.width?0:(b.width-y.width)/2)+", "+(b.height+C+5)+")"),(0,c.Ltv)(m).attr("transform","translate( "+(y.width<b.width?0:-(b.width-y.width)/2)+", 0)"),y=d.node().getBBox(),d.attr("transform","translate("+-y.width/2+", "+(-y.height/2-C+3)+")");const S=y.width+(t.padding||0),_=y.height+(t.padding||0),$=-y.width/2-C,R=-y.height/2-C;let E,L;if("handDrawn"===t.look){const e=h.A.svg(s),r=(0,i.Fr)(t,{}),n=e.path(A($,R,S,_,t.rx||0),r),a=e.line(-y.width/2-C,-y.height/2-C+b.height+C,y.width/2+C,-y.height/2-C+b.height+C,r);L=s.insert(()=>(l.Rm.debug("Rough node insert CXC",n),a),":first-child"),E=s.insert(()=>(l.Rm.debug("Rough node insert CXC",n),n),":first-child")}else E=u.insert("rect",":first-child"),L=u.insert("line"),E.attr("class","outer title-state").attr("style",n).attr("x",-y.width/2-C).attr("y",-y.height/2-C).attr("width",y.width+(t.padding||0)).attr("height",y.height+(t.padding||0)),L.attr("class","divider").attr("x1",-y.width/2-C).attr("x2",y.width/2+C).attr("y1",-y.height/2-C+b.height+C).attr("y2",-y.height/2-C+b.height+C);return f(t,E),t.intersect=function(e){return j.rect(t,e)},s}function Pe(e,t,r,n,i,a,s){const o=(e+r)/2,l=(t+n)/2,c=Math.atan2(n-t,r-e),h=(r-e)/2/i,u=(n-t)/2/a,d=Math.sqrt(h**2+u**2);if(d>1)throw new Error("The given radii are too small to create an arc between the points.");const f=Math.sqrt(1-d**2),p=o+f*a*Math.sin(c)*(s?-1:1),g=l-f*i*Math.cos(c)*(s?-1:1),m=Math.atan2((t-g)/a,(e-p)/i);let y=Math.atan2((n-g)/a,(r-p)/i)-m;s&&y<0&&(y+=2*Math.PI),!s&&y>0&&(y-=2*Math.PI);const x=[];for(let b=0;b<20;b++){const e=m+b/19*y,t=p+i*Math.cos(e),r=g+a*Math.sin(e);x.push({x:t,y:r})}return x}async function Ke(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=t?.padding??0,l=t?.padding??0,c=(t?.width?t?.width:s.width)+2*o,d=(t?.height?t?.height:s.height)+2*l,m=t.radius||5,y=t.taper||5,{cssStyles:x}=t,b=h.A.svg(a),v=(0,i.Fr)(t,{});t.stroke&&(v.stroke=t.stroke),"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=[{x:-c/2+y,y:-d/2},{x:c/2-y,y:-d/2},...Pe(c/2-y,-d/2,c/2,-d/2+y,m,m,!0),{x:c/2,y:-d/2+y},{x:c/2,y:d/2-y},...Pe(c/2,d/2-y,c/2-y,d/2,m,m,!0),{x:c/2-y,y:d/2},{x:-c/2+y,y:d/2},...Pe(-c/2+y,d/2,-c/2,d/2-y,m,m,!0),{x:-c/2,y:d/2-y},{x:-c/2,y:-d/2+y},...Pe(-c/2,-d/2+y,-c/2+y,-d/2,m,m,!0)],A=g(k),w=b.path(A,v),T=a.insert(()=>w,":first-child");return T.attr("class","basic label-container outer-path"),x&&"handDrawn"!==t.look&&T.selectChildren("path").attr("style",x),n&&"handDrawn"!==t.look&&T.selectChildren("path").attr("style",n),f(t,T),t.intersect=function(e){return j.polygon(t,k,e)},a}async function je(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await u(e,t,p(t)),c=t?.padding??0,d=Math.max(o.width+2*(t.padding??0),t?.width??0),g=Math.max(o.height+2*(t.padding??0),t?.height??0),m=-o.width/2-c,y=-o.height/2-c,{cssStyles:x}=t,b=h.A.svg(a),v=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const k=[{x:m,y:y},{x:m+d+8,y:y},{x:m+d+8,y:y+g},{x:m-8,y:y+g},{x:m-8,y:y},{x:m,y:y},{x:m,y:y+g}],A=b.polygon(k.map(e=>[e.x,e.y]),v),w=a.insert(()=>A,":first-child");return w.attr("class","basic label-container").attr("style",(0,s.KL)(x)),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),x&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),l.attr("transform",`translate(${-d/2+4+(t.padding??0)-(o.x-(o.left??0))},${-g/2+(t.padding??0)-(o.y-(o.top??0))})`),f(t,w),t.intersect=function(e){return j.rect(t,e)},a}async function ze(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=-l/2,m=-c/2,{cssStyles:y}=t,x=h.A.svg(a),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=[{x:d,y:m},{x:d,y:m+c},{x:d+l,y:m+c},{x:d+l,y:m-c/2}],k=g(v),A=x.path(k,b),w=a.insert(()=>A,":first-child");return w.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",y),n&&"handDrawn"!==t.look&&w.selectChildren("path").attr("style",n),w.attr("transform",`translate(0, ${c/4})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))}, ${-c/4+(t.padding??0)-(s.y-(s.top??0))})`),f(t,w),t.intersect=function(e){return j.polygon(t,v,e)},a}async function Ue(e,t){return Ae(e,t,{rx:0,ry:0,classes:"",labelPaddingX:t.labelPaddingX??2*(t?.padding||0),labelPaddingY:1*(t?.padding||0)})}async function We(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.height+t.padding,l=s.width+o/4+t.padding,c=o/2,{cssStyles:d}=t,m=h.A.svg(a),x=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-l/2+c,y:-o/2},{x:l/2-c,y:-o/2},...y(-l/2+c,0,c,50,90,270),{x:l/2-c,y:o/2},...y(l/2-c,0,c,50,270,450)],v=g(b),k=m.path(v,x),A=a.insert(()=>k,":first-child");return A.attr("class","basic label-container outer-path"),d&&"handDrawn"!==t.look&&A.selectChildren("path").attr("style",d),n&&"handDrawn"!==t.look&&A.selectChildren("path").attr("style",n),f(t,A),t.intersect=function(e){return j.polygon(t,b,e)},a}async function Ge(e,t){return Ae(e,t,{rx:5,ry:5,classes:"flowchart-node"})}function qe(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:o,stateBorder:l,nodeBorder:c}=r,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=h.A.svg(u),p=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const g=d.circle(0,0,14,{...p,stroke:o,strokeWidth:2}),m=l??c,y=d.circle(0,0,5,{...p,fill:m,stroke:m,strokeWidth:2,fillStyle:"solid"}),x=u.insert(()=>g,":first-child");return x.insert(()=>y),s&&x.selectAll("path").attr("style",s),a&&x.selectAll("path").attr("style",a),f(t,x),t.intersect=function(e){return j.circle(t,7,e)},u}function He(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if("handDrawn"===t.look){const e=h.A.svg(a).circle(0,0,14,(0,i.ue)(n));s=a.insert(()=>e),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=a.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return f(t,s),t.intersect=function(e){return j.circle(t,7,e)},a}async function Ve(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await u(e,t,p(t)),l=(t?.padding||0)/2,c=o.width+t.padding,d=o.height+t.padding,g=-o.width/2-l,m=-o.height/2-l,y=[{x:0,y:0},{x:c,y:0},{x:c,y:-d},{x:0,y:-d},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-d},{x:-8,y:-d},{x:-8,y:0}];if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=e.rectangle(g-8,m,c+16,d,r),o=e.line(g,m,g,m+d,r),l=e.line(g+c,m,g+c,m+d,r);a.insert(()=>o,":first-child"),a.insert(()=>l,":first-child");const u=a.insert(()=>n,":first-child"),{cssStyles:p}=t;u.attr("class","basic label-container").attr("style",(0,s.KL)(p)),f(t,u)}else{const e=G(a,c,d,y);n&&e.attr("style",n),f(t,e)}return t.intersect=function(e){return j.polygon(t,y,e)},a}async function Ye(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+2*(t.padding??0),t?.width??0),l=Math.max(s.height+2*(t.padding??0),t?.height??0),c=-o/2,d=-l/2,m=.2*l,y=.2*l,{cssStyles:x}=t,b=h.A.svg(a),v=(0,i.Fr)(t,{}),k=[{x:c-m/2,y:d},{x:c+o+m/2,y:d},{x:c+o+m/2,y:d+l},{x:c-m/2,y:d+l}],A=[{x:c+o-m/2,y:d+l},{x:c+o+m/2,y:d+l},{x:c+o+m/2,y:d+l-y}];"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const w=g(k),T=b.path(w,v),C=g(A),S=b.path(C,{...v,fillStyle:"solid"}),_=a.insert(()=>S,":first-child");return _.insert(()=>T,":first-child"),_.attr("class","basic label-container"),x&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",x),n&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",n),f(t,_),t.intersect=function(e){return j.polygon(t,k,e)},a}async function Xe(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=c/4,y=.2*l,x=.2*c,b=c+d,{cssStyles:v}=t,k=h.A.svg(a),A=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(A.roughness=0,A.fillStyle="solid");const w=[{x:-l/2-l/2*.1,y:b/2},...m(-l/2-l/2*.1,b/2,l/2+l/2*.1,b/2,d,.8),{x:l/2+l/2*.1,y:-b/2},{x:-l/2-l/2*.1,y:-b/2}],T=-l/2+l/2*.1,C=-b/2-.4*x,S=[{x:T+l-y,y:1.4*(C+c)},{x:T+l,y:C+c-x},{x:T+l,y:.9*(C+c)},...m(T+l,1.3*(C+c),T+l-y,1.5*(C+c),.03*-c,.5)],_=g(w),$=k.path(_,A),R=g(S),E=k.path(R,{...A,fillStyle:"solid"}),L=a.insert(()=>E,":first-child");return L.insert(()=>$,":first-child"),L.attr("class","basic label-container"),v&&"handDrawn"!==t.look&&L.selectAll("path").attr("style",v),n&&"handDrawn"!==t.look&&L.selectAll("path").attr("style",n),L.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-d/2-(s.y-(s.top??0))})`),f(t,L),t.intersect=function(e){return j.polygon(t,w,e)},a}async function Ze(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+t.padding,t?.width||0),l=Math.max(s.height+t.padding,t?.height||0),c=-o/2,h=-l/2,d=a.insert("rect",":first-child");return d.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",c).attr("y",h).attr("width",o).attr("height",l),f(t,d),t.intersect=function(e){return j.rect(t,e)},a}(0,l.K2)(Be,"question"),(0,l.K2)(De,"rect_left_inv_arrow"),(0,l.K2)(Fe,"rectWithTitle"),(0,l.K2)(Pe,"generateArcPoints"),(0,l.K2)(Ke,"roundedRect"),(0,l.K2)(je,"shadedProcess"),(0,l.K2)(ze,"slopedRect"),(0,l.K2)(Ue,"squareRect"),(0,l.K2)(We,"stadium"),(0,l.K2)(Ge,"state"),(0,l.K2)(qe,"stateEnd"),(0,l.K2)(He,"stateStart"),(0,l.K2)(Ve,"subroutine"),(0,l.K2)(Ye,"taggedRect"),(0,l.K2)(Xe,"taggedWaveEdgedRectangle"),(0,l.K2)(Ze,"text");var Qe=(0,l.K2)((e,t,r,n,i,a)=>`M${e},${t}\n    a${i},${a} 0,0,1 0,${-n}\n    l${r},0\n    a${i},${a} 0,0,1 0,${n}\n    M${r},${-n}\n    a${i},${a} 0,0,0 0,${n}\n    l${-r},0`,"createCylinderPathD"),Je=(0,l.K2)((e,t,r,n,i,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),et=(0,l.K2)((e,t,r,n,i,a)=>[`M${e+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function tt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l,halfPadding:c}=await u(e,t,p(t)),d="neo"===t.look?2*c:c,g=o.height+d,m=g/2,y=m/(2.5+g/50),x=o.width+y+d,{cssStyles:b}=t;let v;if("handDrawn"===t.look){const e=h.A.svg(a),r=Je(0,0,x,g,y,m),n=et(0,0,x,g,y,m),s=e.path(r,(0,i.Fr)(t,{})),o=e.path(n,(0,i.Fr)(t,{fill:"none"}));v=a.insert(()=>o,":first-child"),v=a.insert(()=>s,":first-child"),v.attr("class","basic label-container"),b&&v.attr("style",b)}else{const e=Qe(0,0,x,g,y,m);v=a.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,s.KL)(b)).attr("style",n),v.attr("class","basic label-container"),b&&v.selectAll("path").attr("style",b),n&&v.selectAll("path").attr("style",n)}return v.attr("label-offset-x",y),v.attr("transform",`translate(${-x/2}, ${g/2} )`),l.attr("transform",`translate(${-o.width/2-y-(o.x-(o.left??0))}, ${-o.height/2-(o.y-(o.top??0))})`),f(t,v),t.intersect=function(e){const r=j.rect(t,e),n=r.y-(t.y??0);if(0!=m&&(Math.abs(n)<(t.height??0)/2||Math.abs(n)==(t.height??0)/2&&Math.abs(r.x-(t.x??0))>(t.width??0)/2-y)){let i=y*y*(1-n*n/(m*m));0!=i&&(i=Math.sqrt(Math.abs(i))),i=y-i,e.x-(t.x??0)>0&&(i=-i),r.x+=i}return r},a}async function rt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=s.width+t.padding,l=s.height+t.padding,c=[{x:-3*l/6,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:0,y:-l}];let d;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=g(c),s=e.path(n,r);d=a.insert(()=>s,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),m&&d.attr("style",m)}else d=G(a,o,l,c);return n&&d.attr("style",n),t.width=o,t.height=l,f(t,d),t.intersect=function(e){return j.polygon(t,c,e)},a}async function nt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(60,s.width+2*(t.padding??0),t?.width??0),l=Math.max(20,s.height+2*(t.padding??0),t?.height??0),{cssStyles:c}=t,d=h.A.svg(a),m=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-o/2*.8,y:-l/2},{x:o/2*.8,y:-l/2},{x:o/2,y:-l/2*.6},{x:o/2,y:l/2},{x:-o/2,y:l/2},{x:-o/2,y:-l/2*.6}],x=g(y),b=d.path(x,m),v=a.insert(()=>b,":first-child");return v.attr("class","basic label-container"),c&&"handDrawn"!==t.look&&v.selectChildren("path").attr("style",c),n&&"handDrawn"!==t.look&&v.selectChildren("path").attr("style",n),f(t,v),t.intersect=function(e){return j.polygon(t,y,e)},a}async function it(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:c}=await u(e,t,p(t)),d=(0,o._3)((0,o.D7)().flowchart?.htmlLabels),m=s.width+(t.padding??0),y=m+s.height,x=m+s.height,b=[{x:0,y:0},{x:x,y:0},{x:x/2,y:-y}],{cssStyles:v}=t,k=h.A.svg(a),A=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(A.roughness=0,A.fillStyle="solid");const w=g(b),T=k.path(w,A),C=a.insert(()=>T,":first-child").attr("transform",`translate(${-y/2}, ${y/2})`);return v&&"handDrawn"!==t.look&&C.selectChildren("path").attr("style",v),n&&"handDrawn"!==t.look&&C.selectChildren("path").attr("style",n),t.width=m,t.height=y,f(t,C),c.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${y/2-(s.height+(t.padding??0)/(d?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(e){return l.Rm.info("Triangle intersect",t,b,e),j.polygon(t,b,e)},a}async function at(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=c/8,y=c+d,{cssStyles:x}=t,b=70-l,v=b>0?b/2:0,k=h.A.svg(a),A=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(A.roughness=0,A.fillStyle="solid");const w=[{x:-l/2-v,y:y/2},...m(-l/2-v,y/2,l/2+v,y/2,d,.8),{x:l/2+v,y:-y/2},{x:-l/2-v,y:-y/2}],T=g(w),C=k.path(T,A),S=a.insert(()=>C,":first-child");return S.attr("class","basic label-container"),x&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",x),n&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-d-(s.y-(s.top??0))})`),f(t,S),t.intersect=function(e){return j.polygon(t,w,e)},a}async function st(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await u(e,t,p(t)),o=Math.max(s.width+2*(t.padding??0),t?.width??0),l=Math.max(s.height+2*(t.padding??0),t?.height??0),c=o/l;let d=o,y=l;d>y*c?y=d/c:d=y*c,d=Math.max(d,100),y=Math.max(y,50);const x=Math.min(.2*y,y/4),b=y+2*x,{cssStyles:v}=t,k=h.A.svg(a),A=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(A.roughness=0,A.fillStyle="solid");const w=[{x:-d/2,y:b/2},...m(-d/2,b/2,d/2,b/2,x,1),{x:d/2,y:-b/2},...m(d/2,-b/2,-d/2,-b/2,x,-1)],T=g(w),C=k.path(T,A),S=a.insert(()=>C,":first-child");return S.attr("class","basic label-container"),v&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",v),n&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",n),f(t,S),t.intersect=function(e){return j.polygon(t,w,e)},a}async function ot(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,label:o}=await u(e,t,p(t)),l=Math.max(s.width+2*(t.padding??0),t?.width??0),c=Math.max(s.height+2*(t.padding??0),t?.height??0),d=-l/2,g=-c/2,{cssStyles:m}=t,y=h.A.svg(a),x=(0,i.Fr)(t,{}),b=[{x:d-5,y:g-5},{x:d-5,y:g+c},{x:d+l,y:g+c},{x:d+l,y:g-5}],v=`M${d-5},${g-5} L${d+l},${g-5} L${d+l},${g+c} L${d-5},${g+c} L${d-5},${g-5}\n                M${d-5},${g} L${d+l},${g}\n                M${d},${g-5} L${d},${g+c}`;"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const k=y.path(v,x),A=a.insert(()=>k,":first-child");return A.attr("transform","translate(2.5, 2.5)"),A.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&A.selectAll("path").attr("style",n),o.attr("transform",`translate(${-s.width/2+2.5-(s.x-(s.left??0))}, ${-s.height/2+2.5-(s.y-(s.top??0))})`),f(t,A),t.intersect=function(e){return j.polygon(t,b,e)},a}async function lt(e,t){const r=t;if(r.alias&&(t.label=r.alias),"handDrawn"===t.look){const{themeVariables:r}=(0,o.zj)(),{background:n}=r,i={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${n}`]};await lt(e,i)}const n=(0,o.zj)();t.useHtmlLabels=n.htmlLabels;let a=n.er?.diagramPadding??10,l=n.er?.entityPadding??6;const{cssStyles:u}=t,{labelStyles:d,nodeStyles:g}=(0,i.GX)(t);if(0===r.attributes.length&&t.label){const r={rx:0,ry:0,labelPaddingX:a,labelPaddingY:1.5*a,classes:""};(0,s.Un)(t.label,n)+2*r.labelPaddingX<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const i=await Ae(e,t,r);if(!(0,o._3)(n.htmlLabels)){const e=i.select("text"),t=e.node()?.getBBox();e.attr("transform",`translate(${-t.width/2}, 0)`)}return i}n.htmlLabels||(a*=1.25,l*=1.25);let m=p(t);m||(m="node default");const y=e.insert("g").attr("class",m).attr("id",t.domId||t.id),x=await ct(y,t.label??"",n,0,0,["name"],d);x.height+=l;let b=0;const v=[],k=[];let A=0,w=0,T=0,C=0,S=!0,_=!0;for(const i of r.attributes){const e=await ct(y,i.type,n,0,b,["attribute-type"],d);A=Math.max(A,e.width+a);const t=await ct(y,i.name,n,0,b,["attribute-name"],d);w=Math.max(w,t.width+a);const r=await ct(y,i.keys.join(),n,0,b,["attribute-keys"],d);T=Math.max(T,r.width+a);const s=await ct(y,i.comment,n,0,b,["attribute-comment"],d);C=Math.max(C,s.width+a);const o=Math.max(e.height,t.height,r.height,s.height)+l;k.push({yOffset:b,rowHeight:o}),b+=o}let $=4;T<=a&&(S=!1,T=0,$--),C<=a&&(_=!1,C=0,$--);const R=y.node().getBBox();if(x.width+2*a-(A+w+T+C)>0){const e=x.width+2*a-(A+w+T+C);A+=e/$,w+=e/$,T>0&&(T+=e/$),C>0&&(C+=e/$)}const E=A+w+T+C,L=h.A.svg(y),M=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(M.roughness=0,M.fillStyle="solid");let I=0;k.length>0&&(I=k.reduce((e,t)=>e+(t?.rowHeight??0),0));const N=Math.max(R.width+2*a,t?.width||0,E),O=Math.max((I??0)+x.height,t?.height||0),B=-N/2,D=-O/2;y.selectAll("g:not(:first-child)").each((e,t,r)=>{const n=(0,c.Ltv)(r[t]),i=n.attr("transform");let s=0,o=0;if(i){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(i);e&&(s=parseFloat(e[1]),o=parseFloat(e[2]),n.attr("class").includes("attribute-name")?s+=A:n.attr("class").includes("attribute-keys")?s+=A+w:n.attr("class").includes("attribute-comment")&&(s+=A+w+T))}n.attr("transform",`translate(${B+a/2+s}, ${o+D+x.height+l/2})`)}),y.select(".name").attr("transform","translate("+-x.width/2+", "+(D+l/2)+")");const F=L.rectangle(B,D,N,O,M),P=y.insert(()=>F,":first-child").attr("style",u.join("")),{themeVariables:K}=(0,o.zj)(),{rowEven:z,rowOdd:U,nodeBorder:W}=K;v.push(0);for(const[i,s]of k.entries()){const e=(i+1)%2==0&&0!==s.yOffset,t=L.rectangle(B,x.height+D+s?.yOffset,N,s?.rowHeight,{...M,fill:e?z:U,stroke:W});y.insert(()=>t,"g.label").attr("style",u.join("")).attr("class","row-rect-"+(e?"even":"odd"))}let G=L.line(B,x.height+D,N+B,x.height+D,M);y.insert(()=>G).attr("class","divider"),G=L.line(A+B,x.height+D,A+B,O+D,M),y.insert(()=>G).attr("class","divider"),S&&(G=L.line(A+w+B,x.height+D,A+w+B,O+D,M),y.insert(()=>G).attr("class","divider")),_&&(G=L.line(A+w+T+B,x.height+D,A+w+T+B,O+D,M),y.insert(()=>G).attr("class","divider"));for(const i of v)G=L.line(B,x.height+D+i,N+B,x.height+D+i,M),y.insert(()=>G).attr("class","divider");if(f(t,P),g&&"handDrawn"!==t.look){const e=g.split(";"),t=e?.filter(e=>e.includes("stroke"))?.map(e=>`${e}`).join("; ");y.selectAll("path").attr("style",t??""),y.selectAll(".row-rect-even path").attr("style",g)}return t.intersect=function(e){return j.rect(t,e)},y}async function ct(e,t,r,n=0,i=0,l=[],h=""){const u=e.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",h);t!==(0,o.QO)(t)&&(t=(t=(0,o.QO)(t)).replaceAll("<","&lt;").replaceAll(">","&gt;"));const d=u.node().appendChild(await(0,a.GZ)(u,t,{width:(0,s.Un)(t,r)+100,style:h,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let e=d.children[0];for(e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");e.childNodes[0];)e=e.childNodes[0],e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let f=d.getBBox();if((0,o._3)(r.htmlLabels)){const e=d.children[0];e.style.textAlign="start";const t=(0,c.Ltv)(d);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}return f}async function ht(e,t,r,n,i=r.class.padding??12){const a=n?0:3,s=e.insert("g").attr("class",p(t)).attr("id",t.domId||t.id);let o=null,l=null,c=null,h=null,u=0,d=0,f=0;if(o=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const e=t.annotations[0];await ut(o,{text:`\xab${e}\xbb`},0);u=o.node().getBBox().height}l=s.insert("g").attr("class","label-group text"),await ut(l,t,0,["font-weight: bolder"]);const g=l.node().getBBox();d=g.height,c=s.insert("g").attr("class","members-group text");let m=0;for(const p of t.members){m+=await ut(c,p,m,[p.parseClassifier()])+a}f=c.node().getBBox().height,f<=0&&(f=i/2),h=s.insert("g").attr("class","methods-group text");let y=0;for(const p of t.methods){y+=await ut(h,p,y,[p.parseClassifier()])+a}let x=s.node().getBBox();if(null!==o){const e=o.node().getBBox();o.attr("transform",`translate(${-e.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${u})`),x=s.node().getBBox(),c.attr("transform",`translate(0, ${u+d+2*i})`),x=s.node().getBBox(),h.attr("transform",`translate(0, ${u+d+(f?f+4*i:2*i)})`),x=s.node().getBBox(),{shapeSvg:s,bbox:x}}async function ut(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),h=(0,o.zj)();let u="useHtmlLabels"in t?t.useHtmlLabels:(0,o._3)(h.htmlLabels)??!0,d="";d="text"in t?t.text:t.label,!u&&d.startsWith("\\")&&(d=d.substring(1)),(0,o.Wi)(d)&&(u=!0);const f=await(0,a.GZ)(i,(0,o.oB)((0,s.Sm)(d)),{width:(0,s.Un)(d,h)+50,classes:"markdown-node-label",useHtmlLabels:u},h);let p,g=1;if(u){const e=f.children[0],t=(0,c.Ltv)(f);g=e.innerHTML.split("<br>").length,e.innerHTML.includes("</math>")&&(g+=e.innerHTML.split("<mrow>").length-1);const r=e.getElementsByTagName("img");if(r){const e=""===d.replace(/<img[^>]*>/g,"").trim();await Promise.all([...r].map(t=>new Promise(r=>{function n(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=h.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,r=5,n=parseInt(e,10)*r+"px";t.style.minWidth=n,t.style.maxWidth=n}else t.style.width="100%";r(t)}(0,l.K2)(n,"setupImage"),setTimeout(()=>{t.complete&&n()}),t.addEventListener("error",n),t.addEventListener("load",n)})))}p=e.getBoundingClientRect(),t.attr("width",p.width),t.attr("height",p.height)}else{n.includes("font-weight: bolder")&&(0,c.Ltv)(f).selectAll("tspan").attr("font-weight",""),g=f.children.length;const e=f.children[0];if(""===f.textContent||f.textContent.includes("&gt")){e.textContent=d[0]+d.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();" "===d[1]&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))}"undefined"===e.textContent&&(e.textContent=""),p=f.getBBox()}return i.attr("transform","translate(0,"+(-p.height/(2*g)+r)+")"),p.height}async function dt(e,t){const r=(0,o.D7)(),n=r.class.padding??12,a=n,s=t.useHtmlLabels??(0,o._3)(r.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:u,bbox:d}=await ht(e,t,r,s,a),{labelStyles:p,nodeStyles:g}=(0,i.GX)(t);t.labelStyle=p,t.cssStyles=l.styles||"";const m=l.styles?.join(";")||g||"";t.cssStyles||(t.cssStyles=m.replaceAll("!important","").split(";"));const y=0===l.members.length&&0===l.methods.length&&!r.class?.hideEmptyMembersBox,x=h.A.svg(u),b=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const v=d.width;let k=d.height;0===l.members.length&&0===l.methods.length?k+=a:l.members.length>0&&0===l.methods.length&&(k+=2*a);const A=-v/2,w=-k/2,T=x.rectangle(A-n,w-n-(y?n:0===l.members.length&&0===l.methods.length?-n/2:0),v+2*n,k+2*n+(y?2*n:0===l.members.length&&0===l.methods.length?-n:0),b),C=u.insert(()=>T,":first-child");C.attr("class","basic label-container");const S=C.node().getBBox();u.selectAll(".text").each((e,t,r)=>{const i=(0,c.Ltv)(r[t]),a=i.attr("transform");let o=0;if(a){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(a);e&&(o=parseFloat(e[2]))}let h=o+w+n-(y?n:0===l.members.length&&0===l.methods.length?-n/2:0);s||(h-=4);let d=A;(i.attr("class").includes("label-group")||i.attr("class").includes("annotation-group"))&&(d=-i.node()?.getBBox().width/2||0,u.selectAll("text").each(function(e,t,r){"middle"===window.getComputedStyle(r[t]).textAnchor&&(d=0)})),i.attr("transform",`translate(${d}, ${h})`)});const _=u.select(".annotation-group").node().getBBox().height-(y?n/2:0)||0,$=u.select(".label-group").node().getBBox().height-(y?n/2:0)||0,R=u.select(".members-group").node().getBBox().height-(y?n/2:0)||0;if(l.members.length>0||l.methods.length>0||y){const e=x.line(S.x,_+$+w+n,S.x+S.width,_+$+w+n,b);u.insert(()=>e).attr("class","divider").attr("style",m)}if(y||l.members.length>0||l.methods.length>0){const e=x.line(S.x,_+$+R+w+2*a+n,S.x+S.width,_+$+R+w+n+2*a,b);u.insert(()=>e).attr("class","divider").attr("style",m)}if("handDrawn"!==l.look&&u.selectAll("path").attr("style",m),C.select(":nth-child(2)").attr("style",m),u.selectAll(".divider").select("path").attr("style",m),t.labelStyle?u.selectAll("span").attr("style",t.labelStyle):u.selectAll("span").attr("style",m),!s){const e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(m);if(t){const e=t[0].replace("color","fill");u.selectAll("tspan").attr("style",e)}else if(p){const t=e.exec(p);if(t){const e=t[0].replace("color","fill");u.selectAll("tspan").attr("style",e)}}}return f(t,C),t.intersect=function(e){return j.rect(t,e)},u}async function ft(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const a=t,s=t,o="verifyMethod"in t,l=p(t),u=e.insert("g").attr("class",l).attr("id",t.domId??t.id);let d;d=o?await pt(u,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):await pt(u,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let g=d;const m=await pt(u,a.name,g,t.labelStyle+"; font-weight: bold;");if(g+=m+20,o){g+=await pt(u,""+(a.requirementId?`ID: ${a.requirementId}`:""),g,t.labelStyle);g+=await pt(u,""+(a.text?`Text: ${a.text}`:""),g,t.labelStyle);g+=await pt(u,""+(a.risk?`Risk: ${a.risk}`:""),g,t.labelStyle),await pt(u,""+(a.verifyMethod?`Verification: ${a.verifyMethod}`:""),g,t.labelStyle)}else{g+=await pt(u,""+(s.type?`Type: ${s.type}`:""),g,t.labelStyle),await pt(u,""+(s.docRef?`Doc Ref: ${s.docRef}`:""),g,t.labelStyle)}const y=(u.node()?.getBBox().width??200)+20,x=(u.node()?.getBBox().height??200)+20,b=-y/2,v=-x/2,k=h.A.svg(u),A=(0,i.Fr)(t,{});"handDrawn"!==t.look&&(A.roughness=0,A.fillStyle="solid");const w=k.rectangle(b,v,y,x,A),T=u.insert(()=>w,":first-child");if(T.attr("class","basic label-container").attr("style",n),u.selectAll(".label").each((e,t,r)=>{const n=(0,c.Ltv)(r[t]),i=n.attr("transform");let a=0,s=0;if(i){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(i);e&&(a=parseFloat(e[1]),s=parseFloat(e[2]))}const o=s-x/2;let l=b+10;0!==t&&1!==t||(l=a),n.attr("transform",`translate(${l}, ${o+20})`)}),g>d+m+20){const e=k.line(b,v+d+m+20,b+y,v+d+m+20,A);u.insert(()=>e).attr("style",n)}return f(t,T),t.intersect=function(e){return j.rect(t,e)},u}async function pt(e,t,r,n=""){if(""===t)return 0;const i=e.insert("g").attr("class","label").attr("style",n),l=(0,o.D7)(),h=l.htmlLabels??!0,u=await(0,a.GZ)(i,(0,o.oB)((0,s.Sm)(t)),{width:(0,s.Un)(t,l)+50,classes:"markdown-node-label",useHtmlLabels:h,style:n},l);let d;if(h){const e=u.children[0],t=(0,c.Ltv)(u);d=e.getBoundingClientRect(),t.attr("width",d.width),t.attr("height",d.height)}else{const e=u.children[0];for(const t of e.children)t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&t.setAttribute("style",n);d=u.getBBox(),d.height+=6}return i.attr("transform",`translate(${-d.width/2},${-d.height/2+r})`),d.height}(0,l.K2)(tt,"tiltedCylinder"),(0,l.K2)(rt,"trapezoid"),(0,l.K2)(nt,"trapezoidalPentagon"),(0,l.K2)(it,"triangle"),(0,l.K2)(at,"waveEdgedRectangle"),(0,l.K2)(st,"waveRectangle"),(0,l.K2)(ot,"windowPane"),(0,l.K2)(lt,"erBox"),(0,l.K2)(ct,"addText"),(0,l.K2)(ht,"textHelper"),(0,l.K2)(ut,"addText"),(0,l.K2)(dt,"classBox"),(0,l.K2)(ft,"requirementBox"),(0,l.K2)(pt,"addText");var gt=(0,l.K2)(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function mt(e,t,{config:r}){const{labelStyles:n,nodeStyles:a}=(0,i.GX)(t);t.labelStyle=n||"";const s=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await u(e,t,p(t)),g=t.padding||10;let m,y="";"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(y=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),m=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",y).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let b,v;({label:b,bbox:v}=m?await d(m,"ticket"in t&&t.ticket||"",x):await d(o,"ticket"in t&&t.ticket||"",x));const{label:k,bbox:w}=await d(o,"assigned"in t&&t.assigned||"",x);t.width=s;const T=t?.width||0,C=Math.max(v.height,w.height)/2,S=Math.max(l.height+20,t?.height||0)+C,_=-T/2,$=-S/2;let R;c.attr("transform","translate("+(g-T/2)+", "+(-C-l.height/2)+")"),b.attr("transform","translate("+(g-T/2)+", "+(-C+l.height/2)+")"),k.attr("transform","translate("+(g+T/2-w.width-20)+", "+(-C+l.height/2)+")");const{rx:E,ry:L}=t,{cssStyles:M}=t;if("handDrawn"===t.look){const e=h.A.svg(o),r=(0,i.Fr)(t,{}),n=E||L?e.path(A(_,$,T,S,E||0),r):e.rectangle(_,$,T,S,r);R=o.insert(()=>n,":first-child"),R.attr("class","basic label-container").attr("style",M||null)}else{R=o.insert("rect",":first-child"),R.attr("class","basic label-container __APA__").attr("style",a).attr("rx",E??5).attr("ry",L??5).attr("x",_).attr("y",$).attr("width",T).attr("height",S);const e="priority"in t&&t.priority;if(e){const t=o.append("line"),r=_+2,n=$+Math.floor((E??0)/2),i=$+S-Math.floor((E??0)/2);t.attr("x1",r).attr("y1",n).attr("x2",r).attr("y2",i).attr("stroke-width","4").attr("stroke",gt(e))}}return f(t,R),t.height=S,t.intersect=function(e){return j.rect(t,e)},o}async function yt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,halfPadding:c,label:d}=await u(e,t,p(t)),g=o.width+10*c,m=o.height+8*c,y=.15*g,{cssStyles:x}=t,b=o.width+20,v=o.height+20,k=Math.max(g,b),A=Math.max(m,v);let w;d.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`);const T=`M0 0 \n    a${y},${y} 1 0,0 ${.25*k},${-1*A*.1}\n    a${y},${y} 1 0,0 ${.25*k},0\n    a${y},${y} 1 0,0 ${.25*k},0\n    a${y},${y} 1 0,0 ${.25*k},${.1*A}\n\n    a${y},${y} 1 0,0 ${.15*k},${.33*A}\n    a${.8*y},${.8*y} 1 0,0 0,${.34*A}\n    a${y},${y} 1 0,0 ${-1*k*.15},${.33*A}\n\n    a${y},${y} 1 0,0 ${-1*k*.25},${.15*A}\n    a${y},${y} 1 0,0 ${-1*k*.25},0\n    a${y},${y} 1 0,0 ${-1*k*.25},0\n    a${y},${y} 1 0,0 ${-1*k*.25},${-1*A*.15}\n\n    a${y},${y} 1 0,0 ${-1*k*.1},${-1*A*.33}\n    a${.8*y},${.8*y} 1 0,0 0,${-1*A*.34}\n    a${y},${y} 1 0,0 ${.1*k},${-1*A*.33}\n  H0 V0 Z`;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=e.path(T,r);w=a.insert(()=>n,":first-child"),w.attr("class","basic label-container").attr("style",(0,s.KL)(x))}else w=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",T);return w.attr("transform",`translate(${-k/2}, ${-A/2})`),f(t,w),t.calcIntersect=function(e,t){return j.rect(e,t)},t.intersect=function(e){return l.Rm.info("Bang intersect",t,e),j.rect(t,e)},a}async function xt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,halfPadding:c,label:d}=await u(e,t,p(t)),g=o.width+2*c,m=o.height+2*c,y=.15*g,x=.25*g,b=.35*g,v=.2*g,{cssStyles:k}=t;let A;const w=`M0 0 \n    a${y},${y} 0 0,1 ${.25*g},${-1*g*.1}\n    a${b},${b} 1 0,1 ${.4*g},${-1*g*.1}\n    a${x},${x} 1 0,1 ${.35*g},${.2*g}\n\n    a${y},${y} 1 0,1 ${.15*g},${.35*m}\n    a${v},${v} 1 0,1 ${-1*g*.15},${.65*m}\n\n    a${x},${y} 1 0,1 ${-1*g*.25},${.15*g}\n    a${b},${b} 1 0,1 ${-1*g*.5},0\n    a${y},${y} 1 0,1 ${-1*g*.25},${-1*g*.15}\n\n    a${y},${y} 1 0,1 ${-1*g*.1},${-1*m*.35}\n    a${v},${v} 1 0,1 ${.1*g},${-1*m*.65}\n  H0 V0 Z`;if("handDrawn"===t.look){const e=h.A.svg(a),r=(0,i.Fr)(t,{}),n=e.path(w,r);A=a.insert(()=>n,":first-child"),A.attr("class","basic label-container").attr("style",(0,s.KL)(k))}else A=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",w);return d.attr("transform",`translate(${-o.width/2}, ${-o.height/2})`),A.attr("transform",`translate(${-g/2}, ${-m/2})`),f(t,A),t.calcIntersect=function(e,t){return j.rect(e,t)},t.intersect=function(e){return l.Rm.info("Cloud intersect",t,e),j.rect(t,e)},a}async function bt(e,t){const{labelStyles:r,nodeStyles:n}=(0,i.GX)(t);t.labelStyle=r;const{shapeSvg:a,bbox:s,halfPadding:o,label:l}=await u(e,t,p(t)),c=s.width+8*o,h=s.height+2*o,d=`\n    M${-c/2} ${h/2-5}\n    v${10-h}\n    q0,-5 5,-5\n    h${c-10}\n    q5,0 5,5\n    v${h-10}\n    q0,5 -5,5\n    h${10-c}\n    q-5,0 -5,-5\n    Z\n  `,g=a.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",d);return a.append("line").attr("class","node-line-").attr("x1",-c/2).attr("y1",h/2).attr("x2",c/2).attr("y2",h/2),l.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),a.append(()=>l.node()),f(t,g),t.calcIntersect=function(e,t){return j.rect(e,t)},t.intersect=function(e){return j.rect(t,e)},a}async function vt(e,t){return V(e,t,{padding:t.padding??0})}(0,l.K2)(mt,"kanbanItem"),(0,l.K2)(yt,"bang"),(0,l.K2)(xt,"cloud"),(0,l.K2)(bt,"defaultMindmapNode"),(0,l.K2)(vt,"mindmapCircle");var kt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Ue},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Ke},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:We},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Ve},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:oe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:V},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:yt},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:xt},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Be},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:pe},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Ce},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Te},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:rt},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:ke},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:ce},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Ze},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:q},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:je},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:He},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:qe},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:de},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:ge},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Q},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:ee},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:re},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Se},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:at},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:fe},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tt},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Ee},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:ne},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:le},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:it},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:ot},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:he},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:nt},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:ue},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:ze},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Ie},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Me},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:W},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:X},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Xe},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Ye},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:st},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:De},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Le}],At=(0,l.K2)(()=>{const e={state:Ge,choice:H,note:Ne,rectWithTitle:Fe,labelRect:we,iconSquare:be,iconCircle:ye,icon:me,iconRounded:xe,imageSquare:ve,anchor:z,kanbanItem:mt,mindmapCircle:vt,defaultMindmapNode:bt,classBox:dt,erBox:lt,requirementBox:ft},t=[...Object.entries(e),...kt.flatMap(e=>[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]].map(t=>[t,e.handler]))];return Object.fromEntries(t)},"generateShapeMap")();function wt(e){return e in At}(0,l.K2)(wt,"isValidShape");var Tt=new Map;async function Ct(e,t,r){let n,i;"rect"===t.shape&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?At[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;"sandbox"===r.config.securityLevel?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),i=await a(n,t,r)}else i=await a(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Tt.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}(0,l.K2)(Ct,"insertNode");var St=(0,l.K2)((e,t)=>{Tt.set(t.id,e)},"setNodeElem"),_t=(0,l.K2)(()=>{Tt.clear()},"clear"),$t=(0,l.K2)(e=>{const t=Tt.get(e.id);l.Rm.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode")},6145:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(3958),i=r(8446),a=r(7422);const s=function(e){return function(t,r,s){var o=Object(t);if(!(0,i.A)(t)){var l=(0,n.A)(r,3);t=(0,a.A)(t),r=function(e){return l(o[e],e,o)}}var c=e(t,r,s);return c>-1?o[l?t[c]:c]:void 0}};var o=r(5707),l=r(8593),c=Math.max;const h=s(function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=null==r?0:(0,l.A)(r);return a<0&&(a=c(i+a,0)),(0,o.A)(e,(0,n.A)(t,3),a)})},6224:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e<t}},6240:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9841),i=r(8446);const a=function(e,t){return function(r,n){if(null==r)return r;if(!(0,i.A)(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&!1!==n(o[s],s,o););return r}}(n.A)},6318:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(7819),i=r(901);const a=function(e,t){for(var r=0,a=(t=(0,n.A)(t,e)).length;null!=e&&r<a;)e=e[(0,i.A)(t[r++])];return r&&r==a?e:void 0}},6373:(e,t,r)=>{"use strict";r.d(t,{El:()=>u,NS:()=>s,SX:()=>c,pO:()=>o,r4:()=>h,v:()=>d,wf:()=>l});var n,i=r(2479),a=r(1719);function s(e){return new a.Vj(e,e=>(0,i.mD)(e)?e.content:[],{includeRoot:!0})}function o(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}function l(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function c(e){if(!e)return;const{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function h(e,t){const r=function(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return n.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return n.After;const r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,i=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&i?n.Inside:r?n.OverlapBack:i?n.OverlapFront:n.Outside}(e,t);return r>n.After}!function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(n||(n={}));const u=/^[\w\p{L}]$/u;function d(e,t){if(e){const r=function(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);for(;n>0;){n--;const e=r.content[n];if(t||!e.hidden)return e}e=r}return}(e,!0);if(r&&f(r,t))return r;if((0,i.br)(e)){for(let r=e.content.findIndex(e=>!e.hidden)-1;r>=0;r--){const n=e.content[r];if(f(n,t))return n}}}}function f(e,t){return(0,i.FC)(e)&&t.includes(e.tokenType.name)}},6401:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(1852),i=r(9779),a=r(2274),s=r(2049),o=r(8446),l=r(9912),c=r(7271),h=r(3858),u=Object.prototype.hasOwnProperty;const d=function(e){if(null==e)return!0;if((0,o.A)(e)&&((0,s.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,l.A)(e)||(0,h.A)(e)||(0,a.A)(e)))return!e.length;var t=(0,i.A)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,c.A)(e))return!(0,n.A)(e).length;for(var r in e)if(u.call(e,r))return!1;return!0}},6452:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2559),i=r(6224),a=r(9008);const s=function(e){return e&&e.length?(0,n.A)(e,a.A,i.A):void 0}},6586:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2049),i=r(1882),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;const o=function(e,t){if((0,n.A)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!(0,i.A)(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}},6632:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9471);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(i.Cache||n.A),r}i.Cache=n.A;const a=i},6666:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},6750:(e,t,r)=>{"use strict";t.J=void 0;var n=r(9119);function i(e){return e.replace(n.ctrlCharactersRegex,"").replace(n.htmlEntitiesRegex,function(e,t){return String.fromCharCode(t)})}function a(e){try{return decodeURIComponent(e)}catch(t){return e}}t.J=function(e){if(!e)return n.BLANK_URL;var t,r=a(e.trim());do{t=(r=a(r=i(r).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim())).match(n.ctrlCharactersRegex)||r.match(n.htmlEntitiesRegex)||r.match(n.htmlCtrlEntityRegex)||r.match(n.whitespaceEscapeCharsRegex)}while(t&&t.length>0);var s=r;if(!s)return n.BLANK_URL;if(function(e){return n.relativeFirstCharacters.indexOf(e[0])>-1}(s))return s;var o=s.trimStart(),l=o.match(n.urlSchemeRegex);if(!l)return s;var c=l[0].toLowerCase().trim();if(n.invalidProtocolRegex.test(c))return n.BLANK_URL;var h=o.replace(/\\/g,"/");if("mailto:"===c||c.includes("://"))return h;if("http:"===c||"https:"===c){if(!function(e){return URL.canParse(e)}(h))return n.BLANK_URL;var u=new URL(h);return u.protocol=u.protocol.toLowerCase(),u.hostname=u.hostname.toLowerCase(),u.toString()}return h}},6832:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6984),i=r(8446),a=r(5353),s=r(3149);const o=function(e,t,r){if(!(0,s.A)(r))return!1;var o=typeof t;return!!("number"==o?(0,i.A)(r)&&(0,a.A)(t,r.length):"string"==o&&t in r)&&(0,n.A)(r[t],e)}},6875:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)};var i=Math.max;const a=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,o=i(a.length-t,0),l=Array(o);++s<o;)l[s]=a[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=a[s];return c[t]=r(l),n(e,this,c)}}},6912:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},6984:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e===t||e!=e&&t!=t}},7010:(e,t,r)=>{"use strict";r.d(t,{d:()=>o,A:()=>s});var n=r(6540);const i={flashcardsContainer:"flashcardsContainer_VSwM",header:"header_MlN7",startBtn:"startBtn_FHlf",closeBtn:"closeBtn_cwA7",progressSection:"progressSection_w6w_",progressInfo:"progressInfo_LlID",masteredInfo:"masteredInfo_y121",progressBar:"progressBar_d95P",progressFill:"progressFill_PQST",cardWrapper:"cardWrapper_EBcZ",card:"card_wUD8",flipped:"flipped_JWpi",cardFront:"cardFront_Xrbm",cardBack:"cardBack_Kj3d",cardLabel:"cardLabel_wpV5",cardContent:"cardContent_y9u7",flipHint:"flipHint_U0O2",controls:"controls_QR5P",navBtn:"navBtn_AKzU",masteredBtn:"masteredBtn_v3na",mastered:"mastered_N5vq",additionalControls:"additionalControls_culZ",shuffleBtn:"shuffleBtn_U0aU",resetBtn:"resetBtn_V0wM",cardsGrid:"cardsGrid_B_KX",cardPreview:"cardPreview_Ln3S",active:"active__ODh",masteredPreview:"masteredPreview_udQF",fadeIn:"fadeIn_dt6m"};var a=r(4848);function s({cards:e,title:t="Study Flashcards"}){const[r,s]=(0,n.useState)(0),[o,l]=(0,n.useState)(!1),[c,h]=(0,n.useState)(new Set),[u,d]=(0,n.useState)(!0),f=e[r],p=(r+1)/e.length*100,g=c.size;return u?(0,a.jsxs)("div",{className:i.flashcardsContainer,children:[(0,a.jsxs)("div",{className:i.header,children:[(0,a.jsxs)("h3",{children:["\ud83c\udfb4 ",t]}),(0,a.jsx)("button",{onClick:()=>d(!1),className:i.closeBtn,children:"\u2715"})]}),(0,a.jsxs)("div",{className:i.progressSection,children:[(0,a.jsxs)("div",{className:i.progressInfo,children:[(0,a.jsxs)("span",{children:["Card ",r+1," of ",e.length]}),(0,a.jsxs)("span",{className:i.masteredInfo,children:["\u2705 Mastered: ",g,"/",e.length]})]}),(0,a.jsx)("div",{className:i.progressBar,children:(0,a.jsx)("div",{className:i.progressFill,style:{width:`${p}%`}})})]}),(0,a.jsx)("div",{className:i.cardWrapper,onClick:()=>{l(!o)},children:(0,a.jsxs)("div",{className:`${i.card} ${o?i.flipped:""}`,children:[(0,a.jsxs)("div",{className:i.cardFront,children:[(0,a.jsx)("div",{className:i.cardLabel,children:"Question"}),(0,a.jsx)("div",{className:i.cardContent,children:f.front}),(0,a.jsx)("div",{className:i.flipHint,children:"Click to flip \u2192"})]}),(0,a.jsxs)("div",{className:i.cardBack,children:[(0,a.jsx)("div",{className:i.cardLabel,children:"Answer"}),(0,a.jsx)("div",{className:i.cardContent,children:f.back}),(0,a.jsx)("div",{className:i.flipHint,children:"\u2190 Click to flip back"})]})]})}),(0,a.jsxs)("div",{className:i.controls,children:[(0,a.jsx)("button",{onClick:()=>{l(!1),s(r>0?r-1:e.length-1)},className:i.navBtn,title:"Previous card",children:"\u2190 Previous"}),(0,a.jsx)("button",{onClick:()=>{const e=new Set(c);c.has(r)?e.delete(r):e.add(r),h(e)},className:`${i.masteredBtn} ${c.has(r)?i.mastered:""}`,title:"Mark as mastered",children:c.has(r)?"\u2705 Mastered":"\u2b55 Mark Mastered"}),(0,a.jsx)("button",{onClick:()=>{l(!1),r<e.length-1?s(r+1):s(0)},className:i.navBtn,title:"Next card",children:"Next \u2192"})]}),(0,a.jsxs)("div",{className:i.additionalControls,children:[(0,a.jsx)("button",{onClick:()=>{s(Math.floor(Math.random()*e.length)),l(!1)},className:i.shuffleBtn,children:"\ud83d\udd00 Shuffle"}),(0,a.jsx)("button",{onClick:()=>{h(new Set),s(0),l(!1)},className:i.resetBtn,children:"\ud83d\udd04 Reset Progress"})]}),(0,a.jsx)("div",{className:i.cardsGrid,children:e.map((e,t)=>(0,a.jsx)("button",{className:`${i.cardPreview} ${t===r?i.active:""} ${c.has(t)?i.masteredPreview:""}`,onClick:()=>{s(t),l(!1)},title:e.front,children:t+1},t))})]}):(0,a.jsx)("div",{className:i.flashcardsContainer,children:(0,a.jsxs)("div",{className:i.header,children:[(0,a.jsxs)("h3",{children:["\ud83c\udfb4 ",t]}),(0,a.jsxs)("button",{onClick:()=>d(!0),className:i.startBtn,children:["Start Studying (",e.length," cards)"]})]})})}const o={preface:[{front:"What is AI-Driven Development?",back:"A development approach that leverages AI tools to assist in coding, testing, and architecture decisions, enhancing developer productivity and code quality."},{front:"What are the main benefits of AI-Driven Development?",back:"Faster development, improved code quality, automated testing, better documentation, and enhanced problem-solving capabilities."},{front:"What skills are essential for AI-Driven Development?",back:"Prompt engineering, understanding AI limitations, code review skills, and the ability to guide AI tools effectively."},{front:"How has AI changed software development?",back:"AI has transformed development from pure manual coding to collaborative work with AI assistants, enabling faster prototyping, better code suggestions, and automated documentation."},{front:"What's the difference between AI-assisted and traditional coding?",back:"Traditional coding relies solely on human expertise, while AI-assisted coding uses AI suggestions, completions, and generation to accelerate development while maintaining human oversight."},{front:"Why is human oversight still critical with AI?",back:"AI can hallucinate, produce insecure code, miss business context, and make logical errors. Human developers must review, validate, and refine AI outputs."},{front:"What is the AI-Native Era?",back:"The current shift where AI is integrated into every aspect of software development, from design to deployment, fundamentally changing how we build software."}],ch1:[{front:"What is the foundation of AI-Driven Development?",back:"Understanding how to effectively collaborate with AI assistants, providing clear context, and iteratively refining outputs."},{front:"How do AI coding assistants work?",back:"They use large language models trained on code to understand context and generate relevant code suggestions, completions, and explanations."},{front:"What are the limitations of AI assistants?",back:"They can hallucinate, produce outdated code, lack understanding of business context, and require human oversight."},{front:"What is a Large Language Model (LLM)?",back:"An AI model trained on massive amounts of text data to understand and generate human-like text, including code."},{front:"How do you provide good context to AI?",back:"Include relevant code, clear requirements, examples, constraints, and business logic in your prompts."},{front:"What is the iterative refinement process?",back:"Generate initial output \u2192 Review \u2192 Provide feedback \u2192 Regenerate \u2192 Repeat until satisfactory."},{front:"Why is code review still essential with AI?",back:"AI can introduce bugs, security vulnerabilities, performance issues, or logical errors that humans must catch."},{front:"What makes a good AI coding prompt?",back:"Clear objective, relevant context, specific requirements, examples, and expected output format."}],ch2:[{front:"What is Spec-Driven Development?",back:"A methodology where clear specifications are created before implementation, ensuring alignment between requirements and code."},{front:"Why is Spec-Driven Development important with AI?",back:"AI tools work better with clear specifications, producing more accurate code and reducing iterations."},{front:"What makes a good specification?",back:"Clear requirements, measurable outcomes, edge cases defined, and acceptance criteria specified."},{front:"What are the key elements of a spec?",back:"Goals, requirements, constraints, acceptance criteria, edge cases, and examples."},{front:"How detailed should specs be?",back:"Detailed enough to be unambiguous but flexible enough to allow for implementation choices."},{front:"When should you write specs?",back:"Before starting implementation, after gathering requirements and understanding the problem."},{front:"How do specs improve AI code generation?",back:"They provide clear context, reduce ambiguity, and help AI understand expected behavior."},{front:"What's the difference between specs and documentation?",back:"Specs are written before implementation (prescriptive), documentation is written after (descriptive)."}],ch3:[{front:"What is RAG?",back:"Retrieval-Augmented Generation - a technique that combines vector search with LLM generation to provide accurate, context-aware responses based on specific documents."},{front:"What are the main components of a RAG system?",back:"Document ingestion, embedding generation, vector database, retrieval system, and LLM generation."},{front:"Why use RAG instead of fine-tuning?",back:"RAG is more cost-effective, easier to update, doesn't require model retraining, and can cite sources."},{front:"What is document chunking?",back:"Breaking large documents into smaller, semantically meaningful pieces for better retrieval and processing."},{front:"What's the ideal chunk size?",back:"Typically 500-1500 characters, balancing context richness with search precision."},{front:"What is chunk overlap?",back:"Overlapping text between adjacent chunks to maintain context continuity across boundaries."},{front:"How do you measure retrieval quality?",back:"Using metrics like precision, recall, MRR (Mean Reciprocal Rank), and NDCG (Normalized Discounted Cumulative Gain)."},{front:"What is semantic search?",back:"Search based on meaning rather than exact keyword matches, using vector similarity."},{front:"What's the difference between RAG and traditional search?",back:"RAG generates natural language answers using retrieved context; traditional search returns matching documents."},{front:"What is context window in RAG?",back:"The maximum amount of text (in tokens) that can be passed to the LLM for generation."}],ch4:[{front:"What are vector embeddings?",back:"Numerical representations of text that capture semantic meaning, enabling similarity search and semantic retrieval."},{front:"What is a vector database?",back:"A specialized database optimized for storing and searching vector embeddings using similarity metrics."},{front:"How does semantic search work?",back:"Convert query to embedding, find similar embeddings in vector database, retrieve associated documents."},{front:"What is cosine similarity?",back:"A metric measuring the cosine of the angle between two vectors, used to determine similarity (ranges from -1 to 1)."},{front:"What's the difference between cosine and euclidean distance?",back:"Cosine measures angle (direction), euclidean measures absolute distance. Cosine is better for high-dimensional text embeddings."},{front:"What are popular embedding models?",back:"OpenAI text-embedding-3-small/large, Google PaLM, Cohere, Sentence Transformers."},{front:"What is embedding dimensionality?",back:"The number of features in the vector representation (e.g., 1536 for OpenAI, 768 for BERT)."},{front:"Why normalize embeddings?",back:"Normalization makes cosine similarity equivalent to dot product, improving search speed and consistency."}],ch5:[{front:"What is the AI-Driven Development workflow?",back:"Define requirements \u2192 Generate spec \u2192 AI generates code \u2192 Review & refine \u2192 Test \u2192 Deploy."},{front:"How do you effectively prompt AI for code?",back:"Provide context, specify requirements clearly, give examples, define constraints, and iterate."},{front:"What's the role of testing in AI-Driven Development?",back:"Validate AI-generated code, ensure edge cases are covered, and maintain code quality standards."},{front:"What is pair programming with AI?",back:"Collaborative coding where AI suggests code while developer guides, reviews, and refines in real-time."},{front:"How do you handle AI mistakes?",back:"Review code carefully, test thoroughly, provide corrective feedback, and regenerate with better prompts."},{front:"What are AI code review best practices?",back:"Check logic, security, performance, edge cases, and alignment with requirements."},{front:"When should you NOT use AI for coding?",back:"Security-critical code, complex algorithms requiring deep domain expertise, or when learning fundamentals."}],ch6:[{front:"What are popular AI coding tools?",back:"GitHub Copilot, ChatGPT, Claude, Cursor, Tabnine, and specialized domain tools."},{front:"How to choose the right AI tool?",back:"Consider use case, programming language support, integration needs, cost, and privacy requirements."},{front:"What's the future of AI development tools?",back:"More sophisticated code generation, better context understanding, specialized domain models, and improved debugging."},{front:"What is GitHub Copilot?",back:"AI pair programmer that suggests code completions and entire functions based on context and comments."},{front:"What makes Claude different from ChatGPT?",back:"Claude has longer context windows, better instruction following, and is trained with Constitutional AI for safety."},{front:"What is Cursor IDE?",back:"An AI-first code editor built on VS Code with deep AI integration for code generation and editing."},{front:"How do AI tools handle privacy?",back:"Varies by tool - some train on your code (opt-out required), others keep it private. Check policies carefully."}],ch7:[{front:"What is Markdown Prompting?",back:"Using markdown-formatted prompts to provide structured, clear instructions to AI models for better results."},{front:"Why use markdown for prompts?",back:"Better structure, clearer hierarchy, easier to read, and helps AI understand context and requirements."},{front:"What are markdown prompting best practices?",back:"Use headers for sections, lists for requirements, code blocks for examples, and clear formatting for emphasis."},{front:"How do headers improve prompts?",back:"They create clear sections, establish hierarchy, and help AI understand the structure of your request."},{front:"When should you use code blocks?",back:"For examples, expected output format, error messages, or any literal text that needs exact formatting."},{front:"What are prompt templates?",back:"Reusable structured prompts with placeholders for variables, ensuring consistency across similar tasks."},{front:"How do bullet points help AI?",back:"They break down complex requirements into clear, discrete items that AI can address individually."}],ch8:[{front:"What are SDD Fundamentals?",back:"Spec-Driven Development fundamentals include clear requirements, testable criteria, iterative refinement, and validation."},{front:"How to write effective specs for AI?",back:"Be specific, provide examples, define edge cases, specify output format, and include acceptance criteria."},{front:"What's the relationship between specs and code quality?",back:"Better specs lead to more accurate AI-generated code, fewer iterations, and higher quality output."},{front:"What is acceptance-driven development?",back:"Writing acceptance criteria before implementation to define what 'done' means."},{front:"How do you validate AI-generated code against specs?",back:"Compare output to acceptance criteria, run tests, verify edge cases, and check business logic."},{front:"What makes specs testable?",back:"Measurable criteria, specific expected behaviors, clear inputs and outputs, and objective success metrics."},{front:"How often should specs be updated?",back:"When requirements change, after discovering edge cases, or when clarifying ambiguities during implementation."}]}},7271:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Object.prototype;const i=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},7422:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(3607),i=r(1852),a=r(8446);const s=function(e){return(0,a.A)(e)?(0,n.A)(e):(0,i.A)(e)}},7525:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(9142),i=r(4171),a=r(9008);const s=i.A?function(e,t){return(0,i.A)(e,"toString",{configurable:!0,enumerable:!1,value:(0,n.A)(t),writable:!0})}:a.A;var o=Date.now;const l=function(e){var t=0,r=0;return function(){var n=o(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(s)},7539:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},l={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new n.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.eZ,l);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}(0,n.K2)(c,"createGitGraphServices")},7608:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>a,r:()=>i}),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,a=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(a===o-1||1===s);else if(a!==o-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=o,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=o,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),i=o-a-1;a=o,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(n=s+"/"+n,i=47===s.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,s=a-i,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var l=r.length-o,c=s<l?s:l,h=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(47===r.charCodeAt(o+u))return r.slice(o+u+1);if(0===u)return r.slice(o+u)}else s>c&&(47===e.charCodeAt(i+u)?h=u:0===u&&(h=0));break}var d=e.charCodeAt(i+u);if(d!==r.charCodeAt(o+u))break;47===d&&(h=u)}var f="";for(u=i+h+1;u<=a;++u)u!==a&&47!==e.charCodeAt(u)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(o+h):(o+=h,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,a=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!a){i=s;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,a=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),o>=0&&(c===r.charCodeAt(o)?-1==--o&&(a=n):(o=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===a&&(s=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,a=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===i&&(a=!1,i=o+1),46===l?-1===r?r=o:1!==s&&(s=1):-1!==r&&(s=-1);else if(!a){n=o+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),a=47===i;a?(r.root="/",n=1):n=0;for(var s=-1,o=0,l=-1,c=!0,h=e.length-1,u=0;h>=n;--h)if(47!==(i=e.charCodeAt(h)))-1===l&&(c=!1,l=h+1),46===i?-1===s?s=h:1!==u&&(u=1):-1!==s&&(u=-1);else if(!c){o=h+1;break}return-1===s||-1===l||0===u||1===u&&s===l-1&&s===o+1?-1!==l&&(r.base=r.name=0===o&&a?e.slice(1,l):e.slice(o,l)):(0===o&&a?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(o,s),r.base=e.slice(o,l)),r.ext=e.slice(s,l)),o>0?r.dir=e.slice(0,o-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{let e;if(r.r(i),r.d(i,{URI:()=>h,Utils:()=>T}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){let t=navigator.userAgent;e=t.indexOf("Windows")>=0}const t=/^\w[\w\d+.-]*$/,n=/^\//,a=/^\/\//;function s(e,r){if(!e.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!n.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const o="",l="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static isUri(e){return e instanceof h||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,r,n,i,a=!1){"object"==typeof e?(this.scheme=e.scheme||o,this.authority=e.authority||o,this.path=e.path||o,this.query=e.query||o,this.fragment=e.fragment||o):(this.scheme=function(e,t){return e||t?e:"file"}(e,a),this.authority=t||o,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,r||o),this.query=n||o,this.fragment=i||o,s(this,a))}get fsPath(){return m(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:n,query:i,fragment:a}=e;return void 0===t?t=this.scheme:null===t&&(t=o),void 0===r?r=this.authority:null===r&&(r=o),void 0===n?n=this.path:null===n&&(n=o),void 0===i?i=this.query:null===i&&(i=o),void 0===a?a=this.fragment:null===a&&(a=o),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&a===this.fragment?this:new d(t,r,n,i,a)}static parse(e,t=!1){const r=c.exec(e);return r?new d(r[2]||o,v(r[4]||o),v(r[5]||o),v(r[7]||o),v(r[9]||o),t):new d(o,o,o,o,o)}static file(t){let r=o;if(e&&(t=t.replace(/\\/g,l)),t[0]===l&&t[1]===l){const e=t.indexOf(l,2);-1===e?(r=t.substring(2),t=l):(r=t.substring(2,e),t=t.substring(e)||l)}return new d("file",r,t,o,o)}static from(e){const t=new d(e.scheme,e.authority,e.path,e.query,e.fragment);return s(t,!0),t}toString(e=!1){return y(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof h)return e;{const t=new d(e);return t._formatted=e.external,t._fsPath=e._sep===u?e.fsPath:null,t}}return e}}const u=e?1:void 0;class d extends h{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(e=!1){return e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=u),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const f={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(e,t,r){let n,i=-1;for(let a=0;a<e.length;a++){const s=e.charCodeAt(a);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s||r&&91===s||r&&93===s||r&&58===s)-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),void 0!==n&&(n+=e.charAt(a));else{void 0===n&&(n=e.substr(0,a));const t=f[s];void 0!==t?(-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),n+=t):-1===i&&(i=a)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function g(e){let t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=f[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function m(t,r){let n;return n=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?r?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(n=n.replace(/\//g,"\\")),n}function y(e,t){const r=t?g:p;let n="",{scheme:i,authority:a,path:s,query:o,fragment:c}=e;if(i&&(n+=i,n+=":"),(a||"file"===i)&&(n+=l,n+=l),a){let e=a.indexOf("@");if(-1!==e){const t=a.substr(0,e);a=a.substr(e+1),e=t.lastIndexOf(":"),-1===e?n+=r(t,!1,!1):(n+=r(t.substr(0,e),!1,!1),n+=":",n+=r(t.substr(e+1),!1,!0)),n+="@"}a=a.toLowerCase(),e=a.lastIndexOf(":"),-1===e?n+=r(a,!1,!0):(n+=r(a.substr(0,e),!1,!0),n+=a.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}n+=r(s,!0,!1)}return o&&(n+="?",n+=r(o,!1,!1)),c&&(n+="#",n+=t?c:p(c,!1,!1)),n}function x(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+x(e.substr(3)):e}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function v(e){return e.match(b)?e.replace(b,e=>x(e)):e}var k=r(470);const A=k.posix||k,w="/";var T;!function(e){e.joinPath=function(e,...t){return e.with({path:A.join(e.path,...t)})},e.resolvePath=function(e,...t){let r=e.path,n=!1;r[0]!==w&&(r=w+r,n=!0);let i=A.resolve(r,...t);return n&&i[0]===w&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===w)return e;let t=A.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return A.basename(e.path)},e.extname=function(e){return A.extname(e.path)}}(T||(T={}))})(),n=i})();const{URI:i,Utils:a}=n},7633:(e,t,r)=>{"use strict";r.d(t,{C0:()=>x,xA:()=>ie,hH:()=>C,Dl:()=>Ne,IU:()=>Ze,Wt:()=>qe,Y2:()=>De,a$:()=>Ke,sb:()=>q,ME:()=>lt,UI:()=>U,Ch:()=>v,mW:()=>b,DB:()=>m,_3:()=>Te,EJ:()=>g,m7:()=>tt,iN:()=>Je,zj:()=>re,D7:()=>st,Gs:()=>pt,J$:()=>w,ab:()=>nt,Q2:()=>ee,P$:()=>N,ID:()=>we,TM:()=>he,Wi:()=>Ie,H1:()=>ue,QO:()=>_e,Js:()=>ft,Xd:()=>k,dj:()=>Be,cL:()=>ae,$i:()=>W,jZ:()=>ye,oB:()=>ct,wZ:()=>Q,EI:()=>et,SV:()=>Qe,Nk:()=>te,XV:()=>ot,ke:()=>rt,UU:()=>Z,ot:()=>je,mj:()=>ht,tM:()=>Ge,H$:()=>F,B6:()=>J});var n=r(797),i=r(4886),a=r(8232);const s=(e,t)=>{const r=i.A.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return(0,a.A)(e,n)};var o=r(5582);const l=(e,t,r=50)=>{const{r:n,g:a,b:s,a:l}=i.A.parse(e),{r:c,g:h,b:u,a:d}=i.A.parse(t),f=r/100,p=2*f-1,g=l-d,m=((p*g===-1?p:(p+g)/(1+p*g))+1)/2,y=1-m,x=n*m+c*y,b=a*m+h*y,v=s*m+u*y,k=l*f+d*(1-f);return(0,o.A)(x,b,v,k)},c=(e,t=100)=>{const r=i.A.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,l(r,e,t)};var h,u=r(5263),d=r(8041),f=r(3219),p=r(9418),g=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,m=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,y=/\s*%%.*\n/gm,x=class extends Error{static{(0,n.K2)(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},b={},v=(0,n.K2)(function(e,t){e=e.replace(g,"").replace(m,"").replace(y,"\n");for(const[r,{detector:n}]of Object.entries(b)){if(n(e,t))return r}throw new x(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),k=(0,n.K2)((...e)=>{for(const{id:t,detector:r,loader:n}of e)A(t,r,n)},"registerLazyLoadedDiagrams"),A=(0,n.K2)((e,t,r)=>{b[e]&&n.Rm.warn(`Detector with key ${e} already exists. Overwriting.`),b[e]={detector:t,loader:r},n.Rm.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),w=(0,n.K2)(e=>b[e].loader,"getDiagramLoader"),T=(0,n.K2)((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(t=>T(e,t,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(t=>{e.includes(t)||e.push(t)}),e):void 0===e||r<=0?null!=e&&"object"==typeof e&&"object"==typeof t?Object.assign(e,t):t:(void 0!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach(i=>{"object"!=typeof t[i]||void 0!==e[i]&&"object"!=typeof e[i]?(n||"object"!=typeof e[i]&&"object"!=typeof t[i])&&(e[i]=t[i]):(void 0===e[i]&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=T(e[i],t[i],{depth:r-1,clobber:n}))}),e)},"assignWithDepth"),C=T,S="#ffffff",_="#f2f2f2",$=(0,n.K2)((e,t)=>s(e,t?{s:-40,l:10}:{s:-40,l:-10}),"mkBorder"),R=class{static{(0,n.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||s(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||s(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||$(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||$(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||$(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||$(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||c(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||c(this.tertiaryColor),this.lineColor=this.lineColor||c(this.background),this.arrowheadColor=this.arrowheadColor||c(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,u.A)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,u.A)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||c(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,d.A)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||(0,u.A)(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||(0,u.A)(this.mainBkg,10)):(this.rowOdd=this.rowOdd||(0,d.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||(0,d.A)(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=(0,u.A)(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=(0,u.A)(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||c(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||(0,d.A)(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||(0,u.A)(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||s(this.mainBkg,{h:180,s:-15,l:e*(5+3*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||s(this.mainBkg,{h:180,s:-15,l:e*(8+3*t)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||s(this.primaryColor,{h:64}),this.fillType3=this.fillType3||s(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||s(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||s(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||s(this.primaryColor,{h:128}),this.fillType7=this.fillType7||s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-10}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,f.A)(this.quadrant1Fill)?(0,d.A)(this.quadrant1Fill):(0,u.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,u.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,d.A)(this.git0,25),this.git1=(0,d.A)(this.git1,25),this.git2=(0,d.A)(this.git2,25),this.git3=(0,d.A)(this.git3,25),this.git4=(0,d.A)(this.git4,25),this.git5=(0,d.A)(this.git5,25),this.git6=(0,d.A)(this.git6,25),this.git7=(0,d.A)(this.git7,25)):(this.git0=(0,u.A)(this.git0,25),this.git1=(0,u.A)(this.git1,25),this.git2=(0,u.A)(this.git2,25),this.git3=(0,u.A)(this.git3,25),this.git4=(0,u.A)(this.git4,25),this.git5=(0,u.A)(this.git5,25),this.git6=(0,u.A)(this.git6,25),this.git7=(0,u.A)(this.git7,25)),this.gitInv0=this.gitInv0||c(this.git0),this.gitInv1=this.gitInv1||c(this.git1),this.gitInv2=this.gitInv2||c(this.git2),this.gitInv3=this.gitInv3||c(this.git3),this.gitInv4=this.gitInv4||c(this.git4),this.gitInv5=this.gitInv5||c(this.git5),this.gitInv6=this.gitInv6||c(this.git6),this.gitInv7=this.gitInv7||c(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||S,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},E=(0,n.K2)(e=>{const t=new R;return t.calculate(e),t},"getThemeVariables"),L=class{static{(0,n.K2)(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,d.A)(this.primaryColor,16),this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=c(this.background),this.secondaryBorderColor=$(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$(this.tertiaryColor,this.darkMode),this.primaryTextColor=c(this.primaryColor),this.secondaryTextColor=c(this.secondaryColor),this.tertiaryTextColor=c(this.tertiaryColor),this.lineColor=c(this.background),this.textColor=c(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,d.A)(c("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=(0,o.A)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,u.A)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=(0,u.A)(this.sectionBkgColor,10),this.taskBorderColor=(0,o.A)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,o.A)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||(0,d.A)(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||(0,u.A)(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,d.A)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,d.A)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,d.A)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||c(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||(0,d.A)(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||s(this.mainBkg,{h:30,s:-30,l:-(4*e-10)}),this["surfacePeer"+e]=this["surfacePeer"+e]||s(this.mainBkg,{h:30,s:-30,l:-(4*e-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,f.A)(this.quadrant1Fill)?(0,d.A)(this.quadrant1Fill):(0,u.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,u.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,d.A)(this.secondaryColor,20),this.git1=(0,d.A)(this.pie2||this.secondaryColor,20),this.git2=(0,d.A)(this.pie3||this.tertiaryColor,20),this.git3=(0,d.A)(this.pie4||s(this.primaryColor,{h:-30}),20),this.git4=(0,d.A)(this.pie5||s(this.primaryColor,{h:-60}),20),this.git5=(0,d.A)(this.pie6||s(this.primaryColor,{h:-90}),10),this.git6=(0,d.A)(this.pie7||s(this.primaryColor,{h:60}),10),this.git7=(0,d.A)(this.pie8||s(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||c(this.git0),this.gitInv1=this.gitInv1||c(this.git1),this.gitInv2=this.gitInv2||c(this.git2),this.gitInv3=this.gitInv3||c(this.git3),this.gitInv4=this.gitInv4||c(this.git4),this.gitInv5=this.gitInv5||c(this.git5),this.gitInv6=this.gitInv6||c(this.git6),this.gitInv7=this.gitInv7||c(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||c(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||c(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,d.A)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,d.A)(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},M=(0,n.K2)(e=>{const t=new L;return t.calculate(e),t},"getThemeVariables"),I=class{static{(0,n.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=s(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=$(this.primaryColor,this.darkMode),this.secondaryBorderColor=$(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$(this.tertiaryColor,this.darkMode),this.primaryTextColor=c(this.primaryColor),this.secondaryTextColor=c(this.secondaryColor),this.tertiaryTextColor=c(this.tertiaryColor),this.lineColor=c(this.background),this.textColor=c(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=(0,o.A)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,u.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,u.A)(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,u.A)(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||(0,u.A)(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||s(this.mainBkg,{h:30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||s(this.mainBkg,{h:30,l:-(7+5*e)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||c(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||c(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,d.A)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||(0,d.A)(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||(0,d.A)(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||s(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||s(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,f.A)(this.quadrant1Fill)?(0,d.A)(this.quadrant1Fill):(0,u.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,d.A)(this.git0,25),this.git1=(0,d.A)(this.git1,25),this.git2=(0,d.A)(this.git2,25),this.git3=(0,d.A)(this.git3,25),this.git4=(0,d.A)(this.git4,25),this.git5=(0,d.A)(this.git5,25),this.git6=(0,d.A)(this.git6,25),this.git7=(0,d.A)(this.git7,25)):(this.git0=(0,u.A)(this.git0,25),this.git1=(0,u.A)(this.git1,25),this.git2=(0,u.A)(this.git2,25),this.git3=(0,u.A)(this.git3,25),this.git4=(0,u.A)(this.git4,25),this.git5=(0,u.A)(this.git5,25),this.git6=(0,u.A)(this.git6,25),this.git7=(0,u.A)(this.git7,25)),this.gitInv0=this.gitInv0||(0,u.A)(c(this.git0),25),this.gitInv1=this.gitInv1||c(this.git1),this.gitInv2=this.gitInv2||c(this.git2),this.gitInv3=this.gitInv3||c(this.git3),this.gitInv4=this.gitInv4||c(this.git4),this.gitInv5=this.gitInv5||c(this.git5),this.gitInv6=this.gitInv6||c(this.git6),this.gitInv7=this.gitInv7||c(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||c(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||c(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||S,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_}calculate(e){if(Object.keys(this).forEach(e=>{"calculated"===this[e]&&(this[e]=void 0)}),"object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},N=(0,n.K2)(e=>{const t=new I;return t.calculate(e),t},"getThemeVariables"),O=class{static{(0,n.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,d.A)("#cde498",10),this.primaryBorderColor=$(this.primaryColor,this.darkMode),this.secondaryBorderColor=$(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$(this.tertiaryColor,this.darkMode),this.primaryTextColor=c(this.primaryColor),this.secondaryTextColor=c(this.secondaryColor),this.tertiaryTextColor=c(this.primaryColor),this.lineColor=c(this.background),this.textColor=c(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=(0,u.A)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,u.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,u.A)(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,u.A)(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||(0,u.A)(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||s(this.mainBkg,{h:30,s:-30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||s(this.mainBkg,{h:30,s:-30,l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||(0,d.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||(0,d.A)(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-30}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,f.A)(this.quadrant1Fill)?(0,d.A)(this.quadrant1Fill):(0,u.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,d.A)(this.git0,25),this.git1=(0,d.A)(this.git1,25),this.git2=(0,d.A)(this.git2,25),this.git3=(0,d.A)(this.git3,25),this.git4=(0,d.A)(this.git4,25),this.git5=(0,d.A)(this.git5,25),this.git6=(0,d.A)(this.git6,25),this.git7=(0,d.A)(this.git7,25)):(this.git0=(0,u.A)(this.git0,25),this.git1=(0,u.A)(this.git1,25),this.git2=(0,u.A)(this.git2,25),this.git3=(0,u.A)(this.git3,25),this.git4=(0,u.A)(this.git4,25),this.git5=(0,u.A)(this.git5,25),this.git6=(0,u.A)(this.git6,25),this.git7=(0,u.A)(this.git7,25)),this.gitInv0=this.gitInv0||c(this.git0),this.gitInv1=this.gitInv1||c(this.git1),this.gitInv2=this.gitInv2||c(this.git2),this.gitInv3=this.gitInv3||c(this.git3),this.gitInv4=this.gitInv4||c(this.git4),this.gitInv5=this.gitInv5||c(this.git5),this.gitInv6=this.gitInv6||c(this.git6),this.gitInv7=this.gitInv7||c(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||c(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||c(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||S,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},B=(0,n.K2)(e=>{const t=new O;return t.calculate(e),t},"getThemeVariables"),D=class{static{(0,n.K2)(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,d.A)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=$(this.primaryColor,this.darkMode),this.secondaryBorderColor=$(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$(this.tertiaryColor,this.darkMode),this.primaryTextColor=c(this.primaryColor),this.secondaryTextColor=c(this.secondaryColor),this.tertiaryTextColor=c(this.tertiaryColor),this.lineColor=c(this.background),this.textColor=c(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||(0,d.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,d.A)(this.contrast,55),this.border2=this.contrast,this.actorBorder=(0,d.A)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||c(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||(0,d.A)(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||(0,u.A)(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||s(this.mainBkg,{l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||s(this.mainBkg,{l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=(0,d.A)(this.contrast,30),this.sectionBkgColor2=(0,d.A)(this.contrast,30),this.taskBorderColor=(0,u.A)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,d.A)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,u.A)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||s(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||s(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||s(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||s(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||s(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||s(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,f.A)(this.quadrant1Fill)?(0,d.A)(this.quadrant1Fill):(0,u.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,u.A)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||s(this.primaryColor,{h:-30}),this.git4=this.pie5||s(this.primaryColor,{h:-60}),this.git5=this.pie6||s(this.primaryColor,{h:-90}),this.git6=this.pie7||s(this.primaryColor,{h:60}),this.git7=this.pie8||s(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||c(this.git0),this.gitInv1=this.gitInv1||c(this.git1),this.gitInv2=this.gitInv2||c(this.git2),this.gitInv3=this.gitInv3||c(this.git3),this.gitInv4=this.gitInv4||c(this.git4),this.gitInv5=this.gitInv5||c(this.git5),this.gitInv6=this.gitInv6||c(this.git6),this.gitInv7=this.gitInv7||c(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||S,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},F={base:{getThemeVariables:E},dark:{getThemeVariables:M},default:{getThemeVariables:N},forest:{getThemeVariables:B},neutral:{getThemeVariables:(0,n.K2)(e=>{const t=new D;return t.calculate(e),t},"getThemeVariables")}},P={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},K={...P,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:F.default.getThemeVariables(),sequence:{...P.sequence,messageFont:(0,n.K2)(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:(0,n.K2)(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:(0,n.K2)(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...P.gantt,tickInterval:void 0,useWidth:void 0},c4:{...P.c4,useWidth:void 0,personFont:(0,n.K2)(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...P.flowchart,inheritDir:!1},external_personFont:(0,n.K2)(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:(0,n.K2)(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:(0,n.K2)(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:(0,n.K2)(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:(0,n.K2)(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:(0,n.K2)(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:(0,n.K2)(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:(0,n.K2)(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:(0,n.K2)(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:(0,n.K2)(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:(0,n.K2)(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:(0,n.K2)(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:(0,n.K2)(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:(0,n.K2)(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:(0,n.K2)(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:(0,n.K2)(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:(0,n.K2)(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:(0,n.K2)(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:(0,n.K2)(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:(0,n.K2)(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:(0,n.K2)(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...P.pie,useWidth:984},xyChart:{...P.xyChart,useWidth:void 0},requirement:{...P.requirement,useWidth:void 0},packet:{...P.packet},radar:{...P.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},j=(0,n.K2)((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:"object"==typeof e[n]&&null!==e[n]?[...r,t+n,...j(e[n],"")]:[...r,t+n],[]),"keyify"),z=new Set(j(K,"")),U=K,W=(0,n.K2)(e=>{if(n.Rm.debug("sanitizeDirective called with",e),"object"==typeof e&&null!=e)if(Array.isArray(e))e.forEach(e=>W(e));else{for(const t of Object.keys(e)){if(n.Rm.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!z.has(t)||null==e[t]){n.Rm.debug("sanitize deleting key: ",t),delete e[t];continue}if("object"==typeof e[t]){n.Rm.debug("sanitizing object",t),W(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)t.includes(i)&&(n.Rm.debug("sanitizing css option",t),e[t]=G(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}n.Rm.debug("After sanitization",e)}},"sanitizeDirective"),G=(0,n.K2)(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";"{"===n?t++:"}"===n&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),q=Object.freeze(U),H=C({},q),V=[],Y=C({},q),X=(0,n.K2)((e,t)=>{let r=C({},e),n={};for(const i of t)ne(i),n=C(n,i);if(r=C(r,n),n.theme&&n.theme in F){const e=C({},h),t=C(e.themeVariables||{},n.themeVariables);r.theme&&r.theme in F&&(r.themeVariables=F[r.theme].getThemeVariables(t))}return ce(Y=r),Y},"updateCurrentConfig"),Z=(0,n.K2)(e=>(H=C({},q),H=C(H,e),e.theme&&F[e.theme]&&(H.themeVariables=F[e.theme].getThemeVariables(e.themeVariables)),X(H,V),H),"setSiteConfig"),Q=(0,n.K2)(e=>{h=C({},e)},"saveConfigFromInitialize"),J=(0,n.K2)(e=>(H=C(H,e),X(H,V),H),"updateSiteConfig"),ee=(0,n.K2)(()=>C({},H),"getSiteConfig"),te=(0,n.K2)(e=>(ce(e),C(Y,e),re()),"setConfig"),re=(0,n.K2)(()=>C({},Y),"getConfig"),ne=(0,n.K2)(e=>{e&&(["secure",...H.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(n.Rm.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{"string"==typeof e[t]&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],"object"==typeof e[t]&&ne(e[t])}))},"sanitize"),ie=(0,n.K2)(e=>{W(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),V.push(e),X(H,V)},"addDirective"),ae=(0,n.K2)((e=H)=>{X(e,V=[])},"reset"),se={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},oe={},le=(0,n.K2)(e=>{oe[e]||(n.Rm.warn(se[e]),oe[e]=!0)},"issueWarning"),ce=(0,n.K2)(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&le("LAZY_LOAD_DEPRECATED")},"checkConfig"),he=(0,n.K2)(()=>{let e={};h&&(e=C(e,h));for(const t of V)e=C(e,t);return e},"getUserDefinedConfig"),ue=/<br\s*\/?>/gi,de=(0,n.K2)(e=>{if(!e)return[""];return Ae(e).replace(/\\n/g,"#br#").split("#br#")},"getRows"),fe=(()=>{let e=!1;return()=>{e||(pe(),e=!0)}})();function pe(){const e="data-temp-href-target";p.A.addHook("beforeSanitizeAttributes",t=>{"A"===t.tagName&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),p.A.addHook("afterSanitizeAttributes",t=>{"A"===t.tagName&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener"))})}(0,n.K2)(pe,"setupDompurifyHooks");var ge=(0,n.K2)(e=>{fe();return p.A.sanitize(e)},"removeScript"),me=(0,n.K2)((e,t)=>{if(!1!==t.flowchart?.htmlLabels){const r=t.securityLevel;"antiscript"===r||"strict"===r?e=ge(e):"loose"!==r&&(e=(e=(e=Ae(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=ke(e))}return e},"sanitizeMore"),ye=(0,n.K2)((e,t)=>e?e=t.dompurifyConfig?p.A.sanitize(me(e,t),t.dompurifyConfig).toString():p.A.sanitize(me(e,t),{FORBID_TAGS:["style"]}).toString():e,"sanitizeText"),xe=(0,n.K2)((e,t)=>"string"==typeof e?ye(e,t):e.flat().map(e=>ye(e,t)),"sanitizeTextOrArray"),be=(0,n.K2)(e=>ue.test(e),"hasBreaks"),ve=(0,n.K2)(e=>e.split(ue),"splitBreaks"),ke=(0,n.K2)(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Ae=(0,n.K2)(e=>e.replace(ue,"#br#"),"breakToPlaceholder"),we=(0,n.K2)(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Te=(0,n.K2)(e=>!1!==e&&!["false","null","0"].includes(String(e).trim().toLowerCase()),"evaluate"),Ce=(0,n.K2)(function(...e){const t=e.filter(e=>!isNaN(e));return Math.max(...t)},"getMax"),Se=(0,n.K2)(function(...e){const t=e.filter(e=>!isNaN(e));return Math.min(...t)},"getMin"),_e=(0,n.K2)(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let e=t[n];if(","===e&&n>0&&n+1<t.length){const i=t[n-1],a=t[n+1];Re(i,a)&&(e=i+","+a,n++,r.pop())}r.push(Ee(e))}return r.join("")},"parseGenericTypes"),$e=(0,n.K2)((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),Re=(0,n.K2)((e,t)=>{const r=$e(e,"~"),n=$e(t,"~");return 1===r&&1===n},"shouldCombineSets"),Ee=(0,n.K2)(e=>{const t=$e(e,"~");let r=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;-1!==i&&-1!==a&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Le=(0,n.K2)(()=>void 0!==window.MathMLElement,"isMathMLSupported"),Me=/\$\$(.*)\$\$/g,Ie=(0,n.K2)(e=>(e.match(Me)?.length??0)>0,"hasKatex"),Ne=(0,n.K2)(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Be(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),Oe=(0,n.K2)(async(e,t)=>{if(!Ie(e))return e;if(!(Le()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Me,"MathML is unsupported in this environment.");{const{default:n}=await r.e(2130).then(r.bind(r,2130)),i=t.forceLegacyMathML||!Le()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(ue).map(e=>Ie(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`).join("").replace(Me,(e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Be=(0,n.K2)(async(e,t)=>ye(await Oe(e,t),t),"renderKatexSanitized"),De={getRows:de,sanitizeText:ye,sanitizeTextOrArray:xe,hasBreaks:be,splitBreaks:ve,lineBreakRegex:ue,removeScript:ge,getUrl:we,evaluate:Te,getMax:Ce,getMin:Se},Fe=(0,n.K2)(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),Pe=(0,n.K2)(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),Ke=(0,n.K2)(function(e,t,r,n){const i=Pe(t,r,n);Fe(e,i)},"configureSvgSize"),je=(0,n.K2)(function(e,t,r,i){const a=t.node().getBBox(),s=a.width,o=a.height;n.Rm.info(`SVG bounds: ${s}x${o}`,a);let l=0,c=0;n.Rm.info(`Graph bounds: ${l}x${c}`,e),l=s+2*r,c=o+2*r,n.Rm.info(`Calculated bounds: ${l}x${c}`),Ke(t,c,l,i);const h=`${a.x-r} ${a.y-r} ${a.width+2*r} ${a.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox"),ze={},Ue=(0,n.K2)((e,t,r)=>{let i="";return e in ze&&ze[e]?i=ze[e](r):n.Rm.warn(`No theme found for ${e}`),` & {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n    fill: ${r.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${r.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${r.errorTextColor};\n    stroke: ${r.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${r.lineColor};\n    stroke: ${r.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${r.lineColor};\n  }\n\n  & svg {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${i}\n\n  ${t}\n`},"getStyles"),We=(0,n.K2)((e,t)=>{void 0!==t&&(ze[e]=t)},"addStylesForDiagram"),Ge=Ue,qe={};(0,n.VA)(qe,{clear:()=>Ze,getAccDescription:()=>tt,getAccTitle:()=>Je,getDiagramTitle:()=>nt,setAccDescription:()=>et,setAccTitle:()=>Qe,setDiagramTitle:()=>rt});var He="",Ve="",Ye="",Xe=(0,n.K2)(e=>ye(e,re()),"sanitizeText"),Ze=(0,n.K2)(()=>{He="",Ye="",Ve=""},"clear"),Qe=(0,n.K2)(e=>{He=Xe(e).replace(/^\s+/g,"")},"setAccTitle"),Je=(0,n.K2)(()=>He,"getAccTitle"),et=(0,n.K2)(e=>{Ye=Xe(e).replace(/\n\s+/g,"\n")},"setAccDescription"),tt=(0,n.K2)(()=>Ye,"getAccDescription"),rt=(0,n.K2)(e=>{Ve=Xe(e)},"setDiagramTitle"),nt=(0,n.K2)(()=>Ve,"getDiagramTitle"),it=n.Rm,at=n.He,st=re,ot=te,lt=q,ct=(0,n.K2)(e=>ye(e,st()),"sanitizeText"),ht=je,ut=(0,n.K2)(()=>qe,"getCommonDb"),dt={},ft=(0,n.K2)((e,t,r)=>{dt[e]&&it.warn(`Diagram with id ${e} already registered. Overwriting.`),dt[e]=t,r&&A(e,r),We(e,t.styles),t.injectUtils?.(it,at,st,ct,ht,ut(),()=>{})},"registerDiagram"),pt=(0,n.K2)(e=>{if(e in dt)return dt[e];throw new gt(e)},"getDiagram"),gt=class extends Error{static{(0,n.K2)(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}},7809:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},7819:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(2049),i=r(6586),a=r(6632);var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;const l=function(e){var t=(0,a.A)(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t});var c=r(8894);const h=function(e,t){return(0,n.A)(e)?e:(0,i.A)(e,t)?[e]:l((0,c.A)(e))}},7846:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},l={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new n.Tm,"ValueConverter")}};function c(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.YP,l);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}(0,n.K2)(c,"createRadarServices")},7960:(e,t,r)=>{"use strict";r.d(t,{mR:()=>Ce,dg:()=>we,jE:()=>xe,Tm:()=>Te,eZ:()=>be,e5:()=>ge,sr:()=>pe,AM:()=>me,KX:()=>ye,YP:()=>ve,eV:()=>ke,K2:()=>g});var n=r(2479),i=r(8913),a=r(9364),s=r(2151),o=r(4298),l=r(7608);const c={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},h={AstReflection:()=>new s.QX};function u(e){var t;const r=function(){const e=(0,a.WQ)((0,i.u)(o.D),h),t=(0,a.WQ)((0,i.t)({shared:e}),c);return e.ServiceRegistry.register(t),t}(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,l.r.parse(`memory://${null!==(t=n.name)&&void 0!==t?t:"grammar"}.langium`)),n}var d=r(5033),f=r(1945),p=Object.defineProperty,g=(e,t)=>p(e,"name",{value:t,configurable:!0}),m="Statement",y="Architecture";g(function(e){return J.isInstance(e,y)},"isArchitecture");var x="Axis",b="Branch";g(function(e){return J.isInstance(e,b)},"isBranch");var v="Checkout",k="CherryPicking",A="ClassDefStatement",w="Commit";g(function(e){return J.isInstance(e,w)},"isCommit");var T="Curve",C="Edge",S="Entry",_="GitGraph";g(function(e){return J.isInstance(e,_)},"isGitGraph");var $="Group",R="Info";g(function(e){return J.isInstance(e,R)},"isInfo");var E="Item",L="Junction",M="Merge";g(function(e){return J.isInstance(e,M)},"isMerge");var I="Option",N="Packet";g(function(e){return J.isInstance(e,N)},"isPacket");var O="PacketBlock";g(function(e){return J.isInstance(e,O)},"isPacketBlock");var B="Pie";g(function(e){return J.isInstance(e,B)},"isPie");var D="PieSection";g(function(e){return J.isInstance(e,D)},"isPieSection");var F="Radar",P="Service",K="Treemap";g(function(e){return J.isInstance(e,K)},"isTreemap");var j,z,U,W,G,q,H,V="TreemapRow",Y="Direction",X="Leaf",Z="Section",Q=class extends n.kD{static{g(this,"MermaidAstReflection")}getAllTypes(){return[y,x,b,v,k,A,w,T,Y,C,S,_,$,R,E,L,X,M,I,N,O,B,D,F,Z,P,m,K,V]}computeIsSubtype(e,t){switch(e){case b:case v:case k:case w:case M:return this.isSubtype(m,t);case Y:return this.isSubtype(_,t);case X:case Z:return this.isSubtype(E,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;if("Entry:axis"===t)return x;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case y:return{name:y,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case x:return{name:x,properties:[{name:"label"},{name:"name"}]};case b:return{name:b,properties:[{name:"name"},{name:"order"}]};case v:return{name:v,properties:[{name:"branch"}]};case k:return{name:k,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case A:return{name:A,properties:[{name:"className"},{name:"styleText"}]};case w:return{name:w,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case T:return{name:T,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case C:return{name:C,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case S:return{name:S,properties:[{name:"axis"},{name:"value"}]};case _:return{name:_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case $:return{name:$,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case R:return{name:R,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case E:return{name:E,properties:[{name:"classSelector"},{name:"name"}]};case L:return{name:L,properties:[{name:"id"},{name:"in"}]};case M:return{name:M,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case I:return{name:I,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case N:return{name:N,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case O:return{name:O,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case B:return{name:B,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case D:return{name:D,properties:[{name:"label"},{name:"value"}]};case F:return{name:F,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case P:return{name:P,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case K:return{name:K,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case V:return{name:V,properties:[{name:"indent"},{name:"item"}]};case Y:return{name:Y,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case X:return{name:X,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Z:return{name:Z,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},J=new Q,ee=g(()=>j??(j=u('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),te=g(()=>z??(z=u('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),re=g(()=>U??(U=u('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),ne=g(()=>W??(W=u('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),ie=g(()=>G??(G=u('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),ae=g(()=>q??(q=u('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),se=g(()=>H??(H=u('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),oe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},le={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ce={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},he={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ue={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},de={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},fe={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},pe={AstReflection:g(()=>new Q,"AstReflection")},ge={Grammar:g(()=>ee(),"Grammar"),LanguageMetaData:g(()=>oe,"LanguageMetaData"),parser:{}},me={Grammar:g(()=>te(),"Grammar"),LanguageMetaData:g(()=>le,"LanguageMetaData"),parser:{}},ye={Grammar:g(()=>re(),"Grammar"),LanguageMetaData:g(()=>ce,"LanguageMetaData"),parser:{}},xe={Grammar:g(()=>ne(),"Grammar"),LanguageMetaData:g(()=>he,"LanguageMetaData"),parser:{}},be={Grammar:g(()=>ie(),"Grammar"),LanguageMetaData:g(()=>ue,"LanguageMetaData"),parser:{}},ve={Grammar:g(()=>ae(),"Grammar"),LanguageMetaData:g(()=>de,"LanguageMetaData"),parser:{}},ke={Grammar:g(()=>se(),"Grammar"),LanguageMetaData:g(()=>fe,"LanguageMetaData"),parser:{}},Ae={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},we=class extends d.d{static{g(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return void 0===n&&(n=this.runCustomConverter(e,t,r)),void 0===n?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){const n=Ae[e.name];if(void 0===n)return;const i=n.exec(t);return null!==i?void 0!==i[1]?i[1].trim().replace(/[\t ]{2,}/gm," "):void 0!==i[2]?i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n"):void 0:void 0}},Te=class extends we{static{g(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},Ce=class extends f.Q{static{g(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){const n=super.buildKeywordTokens(e,t,r);return n.forEach(e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}};(class extends Ce{static{g(this,"CommonTokenBuilder")}})},8037:(e,t,r)=>{"use strict";r.d(t,{Bd:()=>f,P3:()=>C,PV:()=>w,Rp:()=>x,S:()=>S,SS:()=>m,U5:()=>b,Uz:()=>T,Xq:()=>k,YV:()=>c,eb:()=>d,g4:()=>u,qO:()=>p});var n=r(1564),i=r(2151),a=r(2479),s=r(9683),o=r(6373),l=r(2806);function c(e,t){const r=new Set,n=function(e){return e.rules.find(e=>i.s7(e)&&e.entry)}(e);if(!n)return new Set(e.rules);const a=[n].concat(function(e){return e.rules.filter(e=>i.rE(e)&&e.hidden)}(e));for(const i of a)h(i,r,t);const s=new Set;for(const o of e.rules)(r.has(o.name)||i.rE(o)&&o.hidden)&&s.add(o);return s}function h(e,t,r){t.add(e.name),(0,s.Uo)(e).forEach(e=>{if(i.$g(e)||r&&i.lF(e)){const n=e.rule.ref;n&&!t.has(n.name)&&h(n,t,r)}})}function u(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=b(e.type.ref);return null==t?void 0:t.terminal}}function d(e){return e.hidden&&!(0,l.Yv)(S(e))}function f(e,t){return e&&t?g(e,t,e.astNode,!0):[]}function p(e,t,r){if(!e||!t)return;const n=g(e,t,e.astNode,!0);return 0!==n.length?n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function g(e,t,r,n){if(!n){const r=(0,s.XG)(e.grammarSource,i.wh);if(r&&r.feature===t)return[e]}return(0,a.mD)(e)&&e.astNode===r?e.content.flatMap(e=>g(e,t,r,!1)):[]}function m(e,t,r){if(!e)return;const n=y(e,t,null==e?void 0:e.astNode);return 0!==n.length?n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function y(e,t,r){if(e.astNode!==r)return[];if(i.wb(e.grammarSource)&&e.grammarSource.value===t)return[e];const n=(0,o.NS)(e).iterator();let a;const s=[];do{if(a=n.next(),!a.done){const e=a.value;e.astNode===r?i.wb(e.grammarSource)&&e.grammarSource.value===t&&s.push(e):n.prune()}}while(!a.done);return s}function x(e){var t;const r=e.astNode;for(;r===(null===(t=e.container)||void 0===t?void 0:t.astNode);){const t=(0,s.XG)(e.grammarSource,i.wh);if(t)return t;e=e.container}}function b(e){let t=e;return i.SP(t)&&(i.ve(t.$container)?t=t.$container.$container:i.s7(t.$container)?t=t.$container:(0,n.d)(t.$container)),v(e,t,new Map)}function v(e,t,r){var n;function a(t,n){let a;return(0,s.XG)(t,i.wh)||(a=v(n,n,r)),r.set(e,a),a}if(r.has(e))return r.get(e);r.set(e,void 0);for(const o of(0,s.Uo)(t)){if(i.wh(o)&&"name"===o.feature.toLowerCase())return r.set(e,o),o;if(i.$g(o)&&i.s7(o.rule.ref))return a(o,o.rule.ref);if(i.D8(o)&&(null===(n=o.typeRef)||void 0===n?void 0:n.ref))return a(o,o.typeRef.ref)}}function k(e){return A(e,new Set)}function A(e,t){if(t.has(e))return!0;t.add(e);for(const r of(0,s.Uo)(e))if(i.$g(r)){if(!r.rule.ref)return!1;if(i.s7(r.rule.ref)&&!A(r.rule.ref,t))return!1}else{if(i.wh(r))return!1;if(i.ve(r))return!1}return Boolean(e.definition)}function w(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(i.s7(t))return t.name;if(i.S2(t)||i.Xj(t))return t.name}}}function T(e){var t;if(i.s7(e))return k(e)?e.name:null!==(t=w(e))&&void 0!==t?t:e.name;if(i.S2(e)||i.Xj(e)||i.fG(e))return e.name;if(i.ve(e)){const t=function(e){var t;if(e.inferredType)return e.inferredType.name;if(null===(t=e.type)||void 0===t?void 0:t.ref)return T(e.type.ref);return}(e);if(t)return t}else if(i.SP(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function C(e){var t,r,n;return i.rE(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":null!==(n=w(e))&&void 0!==n?n:e.name}function S(e){const t={s:!1,i:!1,u:!1},r=$(e.definition,t),n=Object.entries(t).filter(([,e])=>e).map(([e])=>e).join("");return new RegExp(r,n)}const _=/[\s\S]/.source;function $(e,t){if(i.Fy(e))return E((s=e).elements.map(e=>$(e)).join("|"),{cardinality:s.cardinality,lookahead:s.lookahead});if(i.O4(e))return E((a=e).elements.map(e=>$(e)).join(""),{cardinality:a.cardinality,lookahead:a.lookahead});if(i.Bg(e))return function(e){if(e.right)return E(`[${R(e.left)}-${R(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1});return E(R(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}(e);if(i.lF(e)){const t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return E($(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(i.GL(e))return E(`(?!${$((n=e).terminal)})${_}*?`,{cardinality:n.cardinality,lookahead:n.lookahead});if(i.Mz(e))return E(`${_}*?${$((r=e).terminal)}`,{cardinality:r.cardinality,lookahead:r.lookahead});if(i.vd(e)){const r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),E(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(i.z2(e))return E(_,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${null==e?void 0:e.$type}`);var r,n,a,s}function R(e){return(0,l.Nt)(e.value)}function E(e,t){var r;return(!1!==t.wrap||t.lookahead)&&(e=`(${null!==(r=t.lookahead)&&void 0!==r?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}},8041:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5635);const i=(e,t)=>(0,n.A)(e,"l",t)},8058:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2641),i=r(6240),a=r(9922),s=r(2049);const o=function(e,t){return((0,s.A)(e)?n.A:i.A)(e,(0,a.A)(t))}},8139:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3588),i=r(4722);const a=function(e,t){return(0,n.A)((0,i.A)(e,t),1)}},8207:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5572);const i=function(e,t){return(0,n.A)(t,function(t){return e[t]})};var a=r(7422);const s=function(e){return null==e?[]:i(e,(0,a.A)(e))}},8232:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2453),i=r(4886);const a=(e,t)=>{const r=i.A.parse(e);for(const i in t)r[i]=n.A.channel.clamp[i](t[i]);return i.A.stringify(r)}},8335:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8744),i=r(1917);const a=(0,n.A)(i.A,"Map")},8440:(e,t,r)=>{"use strict";r.d(t,{f:()=>Jt,A:()=>Qt});var n=r(6540),i=r(9264),a=r(3590),s=r(3981),o=r(45),l=(r(5164),r(8698),r(5894),r(3245),r(2387),r(92)),c=r(3226),h=r(7633),u=r(797),d=r(513),f=r(451),p="comm",g="rule",m="decl",y=Math.abs,x=String.fromCharCode;Object.assign;function b(e){return e.trim()}function v(e,t,r){return e.replace(t,r)}function k(e,t,r){return e.indexOf(t,r)}function A(e,t){return 0|e.charCodeAt(t)}function w(e,t,r){return e.slice(t,r)}function T(e){return e.length}function C(e,t){return t.push(e),e}function S(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function _(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case m:return e.return=e.return||e.value;case p:return"";case"@keyframes":return e.return=e.value+"{"+S(e.children,n)+"}";case g:if(!T(e.value=e.props.join(",")))return""}return T(r=S(e.children,n))?e.return=e.value+"{"+r+"}":""}var $=1,R=1,E=0,L=0,M=0,I="";function N(e,t,r,n,i,a,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:$,column:R,length:s,return:"",siblings:o}}function O(){return M=L>0?A(I,--L):0,R--,10===M&&(R=1,$--),M}function B(){return M=L<E?A(I,L++):0,R++,10===M&&(R=1,$++),M}function D(){return A(I,L)}function F(){return L}function P(e,t){return w(I,e,t)}function K(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return $=R=1,E=T(I=e),L=0,[]}function z(e){return I="",e}function U(e){return b(P(L-1,q(91===e?e+2:40===e?e+1:e)))}function W(e){for(;(M=D())&&M<33;)B();return K(e)>2||K(M)>3?"":" "}function G(e,t){for(;--t&&B()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return P(e,F()+(t<6&&32==D()&&32==B()))}function q(e){for(;B();)switch(M){case e:return L;case 34:case 39:34!==e&&39!==e&&q(M);break;case 40:41===e&&q(e);break;case 92:B()}return L}function H(e,t){for(;B()&&e+M!==57&&(e+M!==84||47!==D()););return"/*"+P(t,L-1)+"*"+x(47===e?e:B())}function V(e){for(;!K(D());)B();return P(e,L)}function Y(e){return z(X("",null,null,null,[""],e=j(e),0,[0],e))}function X(e,t,r,n,i,a,s,o,l){for(var c=0,h=0,u=s,d=0,f=0,p=0,g=1,m=1,b=1,S=0,_="",$=i,R=a,E=n,L=_;m;)switch(p=S,S=B()){case 40:if(108!=p&&58==A(L,u-1)){-1!=k(L+=v(U(S),"&","&\f"),"&\f",y(c?o[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:L+=U(S);break;case 9:case 10:case 13:case 32:L+=W(p);break;case 92:L+=G(F()-1,7);continue;case 47:switch(D()){case 42:case 47:C(Q(H(B(),F()),t,r,l),l),5!=K(p||1)&&5!=K(D()||1)||!T(L)||" "===w(L,-1,void 0)||(L+=" ");break;default:L+="/"}break;case 123*g:o[c++]=T(L)*b;case 125*g:case 59:case 0:switch(S){case 0:case 125:m=0;case 59+h:-1==b&&(L=v(L,/\f/g,"")),f>0&&(T(L)-u||0===g&&47===p)&&C(f>32?J(L+";",n,r,u-1,l):J(v(L," ","")+";",n,r,u-2,l),l);break;case 59:L+=";";default:if(C(E=Z(L,t,r,c,h,i,o,_,$=[],R=[],u,a),a),123===S)if(0===h)X(L,t,E,E,$,a,u,o,R);else{switch(d){case 99:if(110===A(L,3))break;case 108:if(97===A(L,2))break;default:h=0;case 100:case 109:case 115:}h?X(e,E,E,n&&C(Z(e,E,E,0,0,i,o,_,i,$=[],u,R),R),i,R,u,o,n?$:R):X(L,E,E,E,[""],R,0,o,R)}}c=h=f=0,g=b=1,_=L="",u=s;break;case 58:u=1+T(L),f=p;default:if(g<1)if(123==S)--g;else if(125==S&&0==g++&&125==O())continue;switch(L+=x(S),S*g){case 38:b=h>0?1:(L+="\f",-1);break;case 44:o[c++]=(T(L)-1)*b,b=1;break;case 64:45===D()&&(L+=U(B())),d=D(),h=u=T(_=L+=V(F())),S++;break;case 45:45===p&&2==T(L)&&(g=0)}}return a}function Z(e,t,r,n,i,a,s,o,l,c,h,u){for(var d=i-1,f=0===i?a:[""],p=function(e){return e.length}(f),m=0,x=0,k=0;m<n;++m)for(var A=0,T=w(e,d+1,d=y(x=s[m])),C=e;A<p;++A)(C=b(x>0?f[A]+" "+T:v(T,/&\f/g,f[A])))&&(l[k++]=C);return N(e,t,r,0===i?g:o,l,c,h,u)}function Q(e,t,r,n){return N(e,t,r,p,x(M),w(e,2,-2),0,n)}function J(e,t,r,n,i){return N(e,t,r,m,w(e,0,n),w(e,n+1,-1),n,i)}var ee=r(9418),te=r(6401),re={id:"c4",detector:(0,u.K2)(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(4981).then(r.bind(r,4981));return{id:"c4",diagram:e}},"loader")},ne="flowchart",ie={id:ne,detector:(0,u.K2)((e,t)=>"dagre-wrapper"!==t?.flowchart?.defaultRenderer&&"elk"!==t?.flowchart?.defaultRenderer&&/^\s*graph/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(2291)]).then(r.bind(r,2291));return{id:ne,diagram:e}},"loader")},ae="flowchart-v2",se={id:ae,detector:(0,u.K2)((e,t)=>"dagre-d3"!==t?.flowchart?.defaultRenderer&&("elk"===t?.flowchart?.defaultRenderer&&(t.layout="elk"),!(!/^\s*graph/.test(e)||"dagre-wrapper"!==t?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(e)),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(2291)]).then(r.bind(r,2291));return{id:ae,diagram:e}},"loader")},oe={id:"er",detector:(0,u.K2)(e=>/^\s*erDiagram/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(8756)]).then(r.bind(r,8756));return{id:"er",diagram:e}},"loader")},le="gitGraph",ce={id:le,detector:(0,u.K2)(e=>/^\s*gitGraph/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(6319)]).then(r.bind(r,6319));return{id:le,diagram:e}},"loader")},he="gantt",ue={id:he,detector:(0,u.K2)(e=>/^\s*gantt/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(2492).then(r.bind(r,2492));return{id:he,diagram:e}},"loader")},de="info",fe={id:de,detector:(0,u.K2)(e=>/^\s*info/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(7465)]).then(r.bind(r,7465));return{id:de,diagram:e}},"loader")},pe={id:"pie",detector:(0,u.K2)(e=>/^\s*pie/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(9412)]).then(r.bind(r,9412));return{id:"pie",diagram:e}},"loader")},ge="quadrantChart",me={id:ge,detector:(0,u.K2)(e=>/^\s*quadrantChart/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(1203).then(r.bind(r,1203));return{id:ge,diagram:e}},"loader")},ye="xychart",xe={id:ye,detector:(0,u.K2)(e=>/^\s*xychart(-beta)?/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(5955).then(r.bind(r,5955));return{id:ye,diagram:e}},"loader")},be="requirement",ve={id:be,detector:(0,u.K2)(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(9032)]).then(r.bind(r,9032));return{id:be,diagram:e}},"loader")},ke="sequence",Ae={id:ke,detector:(0,u.K2)(e=>/^\s*sequenceDiagram/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(7592).then(r.bind(r,7592));return{id:ke,diagram:e}},"loader")},we="class",Te={id:we,detector:(0,u.K2)((e,t)=>"dagre-wrapper"!==t?.class?.defaultRenderer&&/^\s*classDiagram/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(1746),r.e(9510)]).then(r.bind(r,9510));return{id:we,diagram:e}},"loader")},Ce="classDiagram",Se={id:Ce,detector:(0,u.K2)((e,t)=>!(!/^\s*classDiagram/.test(e)||"dagre-wrapper"!==t?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(1746),r.e(3815)]).then(r.bind(r,3815));return{id:Ce,diagram:e}},"loader")},_e="state",$e={id:_e,detector:(0,u.K2)((e,t)=>"dagre-wrapper"!==t?.state?.defaultRenderer&&/^\s*stateDiagram/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(2334),r.e(4616),r.e(8142)]).then(r.bind(r,8142));return{id:_e,diagram:e}},"loader")},Re="stateDiagram",Ee={id:Re,detector:(0,u.K2)((e,t)=>!!/^\s*stateDiagram-v2/.test(e)||!(!/^\s*stateDiagram/.test(e)||"dagre-wrapper"!==t?.state?.defaultRenderer),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(4616),r.e(4802)]).then(r.bind(r,4802));return{id:Re,diagram:e}},"loader")},Le="journey",Me={id:Le,detector:(0,u.K2)(e=>/^\s*journey/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(5480)]).then(r.bind(r,5480));return{id:Le,diagram:e}},"loader")},Ie={draw:(0,u.K2)((e,t,r)=>{u.Rm.debug("rendering svg for syntax error\n");const n=(0,a.D)(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),(0,h.a$)(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw")},Ne=Ie,Oe={db:{},renderer:Ie,parser:{parse:(0,u.K2)(()=>{},"parse")}},Be="flowchart-elk",De={id:Be,detector:(0,u.K2)((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&"elk"===t?.flowchart?.defaultRenderer)&&(t.layout="elk",!0),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(2291)]).then(r.bind(r,2291));return{id:Be,diagram:e}},"loader")},Fe="timeline",Pe={id:Fe,detector:(0,u.K2)(e=>/^\s*timeline/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(291).then(r.bind(r,291));return{id:Fe,diagram:e}},"loader")},Ke="mindmap",je={id:Ke,detector:(0,u.K2)(e=>/^\s*mindmap/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(9717)]).then(r.bind(r,9717));return{id:Ke,diagram:e}},"loader")},ze="kanban",Ue={id:ze,detector:(0,u.K2)(e=>/^\s*kanban/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(6241)]).then(r.bind(r,6241));return{id:ze,diagram:e}},"loader")},We="sankey",Ge={id:We,detector:(0,u.K2)(e=>/^\s*sankey(-beta)?/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await r.e(1741).then(r.bind(r,1741));return{id:We,diagram:e}},"loader")},qe="packet",He={id:qe,detector:(0,u.K2)(e=>/^\s*packet(-beta)?/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(6567)]).then(r.bind(r,6567));return{id:qe,diagram:e}},"loader")},Ve="radar",Ye={id:Ve,detector:(0,u.K2)(e=>/^\s*radar-beta/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(6992)]).then(r.bind(r,6992));return{id:Ve,diagram:e}},"loader")},Xe="block",Ze={id:Xe,detector:(0,u.K2)(e=>/^\s*block(-beta)?/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(5996)]).then(r.bind(r,5996));return{id:Xe,diagram:e}},"loader")},Qe="architecture",Je={id:Qe,detector:(0,u.K2)(e=>/^\s*architecture/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(165),r.e(8249)]).then(r.bind(r,8249));return{id:Qe,diagram:e}},"loader")},et="treemap",tt={id:et,detector:(0,u.K2)(e=>/^\s*treemap/.test(e),"detector"),loader:(0,u.K2)(async()=>{const{diagram:e}=await Promise.all([r.e(2076),r.e(2821)]).then(r.bind(r,2821));return{id:et,diagram:e}},"loader")},rt=!1,nt=(0,u.K2)(()=>{rt||(rt=!0,(0,h.Js)("error",Oe,e=>"error"===e.toLowerCase().trim()),(0,h.Js)("---",{db:{clear:(0,u.K2)(()=>{},"clear")},styles:{},renderer:{draw:(0,u.K2)(()=>{},"draw")},parser:{parse:(0,u.K2)(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,u.K2)(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),(0,h.Xd)(De,je,Je),(0,h.Xd)(re,Ue,Se,Te,oe,ue,fe,pe,ve,Ae,se,ie,Pe,ce,Ee,$e,Me,me,Ge,He,xe,Ze,Ye,tt))},"addDiagrams"),it=(0,u.K2)(async()=>{u.Rm.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(h.mW).map(async([e,{detector:t,loader:r}])=>{if(r)try{(0,h.Gs)(e)}catch{try{const{diagram:e,id:n}=await r();(0,h.Js)(n,e,t)}catch(n){throw u.Rm.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete h.mW[e],n}}}))).filter(e=>"rejected"===e.status);if(e.length>0){u.Rm.error(`Failed to load ${e.length} external diagrams`);for(const t of e)u.Rm.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");function at(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function st(e,t,r,n){if(void 0!==e.insert){if(r){const t=`chart-desc-${n}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(r)}if(t){const r=`chart-title-${n}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}(0,u.K2)(at,"setA11yDiagramInfo"),(0,u.K2)(st,"addSVGa11yTitleDescription");var ot=class e{constructor(e,t,r,n,i){this.type=e,this.text=t,this.db=r,this.parser=n,this.renderer=i}static{(0,u.K2)(this,"Diagram")}static async fromText(t,r={}){const n=(0,h.zj)(),i=(0,h.Ch)(t,n);t=(0,c.C4)(t)+"\n";try{(0,h.Gs)(i)}catch{const e=(0,h.J$)(i);if(!e)throw new h.C0(`Diagram ${i} not found.`);const{id:t,diagram:r}=await e();(0,h.Js)(t,r)}const{db:a,parser:s,renderer:o,init:l}=(0,h.Gs)(i);return s.parser&&(s.parser.yy=a),a.clear?.(),l?.(n),r.title&&a.setDiagramTitle?.(r.title),await s.parse(t),new e(i,t,a,s,o)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},lt=[],ct=(0,u.K2)(()=>{lt.forEach(e=>{e()}),lt=[]},"attachFunctions"),ht=(0,u.K2)(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function ut(e){const t=e.match(h.EJ);if(!t)return{text:e,metadata:{}};let r=(0,s.H)(t[1],{schema:s.r})??{};r="object"!=typeof r||Array.isArray(r)?{}:r;const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}(0,u.K2)(ut,"extractFrontMatter");var dt=(0,u.K2)(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,r)=>"<"+t+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),ft=(0,u.K2)(e=>{const{text:t,metadata:r}=ut(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},"processFrontmatter"),pt=(0,u.K2)(e=>{const t=c._K.detectInit(e)??{},r=c._K.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:e})=>"wrap"===e):"wrap"===r?.type&&(t.wrap=!0),{text:(0,c.vU)(e),directive:t}},"processDirectives");function gt(e){const t=dt(e),r=ft(t),n=pt(r.text),i=(0,c.$t)(r.config,n.directive);return{code:e=ht(n.text),title:r.title,config:i}}function mt(e){const t=(new TextEncoder).encode(e),r=Array.from(t,e=>String.fromCodePoint(e)).join("");return btoa(r)}(0,u.K2)(gt,"preprocessDiagram"),(0,u.K2)(mt,"toBase64");var yt=["foreignobject"],xt=["dominant-baseline"];function bt(e){const t=gt(e);return(0,h.cL)(),(0,h.xA)(t.config??{}),t}async function vt(e,t){nt();try{const{code:t,config:r}=bt(e);return{diagramType:(await Lt(t)).type,config:r}}catch(r){if(t?.suppressErrors)return!1;throw r}}(0,u.K2)(bt,"processAndSetConfigs"),(0,u.K2)(vt,"parse");var kt=(0,u.K2)((e,t,r=[])=>`\n.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),At=(0,u.K2)((e,t=new Map)=>{let r="";if(void 0!==e.themeCSS&&(r+=`\n${e.themeCSS}`),void 0!==e.fontFamily&&(r+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(r+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const n=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{(0,te.A)(e.styles)||n.forEach(t=>{r+=kt(e.id,t,e.styles)}),(0,te.A)(e.textStyles)||(r+=kt(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return r},"createCssStyles"),wt=(0,u.K2)((e,t,r,n)=>{const i=At(e,r);return S(Y(`${n}{${(0,h.tM)(t,i,e.themeVariables)}}`),_)},"createUserStyles"),Tt=(0,u.K2)((e="",t,r)=>{let n=e;return r||t||(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=(0,c.Sm)(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Ct=(0,u.K2)((e="",t)=>`<iframe style="width:100%;height:${t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${mt(`<body style="margin:0">${e}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`,"putIntoIFrame"),St=(0,u.K2)((e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function _t(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,u.K2)(_t,"sandboxedIframe");var $t=(0,u.K2)((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Rt=(0,u.K2)(async function(e,t,r){nt();const n=bt(t);t=n.code;const a=(0,h.zj)();u.Rm.debug(a),t.length>(a?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const s="#"+e,o="i"+e,l="#"+o,c="d"+e,d="#"+c,p=(0,u.K2)(()=>{const e=m?l:d,t=(0,f.Ltv)(e).node();t&&"remove"in t&&t.remove()},"removeTempElements");let g=(0,f.Ltv)("body");const m="sandbox"===a.securityLevel,y="loose"===a.securityLevel,x=a.fontFamily;if(void 0!==r){if(r&&(r.innerHTML=""),m){const e=_t((0,f.Ltv)(r),o);g=(0,f.Ltv)(e.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=(0,f.Ltv)(r);St(g,e,c,`font-family: ${x}`,"http://www.w3.org/1999/xlink")}else{if($t(document,e,c,o),m){const e=_t((0,f.Ltv)("body"),o);g=(0,f.Ltv)(e.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=(0,f.Ltv)("body");St(g,e,c)}let b,v;try{b=await ot.fromText(t,{title:n.title})}catch(M){if(a.suppressErrorRendering)throw p(),M;b=await ot.fromText("error"),v=M}const k=g.select(d).node(),A=b.type,w=k.firstChild,T=w.firstChild,C=b.renderer.getClasses?.(t,b),S=wt(a,A,C,s),_=document.createElement("style");_.innerHTML=S,w.insertBefore(_,T);try{await b.renderer.draw(t,e,i.n.version,b)}catch(I){throw a.suppressErrorRendering?p():Ne.draw(t,e,i.n.version),I}const $=g.select(`${d} svg`),R=b.db.getAccTitle?.(),E=b.db.getAccDescription?.();Mt(A,$,R,E),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let L=g.select(d).node().innerHTML;if(u.Rm.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),L=Tt(L,m,(0,h._3)(a.arrowMarkerAbsolute)),m){const e=g.select(d+" svg").node();L=Ct(L,e)}else y||(L=ee.A.sanitize(L,{ADD_TAGS:yt,ADD_ATTR:xt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(ct(),v)throw v;return p(),{diagramType:A,svg:L,bindFunctions:b.db.bindFunctions}},"render");function Et(e={}){const t=(0,h.hH)({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(0,h.wZ)(t),t?.theme&&t.theme in h.H$?t.themeVariables=h.H$[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=h.H$.default.getThemeVariables(t.themeVariables));const r="object"==typeof t?(0,h.UU)(t):(0,h.Q2)();(0,u.He)(r.logLevel),nt()}(0,u.K2)(Et,"initialize");var Lt=(0,u.K2)((e,t={})=>{const{code:r}=gt(e);return ot.fromText(r,t)},"getDiagramFromText");function Mt(e,t,r,n){at(t,e),st(t,r,n,t.attr("id"))}(0,u.K2)(Mt,"addA11yInfo");var It=Object.freeze({render:Rt,parse:vt,getDiagramFromText:Lt,initialize:Et,getConfig:h.zj,setConfig:h.Nk,getSiteConfig:h.Q2,updateSiteConfig:h.B6,reset:(0,u.K2)(()=>{(0,h.cL)()},"reset"),globalReset:(0,u.K2)(()=>{(0,h.cL)(h.sb)},"globalReset"),defaultConfig:h.sb});(0,u.He)((0,h.zj)().logLevel),(0,h.cL)((0,h.zj)());var Nt=(0,u.K2)((e,t,r)=>{u.Rm.warn(e),(0,c.dq)(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Ot=(0,u.K2)(async function(e={querySelector:".mermaid"}){try{await Bt(e)}catch(t){if((0,c.dq)(t)&&u.Rm.error(t.str),Vt.parseError&&Vt.parseError(t),!e.suppressErrors)throw u.Rm.error("Use the suppressErrors option to suppress these errors"),t}},"run"),Bt=(0,u.K2)(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=It.getConfig();let i;if(u.Rm.debug((e?"":"No ")+"Callback function found"),r)i=r;else{if(!t)throw new Error("Nodes and querySelector are both undefined");i=document.querySelectorAll(t)}u.Rm.debug(`Found ${i.length} diagrams`),void 0!==n?.startOnLoad&&(u.Rm.debug("Start On Load: "+n?.startOnLoad),It.updateSiteConfig({startOnLoad:n?.startOnLoad}));const a=new c._K.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const h of Array.from(i)){if(u.Rm.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const t=`mermaid-${a.next()}`;s=h.innerHTML,s=(0,d.T)(c._K.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=c._K.detectInit(s);r&&u.Rm.debug("Detected early reinit: ",r);try{const{svg:r,bindFunctions:n}=await qt(t,s,h);h.innerHTML=r,e&&await e(t),n&&n(h)}catch(l){Nt(l,o,Vt.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),Dt=(0,u.K2)(function(e){It.initialize(e)},"initialize"),Ft=(0,u.K2)(async function(e,t,r){u.Rm.warn("mermaid.init is deprecated. Please use run instead."),e&&Dt(e);const n={postRenderCallback:r,querySelector:".mermaid"};"string"==typeof t?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await Ot(n)},"init"),Pt=(0,u.K2)(async(e,{lazyLoad:t=!0}={})=>{nt(),(0,h.Xd)(...e),!1===t&&await it()},"registerExternalDiagrams"),Kt=(0,u.K2)(function(){if(Vt.startOnLoad){const{startOnLoad:e}=It.getConfig();e&&Vt.run().catch(e=>u.Rm.error("Mermaid failed to initialize",e))}},"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",Kt,!1);var jt=(0,u.K2)(function(e){Vt.parseError=e},"setParseErrorHandler"),zt=[],Ut=!1,Wt=(0,u.K2)(async()=>{if(!Ut){for(Ut=!0;zt.length>0;){const t=zt.shift();if(t)try{await t()}catch(e){u.Rm.error("Error executing queue",e)}}Ut=!1}},"executeQueue"),Gt=(0,u.K2)(async(e,t)=>new Promise((r,n)=>{const i=(0,u.K2)(()=>new Promise((i,a)=>{It.parse(e,t).then(e=>{i(e),r(e)},e=>{u.Rm.error("Error parsing",e),Vt.parseError?.(e),a(e),n(e)})}),"performCall");zt.push(i),Wt().catch(n)}),"parse"),qt=(0,u.K2)((e,t,r)=>new Promise((n,i)=>{const a=(0,u.K2)(()=>new Promise((a,s)=>{It.render(e,t,r).then(e=>{a(e),n(e)},e=>{u.Rm.error("Error parsing",e),Vt.parseError?.(e),s(e),i(e)})}),"performCall");zt.push(a),Wt().catch(i)}),"render"),Ht=(0,u.K2)(()=>Object.keys(h.mW).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Vt={startOnLoad:!0,mermaidAPI:It,parse:Gt,render:qt,init:Ft,run:Ot,registerExternalDiagrams:Pt,registerLayoutLoaders:o.sO,initialize:Dt,parseError:void 0,contentLoaded:Kt,setParseErrorHandler:jt,detectType:h.Ch,registerIconPacks:l.pC,getRegisteredDiagramsMetadata:Ht},Yt=Vt;const Xt={diagramContainer:"diagramContainer_QHwo",header:"header_elrK",diagramWrapper:"diagramWrapper_Jp8O",diagram:"diagram_wfhm",loading:"loading_inHp",spinner:"spinner_zgwk",spin:"spin_fcEz",error:"error_PBWv",caption:"caption_ImUk",fadeIn:"fadeIn_KBEx"};var Zt=r(4848);function Qt({title:e,diagram:t,caption:r}){const i=(0,n.useRef)(null),[a,s]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{if(i.current)try{l(!0),s(null);const e=`mermaid-${Math.random().toString(36).substr(2,9)}`,{svg:r}=await Yt.render(e,t);i.current&&(i.current.innerHTML=r),l(!1)}catch(e){console.error("Mermaid rendering error:",e),s("Failed to render diagram"),l(!1)}})()},[t]),(0,Zt.jsxs)("div",{className:Xt.diagramContainer,children:[e&&(0,Zt.jsx)("div",{className:Xt.header,children:(0,Zt.jsxs)("h3",{children:["\ud83d\udcca ",e]})}),(0,Zt.jsxs)("div",{className:Xt.diagramWrapper,children:[o&&(0,Zt.jsxs)("div",{className:Xt.loading,children:[(0,Zt.jsx)("div",{className:Xt.spinner}),(0,Zt.jsx)("span",{children:"Rendering diagram..."})]}),a&&(0,Zt.jsxs)("div",{className:Xt.error,children:["\u26a0\ufe0f ",a]}),(0,Zt.jsx)("div",{ref:i,className:Xt.diagram,style:{display:o||a?"none":"block"}})]}),r&&(0,Zt.jsx)("div",{className:Xt.caption,children:r})]})}Yt.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"ui-sans-serif, system-ui, -apple-system, sans-serif",flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"}});const Jt={ragArchitecture:"graph TB\n    User[\ud83d\udc64 User Query] --\x3e Embedding[\ud83d\udd22 Generate Embedding]\n    Embedding --\x3e VectorDB[(\ud83d\uddc4\ufe0f Vector Database<br/>Search Similar)]\n    VectorDB --\x3e Context[\ud83d\udcc4 Retrieved Context]\n    Context --\x3e LLM[\ud83e\udd16 LLM Generation]\n    User --\x3e LLM\n    LLM --\x3e Response[\u2705 Final Answer]\n\n    style User fill:#ff4757,stroke:#2f3542,stroke-width:3px\n    style Embedding fill:#ffa502,stroke:#2f3542,stroke-width:3px\n    style VectorDB fill:#00d2d3,stroke:#2f3542,stroke-width:3px\n    style Context fill:#ffd700,stroke:#2f3542,stroke-width:3px\n    style LLM fill:#5352ed,stroke:#2f3542,stroke-width:3px\n    style Response fill:#2ed573,stroke:#2f3542,stroke-width:3px",ragWorkflow:'sequenceDiagram\n    participant U as User\n    participant A as Application\n    participant V as Vector DB\n    participant L as LLM\n\n    U->>A: "What is RAG?"\n    A->>A: Convert query to embedding\n    A->>V: Search similar vectors\n    V--\x3e>A: Top K relevant docs\n    A->>L: Prompt + Context\n    L--\x3e>A: Generated answer\n    A--\x3e>U: Final response with sources',vectorEmbedding:"graph LR\n    Text[\ud83d\udcdd Text Input] --\x3e Model[\ud83e\udde0 Embedding Model]\n    Model --\x3e Vector[\ud83d\udd22 Vector<br/>[0.5, 0.2, ...]]\n    Vector --\x3e VDB[(\ud83d\uddc4\ufe0f Vector DB)]\n\n    Query[\u2753 Query Text] --\x3e QModel[\ud83e\udde0 Embedding Model]\n    QModel --\x3e QVector[\ud83d\udd22 Query Vector]\n    QVector --\x3e Search{\ud83d\udd0d Similarity Search}\n    VDB --\x3e Search\n    Search --\x3e Results[\ud83d\udcc4 Top Results]\n\n    style Text fill:#ff4757,stroke:#2f3542,stroke-width:3px\n    style Model fill:#ffa502,stroke:#2f3542,stroke-width:3px\n    style Vector fill:#ffd700,stroke:#2f3542,stroke-width:3px\n    style VDB fill:#00d2d3,stroke:#2f3542,stroke-width:3px\n    style Query fill:#5352ed,stroke:#2f3542,stroke-width:3px\n    style QModel fill:#ff6348,stroke:#2f3542,stroke-width:3px\n    style QVector fill:#a29bfe,stroke:#2f3542,stroke-width:3px\n    style Search fill:#1e90ff,stroke:#2f3542,stroke-width:3px\n    style Results fill:#2ed573,stroke:#2f3542,stroke-width:3px",aiDevelopmentWorkflow:"graph TD\n    Start[\ud83d\udccb Define Requirements] --\x3e Spec[\ud83d\udcdd Write Specification]\n    Spec --\x3e AI[\ud83e\udd16 AI Generates Code]\n    AI --\x3e Review{\ud83d\udc40 Review Code}\n    Review --\x3e|Issues| Refine[\ud83d\udd27 Refine Prompt]\n    Refine --\x3e AI\n    Review --\x3e|Good| Test[\u2705 Test Code]\n    Test --\x3e|Fails| Debug[\ud83d\udc1b Debug & Fix]\n    Debug --\x3e AI\n    Test --\x3e|Passes| Deploy[\ud83d\ude80 Deploy]\n\n    style Start fill:#ff4757,stroke:#2f3542,stroke-width:3px\n    style Spec fill:#ffa502,stroke:#2f3542,stroke-width:3px\n    style AI fill:#ffd700,stroke:#2f3542,stroke-width:3px\n    style Review fill:#00d2d3,stroke:#2f3542,stroke-width:3px\n    style Refine fill:#ff6348,stroke:#2f3542,stroke-width:3px\n    style Test fill:#2ed573,stroke:#2f3542,stroke-width:3px\n    style Debug fill:#ff7675,stroke:#2f3542,stroke-width:3px\n    style Deploy fill:#00b894,stroke:#2f3542,stroke-width:3px",specDriven:"graph TB\n    subgraph Planning\n        Req[Requirements] --\x3e Spec[Detailed Spec]\n        Spec --\x3e Review[Spec Review]\n    end\n\n    subgraph Development\n        Review --\x3e Code[AI Code Gen]\n        Code --\x3e Impl[Implementation]\n    end\n\n    subgraph Validation\n        Impl --\x3e Test[Automated Tests]\n        Test --\x3e Valid{Meets Spec?}\n        Valid --\x3e|No| Refine[Refine Code]\n        Refine --\x3e Code\n        Valid --\x3e|Yes| Done[\u2705 Complete]\n    end\n\n    style Req fill:#ff4757,stroke:#2f3542,stroke-width:3px\n    style Spec fill:#ffa502,stroke:#2f3542,stroke-width:3px\n    style Review fill:#ffd700,stroke:#2f3542,stroke-width:3px\n    style Code fill:#00d2d3,stroke:#2f3542,stroke-width:3px\n    style Impl fill:#5352ed,stroke:#2f3542,stroke-width:3px\n    style Test fill:#ff6348,stroke:#2f3542,stroke-width:3px\n    style Valid fill:#a29bfe,stroke:#2f3542,stroke-width:3px\n    style Refine fill:#fd79a8,stroke:#2f3542,stroke-width:3px\n    style Done fill:#2ed573,stroke:#2f3542,stroke-width:3px",documentIngestion:"graph LR\n    Docs[\ud83d\udcda Documents] --\x3e Split[\u2702\ufe0f Chunk & Split]\n    Split --\x3e Embed[\ud83d\udd22 Generate Embeddings]\n    Embed --\x3e Store[(\ud83d\uddc4\ufe0f Store in Vector DB)]\n\n    Store --\x3e Ready[\u2705 Ready for Search]\n\n    style Docs fill:#ff4757,stroke:#2f3542,stroke-width:3px\n    style Split fill:#ffa502,stroke:#2f3542,stroke-width:3px\n    style Embed fill:#ffd700,stroke:#2f3542,stroke-width:3px\n    style Store fill:#00d2d3,stroke:#2f3542,stroke-width:3px\n    style Ready fill:#2ed573,stroke:#2f3542,stroke-width:3px"}},8446:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9610),i=r(5254);const a=function(e){return null!=e&&(0,i.A)(e.length)&&!(0,n.A)(e)}},8453:(e,t,r)=>{"use strict";r.d(t,{R:()=>s,x:()=>o});var n=r(6540);const i={},a=n.createContext(i);function s(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:t},e.children)}},8496:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(241),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,o=n.A?n.A.toStringTag:void 0;const l=function(e){var t=a.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(l){}var i=s.call(e);return n&&(t?e[o]=r:delete e[o]),i};var c=Object.prototype.toString;const h=function(e){return c.call(e)};var u=n.A?n.A.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?l(e):h(e)}},8585:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=Object.prototype.hasOwnProperty;const i=function(e,t){return null!=e&&n.call(e,t)};var a=r(5054);const s=function(e,t){return null!=e&&(0,a.A)(e,t,i)}},8593:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(4342);const i=function(e){var t=(0,n.A)(e),r=t%1;return t==t?r?t-r:t:0}},8598:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(3149),i=Object.create;const a=function(){function e(){}return function(t){if(!(0,n.A)(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var s=r(5647),o=r(7271);const l=function(e){return"function"!=typeof e.constructor||(0,o.A)(e)?{}:a((0,s.A)(e))}},8675:(e,t,r)=>{"use strict";r.d(t,{A:()=>Y});var n=r(1754),i=r(2641),a=r(2851),s=r(2031),o=r(7422);const l=function(e,t){return e&&(0,s.A)(t,(0,o.A)(t),e)};var c=r(5615);const h=function(e,t){return e&&(0,s.A)(t,(0,c.A)(t),e)};var u=r(154),d=r(9759),f=r(4792);const p=function(e,t){return(0,s.A)(e,(0,f.A)(e),t)};var g=r(3511);const m=function(e,t){return(0,s.A)(e,(0,g.A)(e),t)};var y=r(9042),x=r(3973),b=r(9779),v=Object.prototype.hasOwnProperty;const k=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&v.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var A=r(565);const w=function(e,t){var r=t?(0,A.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var T=/\w*$/;const C=function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t};var S=r(241),_=S.A?S.A.prototype:void 0,$=_?_.valueOf:void 0;const R=function(e){return $?Object($.call(e)):{}};var E=r(1801);const L=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,A.A)(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return w(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,E.A)(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return C(e);case"[object Symbol]":return R(e)}};var M=r(8598),I=r(2049),N=r(9912),O=r(3098);const B=function(e){return(0,O.A)(e)&&"[object Map]"==(0,b.A)(e)};var D=r(2789),F=r(4841),P=F.A&&F.A.isMap;const K=P?(0,D.A)(P):B;var j=r(3149);const z=function(e){return(0,O.A)(e)&&"[object Set]"==(0,b.A)(e)};var U=F.A&&F.A.isSet;const W=U?(0,D.A)(U):z;var G="[object Arguments]",q="[object Function]",H="[object Object]",V={};V[G]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object DataView]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Map]"]=V["[object Number]"]=V[H]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object Symbol]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Error]"]=V[q]=V["[object WeakMap]"]=!1;const Y=function e(t,r,s,f,g,v){var A,w=1&r,T=2&r,C=4&r;if(s&&(A=g?s(t,f,g,v):s(t)),void 0!==A)return A;if(!(0,j.A)(t))return t;var S=(0,I.A)(t);if(S){if(A=k(t),!w)return(0,d.A)(t,A)}else{var _=(0,b.A)(t),$=_==q||"[object GeneratorFunction]"==_;if((0,N.A)(t))return(0,u.A)(t,w);if(_==H||_==G||$&&!g){if(A=T||$?{}:(0,M.A)(t),!w)return T?m(t,h(A,t)):p(t,l(A,t))}else{if(!V[_])return g?t:{};A=L(t,_,w)}}v||(v=new n.A);var R=v.get(t);if(R)return R;v.set(t,A),W(t)?t.forEach(function(n){A.add(e(n,r,s,n,t,v))}):K(t)&&t.forEach(function(n,i){A.set(i,e(n,r,s,i,t,v))});var E=C?T?x.A:y.A:T?c.A:o.A,O=S?void 0:E(t);return(0,i.A)(O||t,function(n,i){O&&(n=t[i=n]),(0,a.A)(A,i,e(n,r,s,i,t,v))}),A}},8698:(e,t,r)=>{"use strict";r.d(t,{Nq:()=>a,RI:()=>l,hq:()=>i});var n=r(797),i={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},a={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function s(e,t){if(void 0===e||void 0===t)return{angle:0,deltaX:0,deltaY:0};e=o(e),t=o(t);const[r,n]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-r,l=a-n;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}(0,n.K2)(s,"calculateDeltaAndAngle");var o=(0,n.K2)(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),l=(0,n.K2)(e=>({x:(0,n.K2)(function(t,r,n){let a=0;const l=o(n[0]).x<o(n[n.length-1]).x?"left":"right";if(0===r&&Object.hasOwn(i,e.arrowTypeStart)){const{angle:t,deltaX:r}=s(n[0],n[1]);a=i[e.arrowTypeStart]*Math.cos(t)*(r>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(i,e.arrowTypeEnd)){const{angle:t,deltaX:r}=s(n[n.length-1],n[n.length-2]);a=i[e.arrowTypeEnd]*Math.cos(t)*(r>=0?1:-1)}const c=Math.abs(o(t).x-o(n[n.length-1]).x),h=Math.abs(o(t).y-o(n[n.length-1]).y),u=Math.abs(o(t).x-o(n[0]).x),d=Math.abs(o(t).y-o(n[0]).y),f=i[e.arrowTypeStart],p=i[e.arrowTypeEnd];if(c<p&&c>0&&h<p){let e=p+1-c;e*="right"===l?-1:1,a-=e}if(u<f&&u>0&&d<f){let e=f+1-u;e*="right"===l?-1:1,a+=e}return o(t).x+a},"x"),y:(0,n.K2)(function(t,r,n){let a=0;const l=o(n[0]).y<o(n[n.length-1]).y?"down":"up";if(0===r&&Object.hasOwn(i,e.arrowTypeStart)){const{angle:t,deltaY:r}=s(n[0],n[1]);a=i[e.arrowTypeStart]*Math.abs(Math.sin(t))*(r>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(i,e.arrowTypeEnd)){const{angle:t,deltaY:r}=s(n[n.length-1],n[n.length-2]);a=i[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(r>=0?1:-1)}const c=Math.abs(o(t).y-o(n[n.length-1]).y),h=Math.abs(o(t).x-o(n[n.length-1]).x),u=Math.abs(o(t).y-o(n[0]).y),d=Math.abs(o(t).x-o(n[0]).x),f=i[e.arrowTypeStart],p=i[e.arrowTypeEnd];if(c<p&&c>0&&h<p){let e=p+1-c;e*="up"===l?-1:1,a-=e}if(u<f&&u>0&&d<f){let e=f+1-u;e*="up"===l?-1:1,a+=e}return o(t).y+a},"y")}),"getLineFunctionsWithOffset")},8731:(e,t,r)=>{"use strict";r.d(t,{qg:()=>s});r(7539),r(1885),r(1477),r(9150),r(8980),r(7846),r(1633);var n=r(7960),i={},a={info:(0,n.K2)(async()=>{const{createInfoServices:e}=await r.e(3490).then(r.bind(r,3490)),t=e().Info.parser.LangiumParser;i.info=t},"info"),packet:(0,n.K2)(async()=>{const{createPacketServices:e}=await r.e(2325).then(r.bind(r,2325)),t=e().Packet.parser.LangiumParser;i.packet=t},"packet"),pie:(0,n.K2)(async()=>{const{createPieServices:e}=await r.e(617).then(r.bind(r,617)),t=e().Pie.parser.LangiumParser;i.pie=t},"pie"),architecture:(0,n.K2)(async()=>{const{createArchitectureServices:e}=await r.e(6366).then(r.bind(r,6366)),t=e().Architecture.parser.LangiumParser;i.architecture=t},"architecture"),gitGraph:(0,n.K2)(async()=>{const{createGitGraphServices:e}=await r.e(4250).then(r.bind(r,1869)),t=e().GitGraph.parser.LangiumParser;i.gitGraph=t},"gitGraph"),radar:(0,n.K2)(async()=>{const{createRadarServices:e}=await r.e(1e3).then(r.bind(r,1e3)),t=e().Radar.parser.LangiumParser;i.radar=t},"radar"),treemap:(0,n.K2)(async()=>{const{createTreemapServices:e}=await r.e(5901).then(r.bind(r,5901)),t=e().Treemap.parser.LangiumParser;i.treemap=t},"treemap")};async function s(e,t){const r=a[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);i[e]||await r();const n=i[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new o(n);return n.value}(0,n.K2)(s,"parse");var o=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map(e=>e.message).join("\n")} ${e.parserErrors.map(e=>e.message).join("\n")}`),this.result=e}static{(0,n.K2)(this,"MermaidParseError")}}},8744:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n=r(9610);const i=r(1917).A["__core-js_shared__"];var a,s=(a=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";const o=function(e){return!!s&&s in e};var l=r(3149),c=r(1121),h=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,f=u.toString,p=d.hasOwnProperty,g=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const m=function(e){return!(!(0,l.A)(e)||o(e))&&((0,n.A)(e)?g:h).test((0,c.A)(e))};const y=function(e,t){return null==e?void 0:e[t]};const x=function(e,t){var r=y(e,t);return m(r)?r:void 0}},8894:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(241),i=r(5572),a=r(2049),s=r(1882),o=n.A?n.A.prototype:void 0,l=o?o.toString:void 0;const c=function e(t){if("string"==typeof t)return t;if((0,a.A)(t))return(0,i.A)(t,e)+"";if((0,s.A)(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};const h=function(e){return null==e?"":c(e)}},8913:(e,t,r)=>{"use strict";r.d(t,{t:()=>Pn,u:()=>Kn});var n=r(6373),i=r(8037),a=r(2806),s=r(2151);var o=r(9637),l=r(4722),c=r(4092);function h(e,t,r){return`${e.name}_${t}_${r}`}class u{constructor(e){this.target=e}isEpsilon(){return!1}}class d extends u{constructor(e,t){super(e),this.tokenType=t}}class f extends u{constructor(e){super(e)}isEpsilon(){return!0}}class p extends u{constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}}function g(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){const r=t.length;for(let n=0;n<r;n++){const r=t[n],i=C(e,r,void 0,{type:2}),a=C(e,r,void 0,{type:7});i.stop=a,e.ruleToStartState.set(r,i),e.ruleToStopState.set(r,a)}}(t,e);const r=e.length;for(let n=0;n<r;n++){const r=e[n],i=y(t,r,r);void 0!==i&&w(t,r,i)}return t}function m(e,t,r){return r instanceof o.BK?A(e,t,r.terminalType,r):r instanceof o.wL?function(e,t,r){const n=r.referencedRule,i=e.ruleToStartState.get(n),a=C(e,t,r,{type:1}),s=C(e,t,r,{type:1}),o=new p(i,n,s);return S(a,o),{left:a,right:s}}(e,t,r):r instanceof o.ak?function(e,t,r){const n=C(e,t,r,{type:1});v(e,n);const i=(0,l.A)(r.definition,r=>m(e,t,r)),a=k(e,t,n,r,...i);return a}(e,t,r):r instanceof o.c$?function(e,t,r){const n=C(e,t,r,{type:1});v(e,n);const i=k(e,t,n,r,y(e,t,r));return function(e,t,r,n){const i=n.left,a=n.right;return T(i,a),e.decisionMap[h(t,"Option",r.idx)]=i,n}(e,t,r,i)}(e,t,r):r instanceof o.Y2?function(e,t,r){const n=C(e,t,r,{type:5});v(e,n);const i=k(e,t,n,r,y(e,t,r));return b(e,t,r,i)}(e,t,r):r instanceof o.Pp?function(e,t,r){const n=C(e,t,r,{type:5});v(e,n);const i=k(e,t,n,r,y(e,t,r)),a=A(e,t,r.separator,r);return b(e,t,r,i,a)}(e,t,r):r instanceof o.$P?function(e,t,r){const n=C(e,t,r,{type:4});v(e,n);const i=k(e,t,n,r,y(e,t,r));return x(e,t,r,i)}(e,t,r):r instanceof o.Cy?function(e,t,r){const n=C(e,t,r,{type:4});v(e,n);const i=k(e,t,n,r,y(e,t,r)),a=A(e,t,r.separator,r);return x(e,t,r,i,a)}(e,t,r):y(e,t,r)}function y(e,t,r){const n=(0,c.A)((0,l.A)(r.definition,r=>m(e,t,r)),e=>void 0!==e);return 1===n.length?n[0]:0===n.length?void 0:function(e,t){const r=t.length;for(let a=0;a<r-1;a++){const r=t[a];let n;1===r.left.transitions.length&&(n=r.left.transitions[0]);const i=n instanceof p,s=n,o=t[a+1].left;1===r.left.type&&1===r.right.type&&void 0!==n&&(i&&s.followState===r.right||n.target===r.right)?(i?s.followState=o:n.target=o,_(e,r.right)):T(r.right,o)}const n=t[0],i=t[r-1];return{left:n.left,right:i.right}}(e,n)}function x(e,t,r,n,i){const a=n.left,s=n.right,o=C(e,t,r,{type:11});v(e,o);const l=C(e,t,r,{type:12});return a.loopback=o,l.loopback=o,e.decisionMap[h(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,T(s,o),void 0===i?(T(o,a),T(o,l)):(T(o,l),T(o,i.left),T(i.right,a)),{left:a,right:l}}function b(e,t,r,n,i){const a=n.left,s=n.right,o=C(e,t,r,{type:10});v(e,o);const l=C(e,t,r,{type:12}),c=C(e,t,r,{type:9});return o.loopback=c,l.loopback=c,T(o,a),T(o,l),T(s,c),void 0!==i?(T(c,l),T(c,i.left),T(i.right,a)):T(c,o),e.decisionMap[h(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function v(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function k(e,t,r,n,...i){const a=C(e,t,n,{type:8,start:r});r.end=a;for(const o of i)void 0!==o?(T(r,o.left),T(o.right,a)):T(r,a);const s={left:r,right:a};return e.decisionMap[h(t,function(e){if(e instanceof o.ak)return"Alternation";if(e instanceof o.c$)return"Option";if(e instanceof o.Y2)return"Repetition";if(e instanceof o.Pp)return"RepetitionWithSeparator";if(e instanceof o.$P)return"RepetitionMandatory";if(e instanceof o.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(n),n.idx)]=r,s}function A(e,t,r,n){const i=C(e,t,n,{type:1}),a=C(e,t,n,{type:1});return S(i,new d(a,r)),{left:i,right:a}}function w(e,t,r){const n=e.ruleToStartState.get(t);T(n,r.left);const i=e.ruleToStopState.get(t);T(r.right,i);return{left:n,right:i}}function T(e,t){S(e,new f(t))}function C(e,t,r,n){const i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function S(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function _(e,t){e.states.splice(e.states.indexOf(t),1)}const $={};class R{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const t=E(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,l.A)(this.configs,e=>e.alt)}get key(){let e="";for(const t in this.map)e+=t+":";return e}}function E(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}var L=r(6452),M=r(8139),I=r(3958),N=r(9902);const O=function(e,t){return e&&e.length?(0,N.A)(e,(0,I.A)(t,2)):[]};var B=r(4098),D=r(8058),F=r(6401),P=r(9463);function K(e,t){const r={};return n=>{const i=n.toString();let a=r[i];return void 0!==a||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}class j{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="";const t=this.predicates.length;for(let r=0;r<t;r++)e+=!0===this.predicates[r]?"1":"0";return e}}const z=new j;class U extends o.T6{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=g(e.rules),this.dfas=function(e){const t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=K(e.decisionStates[n],n);return r}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,c=h(r,"Alternation",t),u=this.atn.decisionMap[c].decision,d=(0,l.A)((0,o.jk)({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),e=>(0,l.A)(e,e=>e[0]));if(W(d,!1)&&!i){const e=(0,P.A)(d,(e,t,r)=>((0,D.A)(t,t=>{t&&(e[t.tokenTypeIdx]=r,(0,D.A)(t.categoryMatches,t=>{e[t]=r}))}),e),{});return n?function(t){var r;const n=this.LA(1),i=e[n.tokenTypeIdx];if(void 0!==t&&void 0!==i){const e=null===(r=t[i])||void 0===r?void 0:r.GATE;if(void 0!==e&&!1===e.call(this))return}return i}:function(){const t=this.LA(1);return e[t.tokenTypeIdx]}}return n?function(e){const t=new j,r=void 0===e?0:e.length;for(let i=0;i<r;i++){const r=null==e?void 0:e[i].GATE;t.set(i,void 0===r||r.call(this))}const n=G.call(this,a,u,t,s);return"number"==typeof n?n:void 0}:function(){const e=G.call(this,a,u,z,s);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,c=h(r,n,t),u=this.atn.decisionMap[c].decision,d=(0,l.A)((0,o.jk)({maxLookahead:1,occurrence:t,prodType:n,rule:r}),e=>(0,l.A)(e,e=>e[0]));if(W(d)&&d[0][0]&&!i){const e=d[0],t=(0,B.A)(e);if(1===t.length&&(0,F.A)(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=(0,P.A)(t,(e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,(0,D.A)(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){const e=G.call(this,a,u,z,s);return"object"!=typeof e&&0===e}}}function W(e,t=!0){const r=new Set;for(const n of e){const e=new Set;for(const i of n){if(void 0===i){if(t)break;return!1}const n=[i.tokenTypeIdx].concat(i.categoryMatches);for(const t of n)if(r.has(t)){if(!e.has(t))return!1}else r.add(t),e.add(t)}}return!0}function G(e,t,r,n){const i=e[t](r);let a=i.start;if(void 0===a){a=ee(i,Q(te(i.atnStartState))),i.start=a}return q.apply(this,[i,a,r,n])}function q(e,t,r,n){let i=t,a=1;const s=[];let o=this.LA(a++);for(;;){let t=X(i,o);if(void 0===t&&(t=H.apply(this,[e,i,o,a,r,n])),t===$)return Y(s,i,o);if(!0===t.isAcceptState)return t.prediction;i=t,s.push(o),o=this.LA(a++)}}function H(e,t,r,n,i,a){const s=function(e,t,r){const n=new R,i=[];for(const s of e.elements){if(!1===r.is(s.alt))continue;if(7===s.state.type){i.push(s);continue}const e=s.state.transitions.length;for(let r=0;r<e;r++){const e=Z(s.state.transitions[r],t);void 0!==e&&n.add({state:e,alt:s.alt,stack:s.stack})}}let a;0===i.length&&1===n.size&&(a=n);if(void 0===a){a=new R;for(const e of n.elements)re(e,a)}if(i.length>0&&!function(e){for(const t of e.elements)if(7===t.state.type)return!0;return!1}(a))for(const s of i)a.add(s);return a}(t.configs,r,i);if(0===s.size)return J(e,t,r,$),$;let o=Q(s);const l=function(e,t){let r;for(const n of e.elements)if(!0===t.is(n.alt))if(void 0===r)r=n.alt;else if(r!==n.alt)return;return r}(s,i);if(void 0!==l)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(function(e){if(function(e){for(const t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;const t=function(e){const t=new Map;for(const r of e){const e=E(r,!1);let n=t.get(e);void 0===n&&(n={},t.set(e,n)),n[r.alt]=!0}return t}(e.elements);return function(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(const t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(s)){const t=(0,L.A)(s.alts);o.isAcceptState=!0,o.prediction=t,o.configs.uniqueAlt=t,V.apply(this,[e,n,s.alts,a])}return o=J(e,t,r,o),o}function V(e,t,r,n){const i=[];for(let s=1;s<=t;s++)i.push(this.LA(s).tokenType);const a=e.atnStartState;n(function(e){const t=(0,l.A)(e.prefixPath,e=>(0,o.Sk)(e)).join(", "),r=0===e.production.idx?"":e.production.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(e){if(e instanceof o.wL)return"SUBRULE";if(e instanceof o.c$)return"OPTION";if(e instanceof o.ak)return"OR";if(e instanceof o.$P)return"AT_LEAST_ONE";if(e instanceof o.Cy)return"AT_LEAST_ONE_SEP";if(e instanceof o.Pp)return"MANY_SEP";if(e instanceof o.Y2)return"MANY";if(e instanceof o.BK)return"CONSUME";throw Error("non exhaustive match")}(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return n+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",n}({topLevelRule:a.rule,ambiguityIndices:r,production:a.production,prefixPath:i}))}function Y(e,t,r){const n=(0,M.A)(t.configs.elements,e=>e.state.transitions);return{actualToken:r,possibleTokenTypes:O(n.filter(e=>e instanceof d).map(e=>e.tokenType),e=>e.tokenTypeIdx),tokenPath:e}}function X(e,t){return e.edges[t.tokenTypeIdx]}function Z(e,t){if(e instanceof d&&(0,o.G)(t,e.tokenType))return e.target}function Q(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function J(e,t,r,n){return n=ee(e,n),t.edges[r.tokenTypeIdx]=n,n}function ee(e,t){if(t===$)return t;const r=t.configs.key,n=e.states[r];return void 0!==n?n:(t.configs.finalize(),e.states[r]=t,t)}function te(e){const t=new R,r=e.transitions.length;for(let n=0;n<r;n++){re({state:e.transitions[n].target,alt:n,stack:[]},t)}return t}function re(e,t){const r=e.state;if(7===r.type){if(e.stack.length>0){const r=[...e.stack];re({state:r.pop(),alt:e.alt,stack:r},t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);const n=r.transitions.length;for(let i=0;i<n;i++){const n=ne(e,r.transitions[i]);void 0!==n&&re(n,t)}}function ne(e,t){if(t instanceof f)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof p){const r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}var ie,ae,se,oe,le,ce,he,ue,de,fe,pe,ge,me,ye,xe,be,ve,ke,Ae,we,Te,Ce,Se,_e,$e,Re,Ee,Le,Me,Ie,Ne,Oe,Be,De,Fe,Pe,Ke,je,ze,Ue,We,Ge,qe,He,Ve,Ye,Xe,Ze,Qe,Je,et,tt,rt,nt,it,at,st,ot,lt,ct,ht,ut,dt,ft,pt,gt,mt,yt,xt,bt,vt,kt,At,wt,Tt,Ct,St,_t,$t=r(9683);!function(e){e.is=function(e){return"string"==typeof e}}(ie||(ie={})),function(e){e.is=function(e){return"string"==typeof e}}(ae||(ae={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(se||(se={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(oe||(oe={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=oe.MAX_VALUE),t===Number.MAX_VALUE&&(t=oe.MAX_VALUE),{line:e,character:t}},e.is=function(e){let t=e;return Et.objectLiteral(t)&&Et.uinteger(t.line)&&Et.uinteger(t.character)}}(le||(le={})),function(e){e.create=function(e,t,r,n){if(Et.uinteger(e)&&Et.uinteger(t)&&Et.uinteger(r)&&Et.uinteger(n))return{start:le.create(e,t),end:le.create(r,n)};if(le.is(e)&&le.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${r}, ${n}]`)},e.is=function(e){let t=e;return Et.objectLiteral(t)&&le.is(t.start)&&le.is(t.end)}}(ce||(ce={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){let t=e;return Et.objectLiteral(t)&&ce.is(t.range)&&(Et.string(t.uri)||Et.undefined(t.uri))}}(he||(he={})),function(e){e.create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},e.is=function(e){let t=e;return Et.objectLiteral(t)&&ce.is(t.targetRange)&&Et.string(t.targetUri)&&ce.is(t.targetSelectionRange)&&(ce.is(t.originSelectionRange)||Et.undefined(t.originSelectionRange))}}(ue||(ue={})),function(e){e.create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.numberRange(t.red,0,1)&&Et.numberRange(t.green,0,1)&&Et.numberRange(t.blue,0,1)&&Et.numberRange(t.alpha,0,1)}}(de||(de={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){const t=e;return Et.objectLiteral(t)&&ce.is(t.range)&&de.is(t.color)}}(fe||(fe={})),function(e){e.create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.string(t.label)&&(Et.undefined(t.textEdit)||we.is(t))&&(Et.undefined(t.additionalTextEdits)||Et.typedArray(t.additionalTextEdits,we.is))}}(pe||(pe={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(ge||(ge={})),function(e){e.create=function(e,t,r,n,i,a){const s={startLine:e,endLine:t};return Et.defined(r)&&(s.startCharacter=r),Et.defined(n)&&(s.endCharacter=n),Et.defined(i)&&(s.kind=i),Et.defined(a)&&(s.collapsedText=a),s},e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.uinteger(t.startLine)&&Et.uinteger(t.startLine)&&(Et.undefined(t.startCharacter)||Et.uinteger(t.startCharacter))&&(Et.undefined(t.endCharacter)||Et.uinteger(t.endCharacter))&&(Et.undefined(t.kind)||Et.string(t.kind))}}(me||(me={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){let t=e;return Et.defined(t)&&he.is(t.location)&&Et.string(t.message)}}(ye||(ye={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(xe||(xe={})),function(e){e.Unnecessary=1,e.Deprecated=2}(be||(be={})),function(e){e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.string(t.href)}}(ve||(ve={})),function(e){e.create=function(e,t,r,n,i,a){let s={range:e,message:t};return Et.defined(r)&&(s.severity=r),Et.defined(n)&&(s.code=n),Et.defined(i)&&(s.source=i),Et.defined(a)&&(s.relatedInformation=a),s},e.is=function(e){var t;let r=e;return Et.defined(r)&&ce.is(r.range)&&Et.string(r.message)&&(Et.number(r.severity)||Et.undefined(r.severity))&&(Et.integer(r.code)||Et.string(r.code)||Et.undefined(r.code))&&(Et.undefined(r.codeDescription)||Et.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(Et.string(r.source)||Et.undefined(r.source))&&(Et.undefined(r.relatedInformation)||Et.typedArray(r.relatedInformation,ye.is))}}(ke||(ke={})),function(e){e.create=function(e,t,...r){let n={title:e,command:t};return Et.defined(r)&&r.length>0&&(n.arguments=r),n},e.is=function(e){let t=e;return Et.defined(t)&&Et.string(t.title)&&Et.string(t.command)}}(Ae||(Ae={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.string(t.newText)&&ce.is(t.range)}}(we||(we={})),function(e){e.create=function(e,t,r){const n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==r&&(n.description=r),n},e.is=function(e){const t=e;return Et.objectLiteral(t)&&Et.string(t.label)&&(Et.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Et.string(t.description)||void 0===t.description)}}(Te||(Te={})),function(e){e.is=function(e){const t=e;return Et.string(t)}}(Ce||(Ce={})),function(e){e.replace=function(e,t,r){return{range:e,newText:t,annotationId:r}},e.insert=function(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){const t=e;return we.is(t)&&(Te.is(t.annotationId)||Ce.is(t.annotationId))}}(Se||(Se={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){let t=e;return Et.defined(t)&&Ne.is(t.textDocument)&&Array.isArray(t.edits)}}(_e||(_e={})),function(e){e.create=function(e,t,r){let n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){let t=e;return t&&"create"===t.kind&&Et.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Et.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Et.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Ce.is(t.annotationId))}}($e||($e={})),function(e){e.create=function(e,t,r,n){let i={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(i.options=r),void 0!==n&&(i.annotationId=n),i},e.is=function(e){let t=e;return t&&"rename"===t.kind&&Et.string(t.oldUri)&&Et.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Et.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Et.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Ce.is(t.annotationId))}}(Re||(Re={})),function(e){e.create=function(e,t,r){let n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){let t=e;return t&&"delete"===t.kind&&Et.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Et.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Et.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||Ce.is(t.annotationId))}}(Ee||(Ee={})),function(e){e.is=function(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(e=>Et.string(e.kind)?$e.is(e)||Re.is(e)||Ee.is(e):_e.is(e)))}}(Le||(Le={}));!function(e){e.create=function(e){return{uri:e}},e.is=function(e){let t=e;return Et.defined(t)&&Et.string(t.uri)}}(Me||(Me={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return Et.defined(t)&&Et.string(t.uri)&&Et.integer(t.version)}}(Ie||(Ie={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return Et.defined(t)&&Et.string(t.uri)&&(null===t.version||Et.integer(t.version))}}(Ne||(Ne={})),function(e){e.create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},e.is=function(e){let t=e;return Et.defined(t)&&Et.string(t.uri)&&Et.string(t.languageId)&&Et.integer(t.version)&&Et.string(t.text)}}(Oe||(Oe={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){const r=t;return r===e.PlainText||r===e.Markdown}}(Be||(Be={})),function(e){e.is=function(e){const t=e;return Et.objectLiteral(e)&&Be.is(t.kind)&&Et.string(t.value)}}(De||(De={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(Fe||(Fe={})),function(e){e.PlainText=1,e.Snippet=2}(Pe||(Pe={})),function(e){e.Deprecated=1}(Ke||(Ke={})),function(e){e.create=function(e,t,r){return{newText:e,insert:t,replace:r}},e.is=function(e){const t=e;return t&&Et.string(t.newText)&&ce.is(t.insert)&&ce.is(t.replace)}}(je||(je={})),function(e){e.asIs=1,e.adjustIndentation=2}(ze||(ze={})),function(e){e.is=function(e){const t=e;return t&&(Et.string(t.detail)||void 0===t.detail)&&(Et.string(t.description)||void 0===t.description)}}(Ue||(Ue={})),function(e){e.create=function(e){return{label:e}}}(We||(We={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(Ge||(Ge={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){const t=e;return Et.string(t)||Et.objectLiteral(t)&&Et.string(t.language)&&Et.string(t.value)}}(qe||(qe={})),function(e){e.is=function(e){let t=e;return!!t&&Et.objectLiteral(t)&&(De.is(t.contents)||qe.is(t.contents)||Et.typedArray(t.contents,qe.is))&&(void 0===e.range||ce.is(e.range))}}(He||(He={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Ve||(Ve={})),function(e){e.create=function(e,t,...r){let n={label:e};return Et.defined(t)&&(n.documentation=t),Et.defined(r)?n.parameters=r:n.parameters=[],n}}(Ye||(Ye={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Xe||(Xe={})),function(e){e.create=function(e,t){let r={range:e};return Et.number(t)&&(r.kind=t),r}}(Ze||(Ze={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Qe||(Qe={})),function(e){e.Deprecated=1}(Je||(Je={})),function(e){e.create=function(e,t,r,n,i){let a={name:e,kind:t,location:{uri:n,range:r}};return i&&(a.containerName=i),a}}(et||(et={})),function(e){e.create=function(e,t,r,n){return void 0!==n?{name:e,kind:t,location:{uri:r,range:n}}:{name:e,kind:t,location:{uri:r}}}}(tt||(tt={})),function(e){e.create=function(e,t,r,n,i,a){let s={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==a&&(s.children=a),s},e.is=function(e){let t=e;return t&&Et.string(t.name)&&Et.number(t.kind)&&ce.is(t.range)&&ce.is(t.selectionRange)&&(void 0===t.detail||Et.string(t.detail))&&(void 0===t.deprecated||Et.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(rt||(rt={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(nt||(nt={})),function(e){e.Invoked=1,e.Automatic=2}(it||(it={})),function(e){e.create=function(e,t,r){let n={diagnostics:e};return null!=t&&(n.only=t),null!=r&&(n.triggerKind=r),n},e.is=function(e){let t=e;return Et.defined(t)&&Et.typedArray(t.diagnostics,ke.is)&&(void 0===t.only||Et.typedArray(t.only,Et.string))&&(void 0===t.triggerKind||t.triggerKind===it.Invoked||t.triggerKind===it.Automatic)}}(at||(at={})),function(e){e.create=function(e,t,r){let n={title:e},i=!0;return"string"==typeof t?(i=!1,n.kind=t):Ae.is(t)?n.command=t:n.edit=t,i&&void 0!==r&&(n.kind=r),n},e.is=function(e){let t=e;return t&&Et.string(t.title)&&(void 0===t.diagnostics||Et.typedArray(t.diagnostics,ke.is))&&(void 0===t.kind||Et.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||Ae.is(t.command))&&(void 0===t.isPreferred||Et.boolean(t.isPreferred))&&(void 0===t.edit||Le.is(t.edit))}}(st||(st={})),function(e){e.create=function(e,t){let r={range:e};return Et.defined(t)&&(r.data=t),r},e.is=function(e){let t=e;return Et.defined(t)&&ce.is(t.range)&&(Et.undefined(t.command)||Ae.is(t.command))}}(ot||(ot={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){let t=e;return Et.defined(t)&&Et.uinteger(t.tabSize)&&Et.boolean(t.insertSpaces)}}(lt||(lt={})),function(e){e.create=function(e,t,r){return{range:e,target:t,data:r}},e.is=function(e){let t=e;return Et.defined(t)&&ce.is(t.range)&&(Et.undefined(t.target)||Et.string(t.target))}}(ct||(ct={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){let r=t;return Et.objectLiteral(r)&&ce.is(r.range)&&(void 0===r.parent||e.is(r.parent))}}(ht||(ht={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(ut||(ut={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(dt||(dt={})),function(e){e.is=function(e){const t=e;return Et.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(ft||(ft={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&Et.string(t.text)}}(pt||(pt={})),function(e){e.create=function(e,t,r){return{range:e,variableName:t,caseSensitiveLookup:r}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&Et.boolean(t.caseSensitiveLookup)&&(Et.string(t.variableName)||void 0===t.variableName)}}(gt||(gt={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){const t=e;return null!=t&&ce.is(t.range)&&(Et.string(t.expression)||void 0===t.expression)}}(mt||(mt={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){const t=e;return Et.defined(t)&&ce.is(e.stoppedLocation)}}(yt||(yt={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(xt||(xt={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){const t=e;return Et.objectLiteral(t)&&(void 0===t.tooltip||Et.string(t.tooltip)||De.is(t.tooltip))&&(void 0===t.location||he.is(t.location))&&(void 0===t.command||Ae.is(t.command))}}(bt||(bt={})),function(e){e.create=function(e,t,r){const n={position:e,label:t};return void 0!==r&&(n.kind=r),n},e.is=function(e){const t=e;return Et.objectLiteral(t)&&le.is(t.position)&&(Et.string(t.label)||Et.typedArray(t.label,bt.is))&&(void 0===t.kind||xt.is(t.kind))&&void 0===t.textEdits||Et.typedArray(t.textEdits,we.is)&&(void 0===t.tooltip||Et.string(t.tooltip)||De.is(t.tooltip))&&(void 0===t.paddingLeft||Et.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Et.boolean(t.paddingRight))}}(vt||(vt={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(kt||(kt={})),function(e){e.create=function(e,t,r,n){return{insertText:e,filterText:t,range:r,command:n}}}(At||(At={})),function(e){e.create=function(e){return{items:e}}}(wt||(wt={})),function(e){e.Invoked=0,e.Automatic=1}(Tt||(Tt={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(Ct||(Ct={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(St||(St={})),function(e){e.is=function(e){const t=e;return Et.objectLiteral(t)&&ae.is(t.uri)&&Et.string(t.name)}}(_t||(_t={}));var Rt,Et;!function(e){function t(e,r){if(e.length<=1)return e;const n=e.length/2|0,i=e.slice(0,n),a=e.slice(n);t(i,r),t(a,r);let s=0,o=0,l=0;for(;s<i.length&&o<a.length;){let t=r(i[s],a[o]);e[l++]=t<=0?i[s++]:a[o++]}for(;s<i.length;)e[l++]=i[s++];for(;o<a.length;)e[l++]=a[o++];return e}e.create=function(e,t,r,n){return new Lt(e,t,r,n)},e.is=function(e){let t=e;return!!(Et.defined(t)&&Et.string(t.uri)&&(Et.undefined(t.languageId)||Et.string(t.languageId))&&Et.uinteger(t.lineCount)&&Et.func(t.getText)&&Et.func(t.positionAt)&&Et.func(t.offsetAt))},e.applyEdits=function(e,r){let n=e.getText(),i=t(r,(e,t)=>{let r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r}),a=n.length;for(let t=i.length-1;t>=0;t--){let r=i[t],s=e.offsetAt(r.range.start),o=e.offsetAt(r.range.end);if(!(o<=a))throw new Error("Overlapping edit");n=n.substring(0,s)+r.newText+n.substring(o,n.length),a=s}return n}}(Rt||(Rt={}));class Lt{constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,r=!0;for(let n=0;n<t.length;n++){r&&(e.push(n),r=!1);let i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return le.create(0,e);for(;r<n;){let i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}let i=r-1;return le.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)}get lineCount(){return this.getLineOffsets().length}}!function(e){const t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,r,n){return"[object Number]"===t.call(e)&&r<=e&&e<=n},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Et||(Et={}));class Mt{constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new Dt(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const t=new Ot;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){const r=new Nt(e.startOffset,e.image.length,(0,n.wf)(e),e.tokenType,!t);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const t=e.container;if(t){const r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}addHiddenNodes(e){const t=[];for(const a of e){const e=new Nt(a.startOffset,a.image.length,(0,n.wf)(a),a.tokenType,!0);e.root=this.rootNode,t.push(e)}let r=this.current,i=!1;if(r.content.length>0)r.content.push(...t);else{for(;r.container;){const e=r.container.content.indexOf(r);if(e>0){r.container.content.splice(e,0,...t),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...t)}}construct(e){const t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;const r=this.nodeStack.pop();0===(null==r?void 0:r.content.length)&&this.removeNode(r)}}class It{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;const r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Nt extends It{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}}class Ot extends It{constructor(){super(...arguments),this.content=new Bt(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){const e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){const{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}return{start:le.create(0,0),end:le.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}}class Bt extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Bt.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...r){return this.addParents(r),super.splice(e,t,...r)}addParents(e){for(const t of e)t.container=this.parent}}class Dt extends Ot{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=null!=e?e:""}}const Ft=Symbol("Datatype");function Pt(e){return e.$type===Ft}const Kt=e=>e.endsWith("\u200b")?e:e+"\u200b";class jt{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const t=this.lexer.definition,r="production"===e.LanguageMetaData.mode;this.wrapper=new Ht(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class zt extends jt{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Mt,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){const r=this.computeRuleType(e),n=this.wrapper.DEFINE_RULE(Kt(e.name),this.startImplementation(r,t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}computeRuleType(e){if(!e.fragment){if((0,i.Xq)(e))return Ft;{const t=(0,i.PV)(e);return null!=t?t:e.name}}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const n=t.rule?this.allRules.get(t.rule):this.mainRule;if(!n)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");const i=n.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:i,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{const n=!this.isRecording()&&void 0!==e;if(n){const t={$type:e};this.stack.push(t),e===Ft&&(t.value="")}let i;try{i=t(r)}catch(a){i=void 0}return void 0===i&&n&&(i=this.construct()),i}}extractHiddenTokens(e){const t=this.lexerResult.hidden;if(!t.length)return[];const r=e.startOffset;for(let n=0;n<t.length;n++){if(t[n].startOffset>r)return t.splice(0,n)}return t.splice(0,t.length)}consume(e,t,r){const n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){const e=this.extractHiddenTokens(n);this.nodeBuilder.addHiddenNodes(e);const t=this.nodeBuilder.buildLeafNode(n,r),{assignment:i,isCrossRef:a}=this.getAssignment(r),o=this.current;if(i){const e=(0,s.wb)(r)?n.image:this.converter.convert(n.image,t);this.assign(i.operator,i.feature,e,t,a)}else if(Pt(o)){let e=n.image;(0,s.wb)(r)||(e=this.converter.convert(e,t).toString()),o.value+=e}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,r,n,i){let a;this.isRecording()||r||(a=this.nodeBuilder.buildCompositeNode(n));const s=this.wrapper.wrapSubrule(e,t,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,n,a)}performSubruleAssignment(e,t,r){const{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){const t=this.current;if(Pt(t))t.value+=e.toString();else if("object"==typeof e&&e){const r=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(r)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(t.feature&&t.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode);this.nodeBuilder.buildCompositeNode(t).content.push(r.$cstNode);const n={$type:e};this.stack.push(n),this.assign(t.operator,t.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(0,$t.SD)(e),this.nodeBuilder.construct(e),this.stack.pop(),Pt(e)?this.converter.convert(e.value,e.$cstNode):((0,$t.OP)(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const t=(0,$t.XG)(e,s.wh);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&(0,s._c)(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){const a=this.current;let s;switch(s=i&&"string"==typeof r?this.linker.buildReference(a,t,n,r):r,e){case"=":a[t]=s;break;case"?=":a[t]=!0;break;case"+=":Array.isArray(a[t])||(a[t]=[]),a[t].push(s)}}assignWithoutOverride(e,t){for(const[n,i]of Object.entries(t)){const t=e[n];void 0===t?e[n]=i:Array.isArray(t)&&Array.isArray(i)&&(i.push(...t),e[n]=i)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Ut{buildMismatchTokenMessage(e){return o.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return o.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return o.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return o.my.buildEarlyExitMessage(e)}}class Wt extends Ut{buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class Gt extends jt{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){const r=this.wrapper.DEFINE_RULE(Kt(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{const r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,t,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}}const qt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Wt};class Ht extends o.jr{constructor(e,t){const r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},qt),{lookaheadStrategy:r?new o.T6({maxLookahead:t.maxLookahead}):new U({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}var Vt=r(1564),Yt=r(1719);function Xt(e,t,r){return function(e,t){const r=(0,i.YV)(t,!1),n=(0,Yt.Td)(t.rules).filter(s.s7).filter(e=>r.has(e));for(const i of n){const t=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(i,Zt(t,i.definition))}}({parser:t,tokens:r,ruleNames:new Map},e),t}function Zt(e,t,r=!1){let n;if((0,s.wb)(t))n=function(e,t){const r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}(e,t);else if((0,s.ve)(t))n=function(e,t){const r=(0,i.Uz)(t);return()=>e.parser.action(r,t)}(e,t);else if((0,s.wh)(t))n=Zt(e,t.terminal);else if((0,s._c)(t))n=er(e,t);else if((0,s.$g)(t))n=function(e,t){const r=t.rule.ref;if((0,s.s7)(r)){const n=e.subrule++,i=r.fragment,a=t.arguments.length>0?function(e,t){const r=t.map(e=>Qt(e.value));return t=>{const n={};for(let i=0;i<r.length;i++){const a=e.parameters[i],s=r[i];n[a.name]=s(t)}return n}}(r,t.arguments):()=>({});return s=>e.parser.subrule(n,rr(e,r),i,t,a(s))}if((0,s.rE)(r)){const n=e.consume++,i=nr(e,r.name);return()=>e.parser.consume(n,i,t)}if(!r)throw new Vt.W(t.$cstNode,`Undefined rule: ${t.rule.$refText}`);(0,Vt.d)(r)}(e,t);else if((0,s.jp)(t))n=function(e,t){if(1===t.elements.length)return Zt(e,t.elements[0]);{const r=[];for(const i of t.elements){const t={ALT:Zt(e,i,!0)},n=Jt(i);n&&(t.GATE=Qt(n)),r.push(t)}const n=e.or++;return t=>e.parser.alternatives(n,r.map(e=>{const r={ALT:()=>e.ALT(t)},n=e.GATE;return n&&(r.GATE=()=>n(t)),r}))}}(e,t);else if((0,s.cY)(t))n=function(e,t){if(1===t.elements.length)return Zt(e,t.elements[0]);const r=[];for(const o of t.elements){const t={ALT:Zt(e,o,!0)},n=Jt(o);n&&(t.GATE=Qt(n)),r.push(t)}const n=e.or++,i=(e,t)=>`uGroup_${e}_${t.getRuleStack().join("-")}`,a=t=>e.parser.alternatives(n,r.map((r,a)=>{const s={ALT:()=>!0},o=e.parser;s.ALT=()=>{if(r.ALT(t),!o.isRecording()){const e=i(n,o);o.unorderedGroups.get(e)||o.unorderedGroups.set(e,[]);const t=o.unorderedGroups.get(e);void 0===(null==t?void 0:t[a])&&(t[a]=!0)}};const l=r.GATE;return s.GATE=l?()=>l(t):()=>{const e=o.unorderedGroups.get(i(n,o));return!(null==e?void 0:e[a])},s})),s=tr(e,Jt(t),a,"*");return t=>{s(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}(e,t);else if((0,s.IZ)(t))n=function(e,t){const r=t.elements.map(t=>Zt(e,t));return e=>r.forEach(t=>t(e))}(e,t);else{if(!(0,s.FO)(t))throw new Vt.W(t.$cstNode,`Unexpected element type: ${t.$type}`);{const r=e.consume++;n=()=>e.parser.consume(r,o.LT,t)}}return tr(e,r?void 0:Jt(t),n,t.cardinality)}function Qt(e){if((0,s.RP)(e)){const t=Qt(e.left),r=Qt(e.right);return e=>t(e)||r(e)}if((0,s.Tu)(e)){const t=Qt(e.left),r=Qt(e.right);return e=>t(e)&&r(e)}if((0,s.Ct)(e)){const t=Qt(e.value);return e=>!t(e)}if((0,s.TF)(e)){const t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if((0,s.Cz)(e)){const t=Boolean(e.true);return()=>t}(0,Vt.d)(e)}function Jt(e){if((0,s.IZ)(e))return e.guardCondition}function er(e,t,r=t.terminal){if(r){if((0,s.$g)(r)&&(0,s.s7)(r.rule.ref)){const n=r.rule.ref,i=e.subrule++;return r=>e.parser.subrule(i,rr(e,n),!1,t,r)}if((0,s.$g)(r)&&(0,s.rE)(r.rule.ref)){const n=e.consume++,i=nr(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}if((0,s.wb)(r)){const n=e.consume++,i=nr(e,r.value);return()=>e.parser.consume(n,i,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const r=(0,i.U5)(t.type.ref),n=null==r?void 0:r.terminal;if(!n)throw new Error("Could not find name assignment for type: "+(0,i.Uz)(t.type.ref));return er(e,t,n)}}function tr(e,t,r,n){const i=t&&Qt(t);if(!n){if(i){const t=e.or++;return n=>e.parser.alternatives(t,[{ALT:()=>r(n),GATE:()=>i(n)},{ALT:(0,o.mT)(),GATE:()=>!i(n)}])}return r}if("*"===n){const t=e.many++;return n=>e.parser.many(t,{DEF:()=>r(n),GATE:i?()=>i(n):void 0})}if("+"===n){const t=e.many++;if(i){const n=e.or++;return a=>e.parser.alternatives(n,[{ALT:()=>e.parser.atLeastOne(t,{DEF:()=>r(a)}),GATE:()=>i(a)},{ALT:(0,o.mT)(),GATE:()=>!i(a)}])}return n=>e.parser.atLeastOne(t,{DEF:()=>r(n)})}if("?"===n){const t=e.optional++;return n=>e.parser.optional(t,{DEF:()=>r(n),GATE:i?()=>i(n):void 0})}(0,Vt.d)(n)}function rr(e,t){const r=function(e,t){if((0,s.s7)(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!(0,s.s7)(n);){if((0,s.IZ)(n)||(0,s.jp)(n)||(0,s.cY)(n)){i=n.elements.indexOf(r).toString()+":"+i}r=n,n=n.$container}return i=n.name+":"+i,e.ruleNames.set(t,i),i}}(e,t),n=e.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function nr(e,t){const r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function ir(e){const t=function(e){const t=e.Grammar,r=e.parser.Lexer,n=new zt(e);return Xt(t,n,r.definition)}(e);return t.finalize(),t}var ar=r(1945),sr=r(5033),or=r(9850),lr=r(2479);let cr=0,hr=10;const ur=Symbol("OperationCancelled");function dr(e){return e===ur}async function fr(e){if(e===or.XO.None)return;const t=performance.now();if(t-cr>=hr&&(cr=t,await new Promise(e=>{"undefined"==typeof setImmediate?setTimeout(e,0):setImmediate(e)}),cr=performance.now()),e.isCancellationRequested)throw ur}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)})}}class gr{constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){for(const r of e)if(gr.isIncremental(r)){const e=vr(r.range),t=this.offsetAt(e.start),n=this.offsetAt(e.end);this._content=this._content.substring(0,t)+r.text+this._content.substring(n,this._content.length);const i=Math.max(e.start.line,0),a=Math.max(e.end.line,0);let s=this._lineOffsets;const o=xr(r.text,!1,t);if(a-i===o.length)for(let r=0,c=o.length;r<c;r++)s[r+i+1]=o[r];else o.length<1e4?s.splice(i+1,a-i,...o):this._lineOffsets=s=s.slice(0,i+1).concat(o,s.slice(a+1));const l=r.text.length-(n-t);if(0!==l)for(let r=i+1+o.length,c=s.length;r<c;r++)s[r]=s[r]+l}else{if(!gr.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=xr(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const t=this.getLineOffsets();let r=0,n=t.length;if(0===n)return{line:0,character:e};for(;r<n;){const i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}const i=r-1;return{line:i,character:(e=this.ensureBeforeEOL(e,t[i]))-t[i]}}offsetAt(e){const t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;const r=t[e.line];if(e.character<=0)return r;const n=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(r+e.character,n);return this.ensureBeforeEOL(i,r)}ensureBeforeEOL(e,t){for(;e>t&&br(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var mr;function yr(e,t){if(e.length<=1)return e;const r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);yr(n,t),yr(i,t);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;){const r=t(n[a],i[s]);e[o++]=r<=0?n[a++]:i[s++]}for(;a<n.length;)e[o++]=n[a++];for(;s<i.length;)e[o++]=i[s++];return e}function xr(e,t,r=0){const n=t?[r]:[];for(let i=0;i<e.length;i++){const t=e.charCodeAt(i);br(t)&&(13===t&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,n.push(r+i+1))}return n}function br(e){return 13===e||10===e}function vr(e){const t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function kr(e){const t=vr(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,r,n){return new gr(e,t,r,n)},e.update=function(e,t,r){if(e instanceof gr)return e.update(t,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){const r=e.getText(),n=yr(t.map(kr),(e,t)=>{const r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r});let i=0;const a=[];for(const s of n){const t=e.offsetAt(s.range.start);if(t<i)throw new Error("Overlapping edit");t>i&&a.push(r.substring(i,t)),s.newText.length&&a.push(s.newText),i=e.offsetAt(s.range.end)}return a.push(r.substr(i)),a.join("")}}(mr||(mr={}));var Ar,wr=r(7608);!function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Ar||(Ar={}));class Tr{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=or.XO.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=null!=t?t:wr.r.parse(e.uri),or.XO.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromString(e,t,r){return or.XO.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,r){if("string"==typeof t){const n=this.parse(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}if("$model"in t){const r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}{const n=this.parse(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}async createAsync(e,t,r){if("string"==typeof t){const n=await this.parseAsync(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}{const n=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}createLangiumDocument(e,t,r,n){let i;if(r)i={parseResult:e,uri:t,state:Ar.Parsed,references:[],textDocument:r};else{const r=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:Ar.Parsed,references:[],get textDocument(){return r()}}}return e.value.$document=i,i}async update(e,t){var r,n;const i=null===(r=e.parseResult.value.$cstNode)||void 0===r?void 0:r.root.fullText,a=null===(n=this.textDocuments)||void 0===n?void 0:n.get(e.uri.toString()),s=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const t=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:t})}return i!==s&&(e.parseResult=await this.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=Ar.Parsed,e}parse(e,t,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,r)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){const r=this.serviceRegistry;let n;return()=>null!=n?n:n=mr.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,null!=t?t:"")}}class Cr{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return(0,Yt.Td)(this.documentMap.values())}addDocument(e){const t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){const t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then(e=>(this.addDocument(e),e));{const r=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(r),r}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const t=e.toString(),r=this.documentMap.get(t);if(r){this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=Ar.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0}return r}deleteDocument(e){const t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Ar.Changed,this.documentMap.delete(t)),r}}const Sr=Symbol("ref_resolving");class _r{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=or.XO.None){for(const r of(0,$t.jm)(e.parseResult.value))await fr(t),(0,$t.DM)(r).forEach(t=>this.doLink(t,e))}doLink(e,t){var r;const n=e.reference;if(void 0===n._ref){n._ref=Sr;try{const t=this.getCandidate(e);if((0,lr.Zl)(t))n._ref=t;else if(n._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){const r=this.loadAstNode(t);n._ref=null!=r?r:this.createLinkingError(e,t)}else n._ref=void 0}catch(i){console.error(`An error occurred while resolving reference to '${n.$refText}':`,i);const t=null!==(r=i.message)&&void 0!==r?r:String(i);n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${t}`})}t.references.push(n)}}unlink(e){for(const t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){const t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return null!=t?t:this.createLinkingError(e)}buildReference(e,t,r,n){const i=this,a={$refNode:r,$refText:n,get ref(){var r;if((0,lr.ng)(this._ref))return this._ref;if((0,lr.Nr)(this._nodeDescription)){const r=i.loadAstNode(this._nodeDescription);this._ref=null!=r?r:i.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){this._ref=Sr;const n=(0,$t.cQ)(e).$document,s=i.getLinkedNode({reference:a,container:e,property:t});if(s.error&&n&&n.state<Ar.ComputedScopes)return this._ref=void 0;this._ref=null!==(r=s.node)&&void 0!==r?r:s.error,this._nodeDescription=s.descr,null==n||n.references.push(this)}else if(this._ref===Sr)throw new Error(`Cyclic reference resolution detected: ${i.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${n}')`);return(0,lr.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,lr.Zl)(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var t;try{const t=this.getCandidate(e);if((0,lr.Zl)(t))return{error:t};const r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const n=null!==(t=r.message)&&void 0!==t?t:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${n}`})}}}loadAstNode(e){if(e.node)return e.node;const t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){const r=(0,$t.cQ)(e.container).$document;r&&r.state<Ar.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}}class $r{getName(e){if(function(e){return"string"==typeof e.name}(e))return e.name}getNameNode(e){return(0,i.qO)(e.$cstNode,"name")}}var Rr;!function(e){e.basename=wr.A.basename,e.dirname=wr.A.dirname,e.extname=wr.A.extname,e.joinPath=wr.A.joinPath,e.resolvePath=wr.A.resolvePath,e.equals=function(e,t){return(null==e?void 0:e.toString())===(null==t?void 0:t.toString())},e.relative=function(e,t){const r="string"==typeof e?e:e.path,n="string"==typeof t?t:t.path,i=r.split("/").filter(e=>e.length>0),a=n.split("/").filter(e=>e.length>0);let s=0;for(;s<i.length&&i[s]===a[s];s++);return"../".repeat(i.length-s)+a.slice(s).join("/")},e.normalize=function(e){return wr.r.parse(e.toString()).toString()}}(Rr||(Rr={}));class Er{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const t=(0,i.Rp)(e),r=e.astNode;if(t&&r){const n=r[t.feature];if((0,lr.A_)(n))return n.ref;if(Array.isArray(n))for(const t of n)if((0,lr.A_)(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(r){const t=this.nameProvider.getNameNode(r);if(t&&(t===e||(0,n.pO)(e,t)))return r}}}findDeclarationNode(e){const t=this.findDeclaration(e);if(null==t?void 0:t.$cstNode){const e=this.nameProvider.getNameNode(t);return null!=e?e:t.$cstNode}}findReferences(e,t){const r=[];if(t.includeDeclaration){const t=this.getReferenceToSelf(e);t&&r.push(t)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter(e=>Rr.equals(e.sourceUri,t.documentUri))),r.push(...n),(0,Yt.Td)(r)}getReferenceToSelf(e){const t=this.nameProvider.getNameNode(e);if(t){const r=(0,$t.YE)(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:i,targetUri:r.uri,targetPath:i,segment:(0,n.SX)(t),local:!0}}}}class Lr{constructor(e){if(this.map=new Map,e)for(const[t,r]of e)this.add(t,r)}get size(){return Yt.iD.sum((0,Yt.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);{const r=this.map.get(e);if(r){const n=r.indexOf(t);if(n>=0)return 1===r.length?this.map.delete(e):r.splice(n,1),!0}return!1}}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);{const r=this.map.get(e);return!!r&&r.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,r)=>t.forEach(t=>e(t,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,Yt.Td)(this.map.entries()).flatMap(([e,t])=>t.map(t=>[e,t]))}keys(){return(0,Yt.Td)(this.map.keys())}values(){return(0,Yt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,Yt.Td)(this.map.entries())}}class Mr{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}}class Ir{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=or.XO.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=$t.VN,n=or.XO.None){const i=[];this.exportNode(e,i,t);for(const a of r(e))await fr(n),this.exportNode(a,i,t);return i}exportNode(e,t,r){const n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=or.XO.None){const r=e.parseResult.value,n=new Lr;for(const i of(0,$t.Uo)(r))await fr(t),this.processNode(i,e,n);return n}processNode(e,t,r){const n=e.$container;if(n){const i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}}class Nr{constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const t=this.caseInsensitive?this.elements.find(t=>t.name.toLowerCase()===e.toLowerCase()):this.elements.find(t=>t.name===e);return t||(this.outerScope?this.outerScope.getElement(e):void 0)}}class Or{constructor(e,t,r){var n;this.elements=new Map,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n;for(const i of e){const e=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(e,i)}this.outerScope=t}getElement(e){const t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);return r||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=(0,Yt.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Br{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Dr extends Br{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){const r=t();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class Fr extends Br{constructor(e){super(),this.cache=new Map,this.converter=null!=e?e:e=>e}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();const n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){const e=r();return n.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){const t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){const t=this.converter(e);let r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}}class Pr extends Dr{constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{t.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class Kr{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new Pr(e.shared)}getScope(e){const t=[],r=this.reflection.getReferenceType(e),n=(0,$t.YE)(e.container).precomputedScopes;if(n){let i=e.container;do{const e=n.get(i);e.length>0&&t.push((0,Yt.Td)(e).filter(e=>this.reflection.isSubtype(e.type,r))),i=i.$container}while(i)}let i=this.getGlobalScope(r,e);for(let a=t.length-1;a>=0;a--)i=this.createScope(t[a],i);return i}createScope(e,t,r){return new Nr((0,Yt.Td)(e),t,r)}createScopeForNodes(e,t,r){const n=(0,Yt.Td)(e).map(e=>{const t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)}).nonNullable();return new Nr(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new Or(this.indexManager.allElements(e)))}}function jr(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}class zr{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){const r=null!=t?t:{},n=null==t?void 0:t.replacer,i=(e,t)=>this.replacer(e,t,r),a=n?(e,t)=>n(e,t,i):i;try{return this.currentDocument=(0,$t.YE)(e),JSON.stringify(e,a,null==t?void 0:t.space)}finally{this.currentDocument=void 0}}deserialize(e,t){const r=null!=t?t:{},n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,t,{refText:r,sourceText:n,textRegions:i,comments:a,uriConverter:s}){var o,l,c,h;if(!this.ignoreProperties.has(e)){if((0,lr.A_)(t)){const e=t.ref,n=r?t.$refText:void 0;if(e){const r=(0,$t.YE)(e);let i="";this.currentDocument&&this.currentDocument!==r&&(i=s?s(r.uri,t):r.uri.toString());return{$ref:`${i}#${this.astNodeLocator.getAstNodePath(e)}`,$refText:n}}return{$error:null!==(l=null===(o=t.error)||void 0===o?void 0:o.message)&&void 0!==l?l:"Could not resolve reference",$refText:n}}if((0,lr.ng)(t)){let r;if(i&&(r=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),e&&!t.$document||!(null==r?void 0:r.$textRegion)||(r.$textRegion.documentURI=null===(c=this.currentDocument)||void 0===c?void 0:c.uri.toString())),n&&!e&&(null!=r||(r=Object.assign({},t)),r.$sourceText=null===(h=t.$cstNode)||void 0===h?void 0:h.text),a){null!=r||(r=Object.assign({},t));const e=this.commentProvider.getComment(t);e&&(r.$comment=e.replace(/\r/g,""))}return null!=r?r:t}return t}}addAstNodeRegionWithAssignmentsTo(e){const t=e=>({offset:e.offset,end:e.end,length:e.length,range:e.range});if(e.$cstNode){const r=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter(e=>!e.startsWith("$")).forEach(n=>{const a=(0,i.Bd)(e.$cstNode,n).map(t);0!==a.length&&(r[n]=a)}),e}}linkNode(e,t,r,n,i,a){for(const[o,l]of Object.entries(e))if(Array.isArray(l))for(let n=0;n<l.length;n++){const i=l[n];jr(i)?l[n]=this.reviveReference(e,o,t,i,r):(0,lr.ng)(i)&&this.linkNode(i,t,r,e,o,n)}else jr(l)?e[o]=this.reviveReference(e,o,t,l,r):(0,lr.ng)(l)&&this.linkNode(l,t,r,e,o);const s=e;s.$container=n,s.$containerProperty=i,s.$containerIndex=a}reviveReference(e,t,r,n,i){let a=n.$refText,s=n.$error;if(n.$ref){const e=this.getRefNode(r,n.$ref,i.uriConverter);if((0,lr.ng)(e))return a||(a=this.nameProvider.getName(e)),{$refText:null!=a?a:"",ref:e};s=e}if(s){const r={$refText:null!=a?a:""};return r.error={container:e,property:t,message:s,reference:r},r}}getRefNode(e,t,r){try{const n=t.indexOf("#");if(0===n){const r=this.astNodeLocator.getAstNode(e,t.substring(1));return r||"Could not resolve path: "+t}if(n<0){const e=r?r(t):wr.r.parse(t),n=this.langiumDocuments.getDocument(e);return n?n.parseResult.value:"Could not find document for URI: "+t}const i=r?r(t.substring(0,n)):wr.r.parse(t.substring(0,n)),a=this.langiumDocuments.getDocument(i);if(!a)return"Could not find document for URI: "+t;if(n===t.length-1)return a.parseResult.value;const s=this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(n+1));return s||"Could not resolve URI: "+t}catch(n){return String(n)}}}class Ur{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=null==e?void 0:e.workspace.TextDocuments}register(e){const t=e.LanguageMetaData;for(const r of t.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(t.languageId,e),1===this.languageIdMap.size?this.singleton=e:this.singleton=void 0}getServices(e){var t,r;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const n=null===(r=null===(t=this.textDocuments)||void 0===t?void 0:t.get(e))||void 0===r?void 0:r.languageId;if(void 0!==n){const e=this.languageIdMap.get(n);if(e)return e}const i=Rr.extname(e),a=this.fileExtensionMap.get(i);if(!a)throw n?new Error(`The service registry contains no services for the extension '${i}' for language '${n}'.`):new Error(`The service registry contains no services for the extension '${i}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch(t){return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Wr(e){return{code:e}}var Gr,qr;!function(e){e.all=["fast","slow","built-in"]}(Gr||(Gr={}));class Hr{constructor(e){this.entries=new Lr,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[n,i]of Object.entries(e)){const e=i;if(Array.isArray(e))for(const i of e){const e={check:this.wrapValidationException(i,t),category:r};this.addEntry(n,e)}else if("function"==typeof e){const i={check:this.wrapValidationException(e,t),category:r};this.addEntry(n,i)}else(0,Vt.d)(e)}}wrapValidationException(e,t){return async(r,n,i)=>{await this.handleException(()=>e.call(t,r,n,i),"An error occurred during validation",n,r)}}async handleException(e,t,r,n){try{await e()}catch(i){if(dr(i))throw i;console.error(`${t}:`,i),i instanceof Error&&i.stack&&console.error(i.stack);r("error",`${t}: ${i instanceof Error?i.message:String(i)}`,{node:n})}}addEntry(e,t){if("AstNode"!==e)for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,t);else this.entries.add("AstNode",t)}getChecks(e,t){let r=(0,Yt.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter(e=>t.includes(e.category))),r.map(e=>e.check)}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,r){return async(n,i,a,s)=>{await this.handleException(()=>e.call(r,n,i,a,s),t,i,n)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Vr{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=or.XO.None){const n=e.parseResult,i=[];if(await fr(r),!t.categories||t.categories.includes("built-in")){if(this.processLexingErrors(n,i,t),t.stopAfterLexingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===qr.LexingError}))return i;if(this.processParsingErrors(n,i,t),t.stopAfterParsingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===qr.ParsingError}))return i;if(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===qr.LinkingError}))return i}try{i.push(...await this.validateAst(n.value,t,r))}catch(a){if(dr(a))throw a;console.error("An error occurred during validation:",a)}return await fr(r),i}processLexingErrors(e,t,r){var n,i,a;const s=[...e.lexerErrors,...null!==(i=null===(n=e.lexerReport)||void 0===n?void 0:n.diagnostics)&&void 0!==i?i:[]];for(const o of s){const e=null!==(a=o.severity)&&void 0!==a?a:"error",r={severity:Xr(e),range:{start:{line:o.line-1,character:o.column-1},end:{line:o.line-1,character:o.column+o.length-1}},message:o.message,data:Zr(e),source:this.getSource()};t.push(r)}}processParsingErrors(e,t,r){for(const i of e.parserErrors){let e;if(isNaN(i.token.startOffset)){if("previousToken"in i){const t=i.previousToken;if(isNaN(t.startOffset)){const t={line:0,character:0};e={start:t,end:t}}else{const r={line:t.endLine-1,character:t.endColumn};e={start:r,end:r}}}}else e=(0,n.wf)(i.token);if(e){const r={severity:Xr("error"),range:e,message:i.message,data:Wr(qr.ParsingError),source:this.getSource()};t.push(r)}}}processLinkingErrors(e,t,r){for(const n of e.references){const e=n.error;if(e){const r={node:e.container,property:e.property,index:e.index,data:{code:qr.LinkingError,containerType:e.container.$type,property:e.property,refText:e.reference.$refText}};t.push(this.toDiagnostic("error",e.message,r))}}}async validateAst(e,t,r=or.XO.None){const n=[],i=(e,t,r)=>{n.push(this.toDiagnostic(e,t,r))};return await this.validateAstBefore(e,t,i,r),await this.validateAstNodes(e,t,i,r),await this.validateAstAfter(e,t,i,r),n}async validateAstBefore(e,t,r,n=or.XO.None){var i;const a=this.validationRegistry.checksBefore;for(const s of a)await fr(n),await s(e,r,null!==(i=t.categories)&&void 0!==i?i:[],n)}async validateAstNodes(e,t,r,n=or.XO.None){await Promise.all((0,$t.jm)(e).map(async e=>{await fr(n);const i=this.validationRegistry.getChecks(e.$type,t.categories);for(const t of i)await t(e,r,n)}))}async validateAstAfter(e,t,r,n=or.XO.None){var i;const a=this.validationRegistry.checksAfter;for(const s of a)await fr(n),await s(e,r,null!==(i=t.categories)&&void 0!==i?i:[],n)}toDiagnostic(e,t,r){return{message:t,range:Yr(r),severity:Xr(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Yr(e){if(e.range)return e.range;let t;return"string"==typeof e.property?t=(0,i.qO)(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=(0,i.SS)(e.node.$cstNode,e.keyword,e.index)),null!=t||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Xr(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Zr(e){switch(e){case"error":return Wr(qr.LexingError);case"warning":return Wr(qr.LexingWarning);case"info":return Wr(qr.LexingInfo);case"hint":return Wr(qr.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}!function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(qr||(qr={}));class Qr{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r){const i=null!=r?r:(0,$t.YE)(e);null!=t||(t=this.nameProvider.getName(e));const a=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${a} has no name.`);let s;const o=()=>{var t;return null!=s?s:s=(0,n.SX)(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode)};return{node:e,name:t,get nameSegment(){return o()},selectionSegment:(0,n.SX)(e.$cstNode),type:e.$type,documentUri:i.uri,path:a}}}class Jr{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=or.XO.None){const r=[],n=e.parseResult.value;for(const i of(0,$t.jm)(n))await fr(t),(0,$t.DM)(i).filter(e=>!(0,lr.Zl)(e)).forEach(e=>{const t=this.createDescription(e);t&&r.push(t)});return r}createDescription(e){const t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;const i=(0,$t.YE)(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:(0,n.SX)(r),local:Rr.equals(t.documentUri,i)}}}class en{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==t?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((e,t)=>{if(!e||0===t.length)return e;const r=t.indexOf(this.indexSeparator);if(r>0){const n=t.substring(0,r),i=parseInt(t.substring(r+1)),a=e[n];return null==a?void 0:a[i]}return e[t]},e)}}var tn,rn=r(2676);class nn{constructor(e){this._ready=new pr,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new rn.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=null!==(r=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==r&&r}async initialized(e){if(this.workspaceConfig){if(e.register){const t=this.serviceRegistry.all;e.register({section:t.map(e=>this.toSectionName(e.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const t=this.serviceRegistry.all.map(e=>({section:this.toSectionName(e.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(t);t.forEach((e,t)=>{this.updateSectionConfiguration(e.section,r[t])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{const r=e.settings[t];this.updateSectionConfiguration(t,r),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:r})})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(e){e.create=function(e){return{dispose:async()=>await e()}}}(tn||(tn={}));class an{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Lr,this.documentPhaseListeners=new Lr,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Ar.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=or.XO.None){var n,i;for(const a of e){const e=a.uri.toString();if(a.state===Ar.Validated){if("boolean"==typeof t.validation&&t.validation)a.state=Ar.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(e);else if("object"==typeof t.validation){const r=this.buildState.get(e),s=null===(n=null==r?void 0:r.result)||void 0===n?void 0:n.validationChecks;if(s){const n=(null!==(i=t.validation.categories)&&void 0!==i?i:Gr.all).filter(e=>!s.includes(e));n.length>0&&(this.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:n})},result:r.result}),a.state=Ar.IndexedReferences)}}}else this.buildState.delete(e)}this.currentState=Ar.Changed,await this.emitUpdate(e.map(e=>e.uri),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=or.XO.None){this.currentState=Ar.Changed;for(const a of t)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);e.state=Ar.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(a.toString())}const n=(0,Yt.Td)(e).concat(t).map(e=>e.toString()).toSet();this.langiumDocuments.all.filter(e=>!n.has(e.uri.toString())&&this.shouldRelink(e,n)).forEach(e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,Ar.ComputedScopes),e.diagnostics=void 0}),await this.emitUpdate(e,t),await fr(r);const i=this.sortDocuments(this.langiumDocuments.all.filter(e=>{var t;return e.state<Ar.Linked||!(null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.completed)}).toArray());await this.buildDocuments(i,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(r=>r(e,t)))}sortDocuments(e){let t=0,r=e.length-1;for(;t<r;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;t<r&&([e[t],e[r]]=[e[r],e[t]])}return e}hasTextDocument(e){var t;return Boolean(null===(t=this.textDocuments)||void 0===t?void 0:t.get(e.uri))}shouldRelink(e,t){return!!e.references.some(e=>void 0!==e.error)||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),tn.create(()=>{const t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,Ar.Parsed,r,e=>this.langiumDocumentFactory.update(e,r)),await this.runCancelable(e,Ar.IndexedContent,r,e=>this.indexManager.updateContent(e,r)),await this.runCancelable(e,Ar.ComputedScopes,r,async e=>{const t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,r)}),await this.runCancelable(e,Ar.Linked,r,e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,r)),await this.runCancelable(e,Ar.IndexedReferences,r,e=>this.indexManager.updateReferences(e,r));const n=e.filter(e=>this.shouldValidate(e));await this.runCancelable(n,Ar.Validated,r,e=>this.validate(e,r));for(const i of e){const e=this.buildState.get(i.uri.toString());e&&(e.completed=!0)}}prepareBuild(e,t){for(const r of e){const e=r.uri.toString(),n=this.buildState.get(e);n&&!n.completed||this.buildState.set(e,{completed:!1,options:t,result:null==n?void 0:n.result})}}async runCancelable(e,t,r,n){const i=e.filter(e=>e.state<t);for(const s of i)await fr(r),await n(s),s.state=t,await this.notifyDocumentPhase(s,t,r);const a=e.filter(e=>e.state===t);await this.notifyBuildPhase(a,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),tn.create(()=>{this.buildPhaseListeners.delete(e,t)})}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),tn.create(()=>{this.documentPhaseListeners.delete(e,t)})}waitUntil(e,t,r){let n;if(t&&"path"in t?n=t:r=t,null!=r||(r=or.XO.None),n){const t=this.langiumDocuments.getDocument(n);if(t&&t.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(ur):new Promise((t,i)=>{const a=this.onBuildPhase(e,()=>{if(a.dispose(),s.dispose(),n){const e=this.langiumDocuments.getDocument(n);t(null==e?void 0:e.uri)}else t(void 0)}),s=r.onCancellationRequested(()=>{a.dispose(),s.dispose(),i(ur)})})}async notifyDocumentPhase(e,t,r){const n=this.documentPhaseListeners.get(t).slice();for(const a of n)try{await a(e,r)}catch(i){if(!dr(i))throw i}}async notifyBuildPhase(e,t,r){if(0===e.length)return;const n=this.buildPhaseListeners.get(t).slice();for(const i of n)await fr(r),await i(e,r)}shouldValidate(e){return Boolean(this.getBuildOptions(e).validation)}async validate(e,t){var r,n;const i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,s="object"==typeof a?a:void 0,o=await i.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...o):e.diagnostics=o;const l=this.buildState.get(e.uri.toString());if(l){null!==(r=l.result)&&void 0!==r||(l.result={});const e=null!==(n=null==s?void 0:s.categories)&&void 0!==n?n:Gr.all;l.result.validationChecks?l.result.validationChecks.push(...e):l.result.validationChecks=[...e]}}getBuildOptions(e){var t,r;return null!==(r=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==r?r:{}}}class sn{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Fr,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){const r=(0,$t.YE)(e).uri,n=[];return this.referenceIndex.forEach(e=>{e.forEach(e=>{Rr.equals(e.targetUri,r)&&e.targetPath===t&&n.push(e)})}),(0,Yt.Td)(n)}allElements(e,t){let r=(0,Yt.Td)(this.symbolIndex.keys());return t&&(r=r.filter(e=>!t||t.has(e))),r.map(t=>this.getFileDescriptions(t,e)).flat()}getFileDescriptions(e,t){var r;if(!t)return null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[];const n=this.symbolByTypeIndex.get(e,t,()=>{var r;return(null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]).filter(e=>this.astReflection.isSubtype(e.type,t))});return n}remove(e){const t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=or.XO.None){const r=this.serviceRegistry.getServices(e.uri),n=await r.references.ScopeComputation.computeExports(e,t),i=e.uri.toString();this.symbolIndex.set(i,n),this.symbolByTypeIndex.clear(i)}async updateReferences(e,t=or.XO.None){const r=this.serviceRegistry.getServices(e.uri),n=await r.workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),n)}isAffected(e,t){const r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some(e=>!e.local&&t.has(e.targetUri.toString()))}}class on{constructor(e){this.initialBuildOptions={},this._ready=new pr,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write(e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)})}async initializeWorkspace(e,t=or.XO.None){const r=await this.performStartup(e);await fr(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){const t=this.serviceRegistry.all.flatMap(e=>e.LanguageMetaData.fileExtensions),r=[],n=e=>{r.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)};return await this.loadAdditionalDocuments(e,n),await Promise.all(e.map(e=>[e,this.getRootFolder(e)]).map(async e=>this.traverseFolder(...e,t,n))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return wr.r.parse(e.uri)}async traverseFolder(e,t,r,n){const i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async t=>{if(this.includeEntry(e,t,r))if(t.isDirectory)await this.traverseFolder(e,t.uri,r,n);else if(t.isFile){const e=await this.langiumDocuments.getOrCreateDocument(t.uri);n(e)}}))}includeEntry(e,t,r){const n=Rr.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==n&&"out"!==n;if(t.isFile){const e=Rr.extname(t.uri);return r.includes(e)}return!1}}class ln{buildUnexpectedCharactersMessage(e,t,r,n,i){return o.PW.buildUnexpectedCharactersMessage(e,t,r,n,i)}buildUnableToPopLexerModeMessage(e){return o.PW.buildUnableToPopLexerModeMessage(e)}}const cn={mode:"full"};class hn{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);const r=dn(t)?Object.values(t):t,n="production"===e.LanguageMetaData.mode;this.chevrotainLexer=new o.JG(r,{positionTracking:"full",skipValidations:n,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=cn){var r,n,i;const a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:null!==(r=a.groups.hidden)&&void 0!==r?r:[],report:null===(i=(n=this.tokenBuilder).flushLexingReport)||void 0===i?void 0:i.call(n,e)}}toTokenTypeDictionary(e){if(dn(e))return e;const t=un(e)?Object.values(e.modes).flat():e,r={};return t.forEach(e=>r[e.name]=e),r}}function un(e){return e&&"modes"in e&&"defaultMode"in e}function dn(e){return!function(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}(e)&&!un(e)}function fn(e,t,r){let n,i;"string"==typeof e?(i=t,n=r):(i=e.range.start,n=t),i||(i=le.create(0,0));const a=function(e){var t,r,n;const i=[];let a=e.position.line,s=e.position.character;for(let o=0;o<e.lines.length;o++){const l=0===o,c=o===e.lines.length-1;let h=e.lines[o],u=0;if(l&&e.options.start){const r=null===(t=e.options.start)||void 0===t?void 0:t.exec(h);r&&(u=r.index+r[0].length)}else{const t=null===(r=e.options.line)||void 0===r?void 0:r.exec(h);t&&(u=t.index+t[0].length)}if(c){const t=null===(n=e.options.end)||void 0===n?void 0:n.exec(h);t&&(h=h.substring(0,t.index))}h=h.substring(0,kn(h));if(vn(h,u)>=h.length){if(i.length>0){const e=le.create(a,s);i.push({type:"break",content:"",range:ce.create(e,e)})}}else{gn.lastIndex=u;const e=gn.exec(h);if(e){const t=e[0],r=e[1],n=le.create(a,s+u),o=le.create(a,s+u+t.length);i.push({type:"tag",content:r,range:ce.create(n,o)}),u+=t.length,u=vn(h,u)}if(u<h.length){const e=h.substring(u),t=Array.from(e.matchAll(mn));i.push(...yn(t,e,a,s+u))}}a++,s=0}if(i.length>0&&"break"===i[i.length-1].type)return i.slice(0,-1);return i}({lines:pn(e),position:i,options:_n(n)});return function(e){var t,r,n,i;const a=le.create(e.position.line,e.position.character);if(0===e.tokens.length)return new Rn([],ce.create(a,a));const s=[];for(;e.index<e.tokens.length;){const t=An(e,s[s.length-1]);t&&s.push(t)}const o=null!==(r=null===(t=s[0])||void 0===t?void 0:t.range.start)&&void 0!==r?r:a,l=null!==(i=null===(n=s[s.length-1])||void 0===n?void 0:n.range.end)&&void 0!==i?i:a;return new Rn(s,ce.create(o,l))}({index:0,tokens:a,position:i})}function pn(e){let t="";t="string"==typeof e?e:e.text;return t.split(a.TH)}const gn=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,mn=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function yn(e,t,r,n){const i=[];if(0===e.length){const e=le.create(r,n),a=le.create(r,n+t.length);i.push({type:"text",content:t,range:ce.create(e,a)})}else{let a=0;for(const o of e){const e=o.index,s=t.substring(a,e);s.length>0&&i.push({type:"text",content:t.substring(a,e),range:ce.create(le.create(r,a+n),le.create(r,e+n))});let l=s.length+1;const c=o[1];if(i.push({type:"inline-tag",content:c,range:ce.create(le.create(r,a+l+n),le.create(r,a+l+c.length+n))}),l+=c.length,4===o.length){l+=o[2].length;const e=o[3];i.push({type:"text",content:e,range:ce.create(le.create(r,a+l+n),le.create(r,a+l+e.length+n))})}else i.push({type:"text",content:"",range:ce.create(le.create(r,a+l+n),le.create(r,a+l+n))});a=e+o[0].length}const s=t.substring(a);s.length>0&&i.push({type:"text",content:s,range:ce.create(le.create(r,a+n),le.create(r,a+n+s.length))})}return i}const xn=/\S/,bn=/\s*$/;function vn(e,t){const r=e.substring(t).match(xn);return r?t+r.index:e.length}function kn(e){const t=e.match(bn);if(t&&"number"==typeof t.index)return t.index}function An(e,t){const r=e.tokens[e.index];return"tag"===r.type?Cn(e,!1):"text"===r.type||"inline-tag"===r.type?wn(e):(function(e,t){if(t){const r=new Mn("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}(r,t),void e.index++)}function wn(e){let t=e.tokens[e.index];const r=t;let n=t;const i=[];for(;t&&"break"!==t.type&&"tag"!==t.type;)i.push(Tn(e)),n=t,t=e.tokens[e.index];return new Ln(i,ce.create(r.range.start,n.range.end))}function Tn(e){return"inline-tag"===e.tokens[e.index].type?Cn(e,!0):Sn(e)}function Cn(e,t){const r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if("text"===(null==i?void 0:i.type)){if(t){const i=Sn(e);return new En(n,new Ln([i],i.range),t,ce.create(r.range.start,i.range.end))}{const i=wn(e);return new En(n,i,t,ce.create(r.range.start,i.range.end))}}{const e=r.range;return new En(n,new Ln([],e),t,e)}}function Sn(e){const t=e.tokens[e.index++];return new Mn(t.content,t.range)}function _n(e){if(!e)return _n({start:"/**",end:"*/",line:"*"});const{start:t,end:r,line:n}=e;return{start:$n(t,!0),end:$n(r,!1),line:$n(n,!0)}}function $n(e,t){if("string"==typeof e||"object"==typeof e){const r="string"==typeof e?(0,a.Nt)(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}return e}class Rn{constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const t of this.elements)if(0===e.length)e=t.toString();else{const r=t.toString();e+=In(e)+r}return e.trim()}toMarkdown(e){let t="";for(const r of this.elements)if(0===t.length)t=r.toMarkdown(e);else{const n=r.toMarkdown(e);t+=In(t)+n}return t.trim()}}class En{constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){let e=`@${this.name}`;const t=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}\n${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return null!==(r=null===(t=null==e?void 0:e.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const t=this.content.toMarkdown(e);if(this.inline){const r=function(e,t,r){var n,i;if("linkplain"===e||"linkcode"===e||"link"===e){const a=t.indexOf(" ");let s=t;if(a>0){const e=vn(t,a);s=t.substring(e),t=t.substring(0,a)}("linkcode"===e||"link"===e&&"code"===r.link)&&(s=`\`${s}\``);const o=null!==(i=null===(n=r.renderLink)||void 0===n?void 0:n.call(r,t,s))&&void 0!==i?i:function(e,t){try{return wr.r.parse(e,!0),`[${t}](${e})`}catch(n){return e}}(t,s);return o}return}(this.name,t,null!=e?e:{});if("string"==typeof r)return r}let r="";"italic"===(null==e?void 0:e.tag)||void 0===(null==e?void 0:e.tag)?r="*":"bold"===(null==e?void 0:e.tag)?r="**":"bold-italic"===(null==e?void 0:e.tag)&&(r="***");let n=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?n=`${n} \u2014 ${t}`:this.content.inlines.length>1&&(n=`${n}\n${t}`),this.inline?`{${n}}`:n}}class Ln{constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){const r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+="\n")}return t}}class Mn{constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}}function In(e){return e.endsWith("\n")?"\n":"\n\n"}class Nn{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const t=this.commentProvider.getComment(e);if(t&&function(e,t){const r=_n(t),n=pn(e);if(0===n.length)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return Boolean(null==s?void 0:s.exec(i))&&Boolean(null==o?void 0:o.exec(a))}(t)){return fn(t).toMarkdown({renderLink:(t,r)=>this.documentationLinkRenderer(e,t,r),renderTag:t=>this.documentationTagRenderer(e,t)})}}documentationLinkRenderer(e,t,r){var n;const i=null!==(n=this.findNameInPrecomputedScopes(e,t))&&void 0!==n?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){const e=i.nameSegment.range.start.line+1,t=i.nameSegment.range.start.character+1;return`[${r}](${i.documentUri.with({fragment:`L${e},${t}`}).toString()})`}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){const r=(0,$t.YE)(e).precomputedScopes;if(!r)return;let n=e;do{const e=r.get(n).find(e=>e.name===t);if(e)return e;n=n.$container}while(n)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(e=>e.name===t)}}class On{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return function(e){return"string"==typeof e.$comment}(e)?e.$comment:null===(t=(0,n.v)(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}}class Bn{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}}class Dn{constructor(){this.previousTokenSource=new or.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const t=(cr=performance.now(),new or.Qi);return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r=or.XO.None){const n=new pr,i={action:t,deferred:n,cancellationToken:r};return e.push(i),this.performNextOperation(),n.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map(async({action:e,deferred:t,cancellationToken:r})=>{try{const n=await Promise.resolve().then(()=>e(r));t.resolve(n)}catch(n){dr(n)?t.resolve(void 0):t.reject(n)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class Fn{constructor(e){this.grammarElementIdMap=new Mr,this.tokenTypeIdMap=new Mr,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(e=>Object.assign(Object.assign({},e),{message:e.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const t=new Map,r=new Map;for(const n of(0,$t.jm)(e))t.set(n,{});if(e.$cstNode)for(const i of(0,n.NS)(e.$cstNode))r.set(i,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){const r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(const[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){const e=[];r[n]=e;for(const r of i)(0,lr.ng)(r)?e.push(this.dehydrateAstNode(r,t)):(0,lr.A_)(r)?e.push(this.dehydrateReference(r,t)):e.push(r)}else(0,lr.ng)(i)?r[n]=this.dehydrateAstNode(i,t):(0,lr.A_)(i)?r[n]=this.dehydrateReference(i,t):void 0!==i&&(r[n]=i);return r}dehydrateReference(e,t){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){const r=t.cstNodes.get(e);return(0,lr.br)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),(0,lr.mD)(e)?r.content=e.content.map(e=>this.dehydrateCstNode(e,t)):(0,lr.FC)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){const t=new Map,r=new Map;for(const n of(0,$t.jm)(e))t.set(n,{});let i;if(e.$cstNode)for(const a of(0,n.NS)(e.$cstNode)){let e;"fullText"in a?(e=new Dt(a.fullText),i=e):"content"in a?e=new Ot:"tokenType"in a&&(e=this.hydrateCstLeafNode(a)),e&&(r.set(a,e),e.root=i)}return{astNodes:t,cstNodes:r}}hydrateAstNode(e,t){const r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(const[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){const e=[];r[n]=e;for(const a of i)(0,lr.ng)(a)?e.push(this.setParent(this.hydrateAstNode(a,t),r)):(0,lr.A_)(a)?e.push(this.hydrateReference(a,r,n,t)):e.push(a)}else(0,lr.ng)(i)?r[n]=this.setParent(this.hydrateAstNode(i,t),r):(0,lr.A_)(i)?r[n]=this.hydrateReference(i,r,n,t):void 0!==i&&(r[n]=i);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){const n=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),(0,lr.mD)(n))for(const i of e.content){const e=this.hydrateCstNode(i,t,r++);n.content.push(e)}return n}hydrateCstLeafNode(e){const t=this.getTokenType(e.tokenType),r=e.offset,n=e.length,i=e.startLine,a=e.startColumn,s=e.endLine,o=e.endColumn,l=e.hidden;return new Nt(r,n,{start:{line:i,character:a},end:{line:s,character:o}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const t of(0,$t.jm)(this.grammar))(0,s.r1)(t)&&this.grammarElementIdMap.set(t,e++)}}function Pn(e){return{documentation:{CommentProvider:e=>new On(e),DocumentationProvider:e=>new Nn(e)},parser:{AsyncParser:e=>new Bn(e),GrammarConfig:e=>function(e){const t=[],r=e.Grammar;for(const n of r.rules)(0,s.rE)(n)&&(0,i.eb)(n)&&(0,a.lU)((0,i.S)(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:n.El}}(e),LangiumParser:e=>ir(e),CompletionParser:e=>function(e){const t=e.Grammar,r=e.parser.Lexer,n=new Gt(e);return Xt(t,n,r.definition),n.finalize(),n}(e),ValueConverter:()=>new sr.d,TokenBuilder:()=>new ar.Q,Lexer:e=>new hn(e),ParserErrorMessageProvider:()=>new Wt,LexerErrorMessageProvider:()=>new ln},workspace:{AstNodeLocator:()=>new en,AstNodeDescriptionProvider:e=>new Qr(e),ReferenceDescriptionProvider:e=>new Jr(e)},references:{Linker:e=>new _r(e),NameProvider:()=>new $r,ScopeProvider:e=>new Kr(e),ScopeComputation:e=>new Ir(e),References:e=>new Er(e)},serializer:{Hydrator:e=>new Fn(e),JsonSerializer:e=>new zr(e)},validation:{DocumentValidator:e=>new Vr(e),ValidationRegistry:e=>new Hr(e)},shared:()=>e.shared}}function Kn(e){return{ServiceRegistry:e=>new Ur(e),workspace:{LangiumDocuments:e=>new Cr(e),LangiumDocumentFactory:e=>new Tr(e),DocumentBuilder:e=>new an(e),IndexManager:e=>new sn(e),WorkspaceManager:e=>new on(e),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new Dn,ConfigurationProvider:e=>new nn(e)}}}},8980:(e,t,r)=>{"use strict";r.d(t,{S:()=>h});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},l=class extends n.dg{static{(0,n.K2)(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},c={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new l,"ValueConverter")}};function h(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.jE,c);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}(0,n.K2)(h,"createArchitectureServices")},9008:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return e}},9042:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(3831),i=r(4792),a=r(7422);const s=function(e){return(0,n.A)(e,a.A,i.A)}},9119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"},9142:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(){return e}}},9150:(e,t,r)=>{"use strict";r.d(t,{f:()=>h});var n=r(7960),i=r(8913),a=r(9364),s=r(4298),o=class extends n.mR{static{(0,n.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},l=class extends n.dg{static{(0,n.K2)(this,"PieValueConverter")}runCustomConverter(e,t,r){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},c={parser:{TokenBuilder:(0,n.K2)(()=>new o,"TokenBuilder"),ValueConverter:(0,n.K2)(()=>new l,"ValueConverter")}};function h(e=s.D){const t=(0,a.WQ)((0,i.u)(e),n.sr),r=(0,a.WQ)((0,i.t)({shared:t}),n.KX,c);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}(0,n.K2)(h,"createPieServices")},9188:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n=function(e,t){return null!=e&&t in Object(e)};var i=r(5054);const a=function(e,t){return null!=e&&(0,i.A)(e,t,n)}},9264:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}},9354:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(6318),i=r(2851),a=r(7819),s=r(5353),o=r(3149),l=r(901);const c=function(e,t,r,n){if(!(0,o.A)(e))return e;for(var c=-1,h=(t=(0,a.A)(t,e)).length,u=h-1,d=e;null!=d&&++c<h;){var f=(0,l.A)(t[c]),p=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=u){var g=d[f];void 0===(p=n?n(g,f,d):void 0)&&(p=(0,o.A)(g)?g:(0,s.A)(t[c+1])?[]:{})}(0,i.A)(d,f,p),d=d[f]}return e};const h=function(e,t,r){for(var i=-1,s=t.length,o={};++i<s;){var l=t[i],h=(0,n.A)(e,l);r(h,l)&&c(o,(0,a.A)(l,e),h)}return o}},9364:(e,t,r)=>{"use strict";var n;function i(e,t,r,n,i,a,o,l,h){return s([e,t,r,n,i,a,o,l,h].reduce(c,{}))}r.d(t,{WQ:()=>i}),function(e){e.merge=(e,t)=>c(c({},e),t)}(n||(n={}));const a=Symbol("isProxy");function s(e,t){const r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,i)=>i===a||l(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(l(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(t,r)=>r in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return r}const o=Symbol();function l(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===o)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in r){const a=r[t];e[t]=o;try{e[t]="function"==typeof a?a(n):s(a,n)}catch(i){throw e[t]=i instanceof Error?i:void 0,i}return e[t]}}function c(e,t){if(t)for(const[r,n]of Object.entries(t))if(void 0!==n){const t=e[r];e[r]=null!==t&&null!==n&&"object"==typeof t&&"object"==typeof n?c(t,n):n}return e}},9418:(e,t,r)=>{"use strict";r.d(t,{A:()=>oe});const{entries:n,setPrototypeOf:i,isFrozen:a,getPrototypeOf:s,getOwnPropertyDescriptor:o}=Object;let{freeze:l,seal:c,create:h}=Object,{apply:u,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),c||(c=function(e){return e}),u||(u=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.apply(t,n)}),d||(d=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new e(...r)});const f=$(Array.prototype.forEach),p=$(Array.prototype.lastIndexOf),g=$(Array.prototype.pop),m=$(Array.prototype.push),y=$(Array.prototype.splice),x=$(String.prototype.toLowerCase),b=$(String.prototype.toString),v=$(String.prototype.match),k=$(String.prototype.replace),A=$(String.prototype.indexOf),w=$(String.prototype.trim),T=$(Object.prototype.hasOwnProperty),C=$(RegExp.prototype.test),S=(_=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d(_,t)});var _;function $(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return u(e,t,n)}}function R(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;i&&i(e,null);let n=t.length;for(;n--;){let i=t[n];if("string"==typeof i){const e=r(i);e!==i&&(a(t)||(t[n]=e),i=e)}e[i]=!0}return e}function E(e){for(let t=0;t<e.length;t++){T(e,t)||(e[t]=null)}return e}function L(e){const t=h(null);for(const[r,i]of n(e)){T(e,r)&&(Array.isArray(i)?t[r]=E(i):i&&"object"==typeof i&&i.constructor===Object?t[r]=L(i):t[r]=i)}return t}function M(e,t){for(;null!==e;){const r=o(e,t);if(r){if(r.get)return $(r.get);if("function"==typeof r.value)return $(r.value)}e=s(e)}return function(){return null}}const I=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=l(["#text"]),K=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),j=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=c(/<%[\w\W]*|[\w\W]*%>/gm),q=c(/\$\{[\w\W]*/gm),H=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),V=c(/^aria-[\-\w]+$/),Y=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X=c(/^(?:\w+script|data):/i),Z=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=c(/^html$/i),J=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:V,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:J,DATA_ATTR:H,DOCTYPE_NAME:Q,ERB_EXPR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:X,MUSTACHE_EXPR:W,TMPLIT_EXPR:q});const te=1,re=3,ne=7,ie=8,ae=9,se=function(){return"undefined"==typeof window?null:window};var oe=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();const r=t=>e(t);if(r.version="3.3.0",r.removed=[],!t||!t.document||t.document.nodeType!==ae||!t.Element)return r.isSupported=!1,r;let{document:i}=t;const a=i,s=a.currentScript,{DocumentFragment:o,HTMLTemplateElement:c,Node:u,Element:d,NodeFilter:_,NamedNodeMap:$=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:E,DOMParser:W,trustedTypes:G}=t,q=d.prototype,H=M(q,"cloneNode"),V=M(q,"remove"),X=M(q,"nextSibling"),Z=M(q,"childNodes"),J=M(q,"parentNode");if("function"==typeof c){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let oe,le="";const{implementation:ce,createNodeIterator:he,createDocumentFragment:ue,getElementsByTagName:de}=i,{importNode:fe}=a;let pe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof n&&"function"==typeof J&&ce&&void 0!==ce.createHTMLDocument;const{MUSTACHE_EXPR:ge,ERB_EXPR:me,TMPLIT_EXPR:ye,DATA_ATTR:xe,ARIA_ATTR:be,IS_SCRIPT_OR_DATA:ve,ATTR_WHITESPACE:ke,CUSTOM_ELEMENT:Ae}=ee;let{IS_ALLOWED_URI:we}=ee,Te=null;const Ce=R({},[...I,...N,...O,...D,...P]);let Se=null;const _e=R({},[...K,...j,...z,...U]);let $e=Object.seal(h(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Ee=null;const Le=Object.seal(h(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Me=!0,Ie=!0,Ne=!1,Oe=!0,Be=!1,De=!0,Fe=!1,Pe=!1,Ke=!1,je=!1,ze=!1,Ue=!1,We=!0,Ge=!1,qe=!0,He=!1,Ve={},Ye=null;const Xe=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ze=null;const Qe=R({},["audio","video","img","source","image","track"]);let Je=null;const et=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let it=nt,at=!1,st=null;const ot=R({},[tt,rt,nt],b);let lt=R({},["mi","mo","mn","ms","mtext"]),ct=R({},["annotation-xml"]);const ht=R({},["title","style","font","a","script"]);let ut=null;const dt=["application/xhtml+xml","text/html"];let ft=null,pt=null;const gt=i.createElement("form"),mt=function(e){return e instanceof RegExp||e instanceof Function},yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!pt||pt!==e){if(e&&"object"==typeof e||(e={}),e=L(e),ut=-1===dt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ft="application/xhtml+xml"===ut?b:x,Te=T(e,"ALLOWED_TAGS")?R({},e.ALLOWED_TAGS,ft):Ce,Se=T(e,"ALLOWED_ATTR")?R({},e.ALLOWED_ATTR,ft):_e,st=T(e,"ALLOWED_NAMESPACES")?R({},e.ALLOWED_NAMESPACES,b):ot,Je=T(e,"ADD_URI_SAFE_ATTR")?R(L(et),e.ADD_URI_SAFE_ATTR,ft):et,Ze=T(e,"ADD_DATA_URI_TAGS")?R(L(Qe),e.ADD_DATA_URI_TAGS,ft):Qe,Ye=T(e,"FORBID_CONTENTS")?R({},e.FORBID_CONTENTS,ft):Xe,Re=T(e,"FORBID_TAGS")?R({},e.FORBID_TAGS,ft):L({}),Ee=T(e,"FORBID_ATTR")?R({},e.FORBID_ATTR,ft):L({}),Ve=!!T(e,"USE_PROFILES")&&e.USE_PROFILES,Me=!1!==e.ALLOW_ARIA_ATTR,Ie=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Be=e.SAFE_FOR_TEMPLATES||!1,De=!1!==e.SAFE_FOR_XML,Fe=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,ze=e.RETURN_DOM_FRAGMENT||!1,Ue=e.RETURN_TRUSTED_TYPE||!1,Ke=e.FORCE_BODY||!1,We=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,qe=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||Y,it=e.NAMESPACE||nt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,$e=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($e.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($e.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($e.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be&&(Ie=!1),ze&&(je=!0),Ve&&(Te=R({},P),Se=[],!0===Ve.html&&(R(Te,I),R(Se,K)),!0===Ve.svg&&(R(Te,N),R(Se,j),R(Se,U)),!0===Ve.svgFilters&&(R(Te,O),R(Se,j),R(Se,U)),!0===Ve.mathMl&&(R(Te,D),R(Se,z),R(Se,U))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Le.tagCheck=e.ADD_TAGS:(Te===Ce&&(Te=L(Te)),R(Te,e.ADD_TAGS,ft))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Le.attributeCheck=e.ADD_ATTR:(Se===_e&&(Se=L(Se)),R(Se,e.ADD_ATTR,ft))),e.ADD_URI_SAFE_ATTR&&R(Je,e.ADD_URI_SAFE_ATTR,ft),e.FORBID_CONTENTS&&(Ye===Xe&&(Ye=L(Ye)),R(Ye,e.FORBID_CONTENTS,ft)),qe&&(Te["#text"]=!0),Fe&&R(Te,["html","head","body"]),Te.table&&(R(Te,["tbody"]),delete Re.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=e.TRUSTED_TYPES_POLICY,le=oe.createHTML("")}else void 0===oe&&(oe=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(G,s)),null!==oe&&"string"==typeof le&&(le=oe.createHTML(""));l&&l(e),pt=e}},xt=R({},[...N,...O,...B]),bt=R({},[...D,...F]),vt=function(e){m(r.removed,{element:e});try{J(e).removeChild(e)}catch(t){V(e)}},kt=function(e,t){try{m(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){m(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(je||ze)try{vt(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},At=function(e){let t=null,r=null;if(Ke)e="<remove></remove>"+e;else{const t=v(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===ut&&it===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=oe?oe.createHTML(e):e;if(it===nt)try{t=(new W).parseFromString(n,ut)}catch(s){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=at?le:n}catch(s){}}const a=t.body||t.documentElement;return e&&r&&a.insertBefore(i.createTextNode(r),a.childNodes[0]||null),it===nt?de.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:a},wt=function(e){return he.call(e.ownerDocument||e,e,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},Tt=function(e){return e instanceof E&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof $)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ct=function(e){return"function"==typeof u&&e instanceof u};function St(e,t,n){f(e,e=>{e.call(r,t,n,pt)})}const _t=function(e){let t=null;if(St(pe.beforeSanitizeElements,e,null),Tt(e))return vt(e),!0;const n=ft(e.nodeName);if(St(pe.uponSanitizeElement,e,{tagName:n,allowedTags:Te}),De&&e.hasChildNodes()&&!Ct(e.firstElementChild)&&C(/<[/\w!]/g,e.innerHTML)&&C(/<[/\w!]/g,e.textContent))return vt(e),!0;if(e.nodeType===ne)return vt(e),!0;if(De&&e.nodeType===ie&&C(/<[/\w]/g,e.data))return vt(e),!0;if(!(Le.tagCheck instanceof Function&&Le.tagCheck(n))&&(!Te[n]||Re[n])){if(!Re[n]&&Rt(n)){if($e.tagNameCheck instanceof RegExp&&C($e.tagNameCheck,n))return!1;if($e.tagNameCheck instanceof Function&&$e.tagNameCheck(n))return!1}if(qe&&!Ye[n]){const t=J(e)||e.parentNode,r=Z(e)||e.childNodes;if(r&&t){for(let n=r.length-1;n>=0;--n){const i=H(r[n],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,X(e))}}}return vt(e),!0}return e instanceof d&&!function(e){let t=J(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});const r=x(e.tagName),n=x(t.tagName);return!!st[e.namespaceURI]&&(e.namespaceURI===rt?t.namespaceURI===nt?"svg"===r:t.namespaceURI===tt?"svg"===r&&("annotation-xml"===n||lt[n]):Boolean(xt[r]):e.namespaceURI===tt?t.namespaceURI===nt?"math"===r:t.namespaceURI===rt?"math"===r&&ct[n]:Boolean(bt[r]):e.namespaceURI===nt?!(t.namespaceURI===rt&&!ct[n])&&!(t.namespaceURI===tt&&!lt[n])&&!bt[r]&&(ht[r]||!xt[r]):!("application/xhtml+xml"!==ut||!st[e.namespaceURI]))}(e)?(vt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!C(/<\/no(script|embed|frames)/i,e.innerHTML)?(Be&&e.nodeType===re&&(t=e.textContent,f([ge,me,ye],e=>{t=k(t,e," ")}),e.textContent!==t&&(m(r.removed,{element:e.cloneNode()}),e.textContent=t)),St(pe.afterSanitizeElements,e,null),!1):(vt(e),!0)},$t=function(e,t,r){if(We&&("id"===t||"name"===t)&&(r in i||r in gt))return!1;if(Ie&&!Ee[t]&&C(xe,t));else if(Me&&C(be,t));else if(Le.attributeCheck instanceof Function&&Le.attributeCheck(t,e));else if(!Se[t]||Ee[t]){if(!(Rt(e)&&($e.tagNameCheck instanceof RegExp&&C($e.tagNameCheck,e)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(e))&&($e.attributeNameCheck instanceof RegExp&&C($e.attributeNameCheck,t)||$e.attributeNameCheck instanceof Function&&$e.attributeNameCheck(t,e))||"is"===t&&$e.allowCustomizedBuiltInElements&&($e.tagNameCheck instanceof RegExp&&C($e.tagNameCheck,r)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(r))))return!1}else if(Je[t]);else if(C(we,k(r,ke,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(r,"data:")||!Ze[e]){if(Ne&&!C(ve,k(r,ke,"")));else if(r)return!1}else;return!0},Rt=function(e){return"annotation-xml"!==e&&v(e,Ae)},Et=function(e){St(pe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Tt(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let i=t.length;for(;i--;){const s=t[i],{name:o,namespaceURI:l,value:c}=s,h=ft(o),u=c;let d="value"===o?u:w(u);if(n.attrName=h,n.attrValue=d,n.keepAttr=!0,n.forceKeepAttr=void 0,St(pe.uponSanitizeAttribute,e,n),d=n.attrValue,!Ge||"id"!==h&&"name"!==h||(kt(o,e),d="user-content-"+d),De&&C(/((--!?|])>)|<\/(style|title|textarea)/i,d)){kt(o,e);continue}if("attributename"===h&&v(d,"href")){kt(o,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){kt(o,e);continue}if(!Oe&&C(/\/>/i,d)){kt(o,e);continue}Be&&f([ge,me,ye],e=>{d=k(d,e," ")});const p=ft(e.nodeName);if($t(p,h,d)){if(oe&&"object"==typeof G&&"function"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(p,h)){case"TrustedHTML":d=oe.createHTML(d);break;case"TrustedScriptURL":d=oe.createScriptURL(d)}if(d!==u)try{l?e.setAttributeNS(l,o,d):e.setAttribute(o,d),Tt(e)?vt(e):g(r.removed)}catch(a){kt(o,e)}}else kt(o,e)}St(pe.afterSanitizeAttributes,e,null)},Lt=function e(t){let r=null;const n=wt(t);for(St(pe.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)St(pe.uponSanitizeShadowNode,r,null),_t(r),Et(r),r.content instanceof o&&e(r.content);St(pe.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,s=null,l=null;if(at=!e,at&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ct(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Pe||yt(t),r.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){const t=ft(e.nodeName);if(!Te[t]||Re[t])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)n=At("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),i.nodeType===te&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!je&&!Be&&!Fe&&-1===e.indexOf("<"))return oe&&Ue?oe.createHTML(e):e;if(n=At(e),!n)return je?null:Ue?le:""}n&&Ke&&vt(n.firstChild);const c=wt(He?e:n);for(;s=c.nextNode();)_t(s),Et(s),s.content instanceof o&&Lt(s.content);if(He)return e;if(je){if(ze)for(l=ue.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(Se.shadowroot||Se.shadowrootmode)&&(l=fe.call(a,l,!0)),l}let h=Fe?n.outerHTML:n.innerHTML;return Fe&&Te["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&C(Q,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Be&&f([ge,me,ye],e=>{h=k(h,e," ")}),oe&&Ue?oe.createHTML(h):h},r.setConfig=function(){yt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},r.clearConfig=function(){pt=null,Pe=!1},r.isValidAttribute=function(e,t,r){pt||yt({});const n=ft(e),i=ft(t);return $t(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&m(pe[e],t)},r.removeHook=function(e,t){if(void 0!==t){const r=p(pe[e],t);return-1===r?void 0:y(pe[e],r,1)[0]}return g(pe[e])},r.removeHooks=function(e){pe[e]=[]},r.removeAllHooks=function(){pe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}()},9463:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});const n=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var i=r(6240),a=r(3958);const s=function(e,t,r,n,i){return i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)}),r};var o=r(2049);const l=function(e,t,r){var l=(0,o.A)(e)?n:s,c=arguments.length<3;return l(e,(0,a.A)(t,4),r,c,i.A)}},9471:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});const n=(0,r(8744).A)(Object,"create");const i=function(){this.__data__=n?n(null):{},this.size=0};const a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var s=Object.prototype.hasOwnProperty;const o=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return s.call(t,e)?t[e]:void 0};var l=Object.prototype.hasOwnProperty;const c=function(e){var t=this.__data__;return n?void 0!==t[e]:l.call(t,e)};const h=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=c,u.prototype.set=h;const d=u;var f=r(127),p=r(8335);const g=function(){this.size=0,this.__data__={hash:new d,map:new(p.A||f.A),string:new d}};const m=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const y=function(e,t){var r=e.__data__;return m(t)?r["string"==typeof t?"string":"hash"]:r.map};const x=function(e){var t=y(this,e).delete(e);return this.size-=t?1:0,t};const b=function(e){return y(this,e).get(e)};const v=function(e){return y(this,e).has(e)};const k=function(e,t){var r=y(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function A(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}A.prototype.clear=g,A.prototype.delete=x,A.prototype.get=b,A.prototype.has=v,A.prototype.set=k;const w=A},9590:(e,t)=>{"use strict";let r;function n(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(n||(n={})),t.default=n},9592:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return void 0===e}},9610:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8496),i=r(3149);const a=function(e){if(!(0,i.A)(e))return!1;var t=(0,n.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9625:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(797),i=r(451),a=(0,n.K2)((e,t)=>{let r;"sandbox"===t&&(r=(0,i.Ltv)("#i"+e));return("sandbox"===t?(0,i.Ltv)(r.nodes()[0].contentDocument.body):(0,i.Ltv)("body")).select(`[id="${e}"]`)},"getDiagramElement")},9637:(e,t,r)=>{"use strict";r.d(t,{ak:()=>W,mT:()=>On,LT:()=>Yt,jr:()=>Dn,T6:()=>un,JG:()=>Bt,wL:()=>B,c$:()=>P,Y2:()=>z,$P:()=>K,Cy:()=>j,Pp:()=>U,BK:()=>G,PW:()=>It,my:()=>Qt,jk:()=>Ar,Sk:()=>Dt,G:()=>Zt});var n=r(8058),i=r(8207),a=r(6401),s=r(4722),o=r(8585),l=r(53);function c(e){function t(){}t.prototype=e;const r=new t;function n(){return typeof r.bar}return n(),n(),e}const h=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var u=r(8593);const d=function(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:(0,u.A)(t),h(e,t<0?0:t,n)):[]};var f=r(9703),p=r(2851),g=r(2031),m=r(3767),y=r(8446),x=r(7271),b=r(7422),v=Object.prototype.hasOwnProperty;const k=(0,m.A)(function(e,t){if((0,x.A)(t)||(0,y.A)(t))(0,g.A)(t,(0,b.A)(t),e);else for(var r in t)v.call(t,r)&&(0,p.A)(e,r,t[r])});var A=r(5572),w=r(3958),T=r(9354),C=r(3973);const S=function(e,t){if(null==e)return{};var r=(0,A.A)((0,C.A)(e),function(e){return[e]});return t=(0,w.A)(t),(0,T.A)(e,r,function(e,r){return t(e,r[0])})};var _=r(8496),$=r(3098);const R=function(e){return(0,$.A)(e)&&"[object RegExp]"==(0,_.A)(e)};var E=r(2789),L=r(4841),M=L.A&&L.A.isRegExp;const I=M?(0,E.A)(M):R;function N(e){return t=e,(0,f.A)(t.LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}class O{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),(0,n.A)(this.definition,t=>{t.accept(e)})}}class B extends O{constructor(e){super([]),this.idx=1,k(this,S(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class D extends O{constructor(e){super(e.definition),this.orgText="",k(this,S(e,e=>void 0!==e))}}class F extends O{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,k(this,S(e,e=>void 0!==e))}}class P extends O{constructor(e){super(e.definition),this.idx=1,k(this,S(e,e=>void 0!==e))}}class K extends O{constructor(e){super(e.definition),this.idx=1,k(this,S(e,e=>void 0!==e))}}class j extends O{constructor(e){super(e.definition),this.idx=1,k(this,S(e,e=>void 0!==e))}}class z extends O{constructor(e){super(e.definition),this.idx=1,k(this,S(e,e=>void 0!==e))}}class U extends O{constructor(e){super(e.definition),this.idx=1,k(this,S(e,e=>void 0!==e))}}class W extends O{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,k(this,S(e,e=>void 0!==e))}}class G{constructor(e){this.idx=1,k(this,S(e,e=>void 0!==e))}accept(e){e.visit(this)}}function q(e){function t(e){return(0,s.A)(e,q)}if(e instanceof B){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,f.A)(e.label)&&(t.label=e.label),t}if(e instanceof F)return{type:"Alternative",definition:t(e.definition)};if(e instanceof P)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof K)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof j)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:q(new G({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof U)return{type:"RepetitionWithSeparator",idx:e.idx,separator:q(new G({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof z)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof W)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof G){const t={type:"Terminal",name:e.terminalType.name,label:N(e.terminalType),idx:e.idx};(0,f.A)(e.label)&&(t.terminalLabel=e.label);const r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=I(r)?r.source:r),t}if(e instanceof D)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class H{visit(e){const t=e;switch(t.constructor){case B:return this.visitNonTerminal(t);case F:return this.visitAlternative(t);case P:return this.visitOption(t);case K:return this.visitRepetitionMandatory(t);case j:return this.visitRepetitionMandatoryWithSeparator(t);case U:return this.visitRepetitionWithSeparator(t);case z:return this.visitRepetition(t);case W:return this.visitAlternation(t);case G:return this.visitTerminal(t);case D:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}var V=r(3736),Y=r(6240);const X=function(e,t){var r;return(0,Y.A)(e,function(e,n,i){return!(r=t(e,n,i))}),!!r};var Z=r(2049),Q=r(6832);const J=function(e,t,r){var n=(0,Z.A)(e)?V.A:X;return r&&(0,Q.A)(e,t,r)&&(t=void 0),n(e,(0,w.A)(t,3))};var ee=r(818),te=Math.max;const re=function(e,t,r,n){e=(0,y.A)(e)?e:(0,i.A)(e),r=r&&!n?(0,u.A)(r):0;var a=e.length;return r<0&&(r=te(a+r,0)),(0,f.A)(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&(0,ee.A)(e,t,r)>-1};const ne=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0};const ie=function(e,t){var r=!0;return(0,Y.A)(e,function(e,n,i){return r=!!t(e,n,i)}),r};const ae=function(e,t,r){var n=(0,Z.A)(e)?ne:ie;return r&&(0,Q.A)(e,t,r)&&(t=void 0),n(e,(0,w.A)(t,3))};function se(e,t=[]){return!!(e instanceof P||e instanceof z||e instanceof U)||(e instanceof W?J(e.definition,e=>se(e,t)):!(e instanceof B&&re(t,e))&&(e instanceof O&&(e instanceof B&&t.push(e),ae(e.definition,e=>se(e,t)))))}function oe(e){if(e instanceof B)return"SUBRULE";if(e instanceof P)return"OPTION";if(e instanceof W)return"OR";if(e instanceof K)return"AT_LEAST_ONE";if(e instanceof j)return"AT_LEAST_ONE_SEP";if(e instanceof U)return"MANY_SEP";if(e instanceof z)return"MANY";if(e instanceof G)return"CONSUME";throw Error("non exhaustive match")}class le{walk(e,t=[]){(0,n.A)(e.definition,(r,n)=>{const i=d(e.definition,n+1);if(r instanceof B)this.walkProdRef(r,i,t);else if(r instanceof G)this.walkTerminal(r,i,t);else if(r instanceof F)this.walkFlat(r,i,t);else if(r instanceof P)this.walkOption(r,i,t);else if(r instanceof K)this.walkAtLeastOne(r,i,t);else if(r instanceof j)this.walkAtLeastOneSep(r,i,t);else if(r instanceof U)this.walkManySep(r,i,t);else if(r instanceof z)this.walkMany(r,i,t);else{if(!(r instanceof W))throw Error("non exhaustive match");this.walkOr(r,i,t)}})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){const n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){const n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){const n=[new P({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){const n=ce(e,t,r);this.walk(e,n)}walkMany(e,t,r){const n=[new P({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){const n=ce(e,t,r);this.walk(e,n)}walkOr(e,t,r){const i=t.concat(r);(0,n.A)(e.definition,e=>{const t=new F({definition:[e]});this.walk(t,i)})}}function ce(e,t,r){return[new P({definition:[new G({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var he=r(9902);const ue=function(e){return e&&e.length?(0,he.A)(e):[]};var de=r(4098);function fe(e){if(e instanceof B)return fe(e.referencedRule);if(e instanceof G)return[e.terminalType];if(function(e){return e instanceof F||e instanceof P||e instanceof z||e instanceof K||e instanceof j||e instanceof U||e instanceof G||e instanceof D}(e))return function(e){let t=[];const r=e.definition;let n,i=0,a=r.length>i,s=!0;for(;a&&s;)n=r[i],s=se(n),t=t.concat(fe(n)),i+=1,a=r.length>i;return ue(t)}(e);if(function(e){return e instanceof W}(e))return function(e){const t=(0,s.A)(e.definition,e=>fe(e));return ue((0,de.A)(t))}(e);throw Error("non exhaustive match")}const pe="_~IN~_";class ge extends le{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){const n=(i=e.referencedRule,a=e.idx,i.name+a+pe+this.topProd.name);var i,a;const s=t.concat(r),o=fe(new F({definition:s}));this.follows[n]=o}}var me=r(9592),ye=r(5186),xe=r(3068),be=r(2634),ve=r(1790);const ke=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}};const Ae=function(e,t){return((0,Z.A)(e)?be.A:ve.A)(e,ke((0,w.A)(t,3)))};var we=r(9610),Te=Math.max;const Ce=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:(0,u.A)(r);return i<0&&(i=Te(n+i,0)),(0,ee.A)(e,t,i)};var Se=r(9463),_e=r(4092),$e=r(2062),Re=r(5530),Ee=r(7809),Le=r(4099);const Me=function(e,t,r,n){var i=-1,a=Re.A,s=!0,o=e.length,l=[],c=t.length;if(!o)return l;r&&(t=(0,A.A)(t,(0,E.A)(r))),n?(a=Ee.A,s=!1):t.length>=200&&(a=Le.A,s=!1,t=new $e.A(t));e:for(;++i<o;){var h=e[i],u=null==r?h:r(h);if(h=n||0!==h?h:0,s&&u==u){for(var d=c;d--;)if(t[d]===u)continue e;l.push(h)}else a(t,u,n)||l.push(h)}return l};var Ie=r(3588),Ne=r(4326),Oe=r(3533);const Be=(0,Ne.A)(function(e,t){return(0,Oe.A)(e)?Me(e,(0,Ie.A)(t,1,Oe.A,!0)):[]});const De=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i};const Fe=function(e){return e&&e.length?e[0]:void 0};var Pe=r(6145);function Ke(e){console&&console.error&&console.error(`Error: ${e}`)}function je(e){console&&console.warn&&console.warn(`Warning: ${e}`)}let ze={};const Ue=new ye.H;function We(e){const t=e.toString();if(ze.hasOwnProperty(t))return ze[t];{const e=Ue.pattern(t);return ze[t]=e,e}}const Ge="Complement Sets are not supported for first char optimization",qe='Unable to use "first char" lexer optimizations:\n';function He(e,t=!1){try{const t=We(e);return Ve(t.value,{},t.flags.ignoreCase)}catch(r){if(r.message===Ge)t&&je(`${qe}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Ke(`${qe}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Ve(e,t,r){switch(e.type){case"Disjunction":for(let n=0;n<e.value.length;n++)Ve(e.value[n],t,r);break;case"Alternative":const i=e.value;for(let e=0;e<i.length;e++){const a=i[e];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":Ye(s.value,t,r);break;case"Set":if(!0===s.complement)throw Error(Ge);(0,n.A)(s.value,e=>{if("number"==typeof e)Ye(e,t,r);else{const n=e;if(!0===r)for(let e=n.from;e<=n.to;e++)Ye(e,t,r);else{for(let e=n.from;e<=n.to&&e<yt;e++)Ye(e,t,r);if(n.to>=yt){const e=n.from>=yt?n.from:yt,r=n.to,i=bt(e),a=bt(r);for(let n=i;n<=a;n++)t[n]=n}}}});break;case"Group":Ve(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}const o=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===Ze(s)||"Group"!==s.type&&!1===o)break}break;default:throw Error("non exhaustive match!")}return(0,i.A)(t)}function Ye(e,t,r){const n=bt(e);t[n]=n,!0===r&&function(e,t){const r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){const e=bt(n.charCodeAt(0));t[e]=e}else{const e=r.toLowerCase();if(e!==r){const r=bt(e.charCodeAt(0));t[r]=r}}}(e,t)}function Xe(e,t){return(0,Pe.A)(e.value,e=>{if("number"==typeof e)return re(t,e);{const r=e;return void 0!==(0,Pe.A)(t,e=>r.from<=e&&e<=r.to)}})}function Ze(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&((0,Z.A)(e.value)?ae(e.value,Ze):Ze(e.value))}class Qe extends ye.z{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){re(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Xe(e,this.targetCharCodes)&&(this.found=!0):void 0!==Xe(e,this.targetCharCodes)&&(this.found=!0)}}function Je(e,t){if(t instanceof RegExp){const r=We(t),n=new Qe(e);return n.visit(r),n.found}return void 0!==(0,Pe.A)(t,t=>re(e,t.charCodeAt(0)))}const et="PATTERN",tt="defaultMode",rt="modes";let nt="boolean"==typeof new RegExp("(?:)").sticky;function it(e,t){const r=(t=(0,xe.A)(t,{useSticky:nt,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let i;r("initCharCodeToOptimizedIndexMap",()=>{!function(){if((0,a.A)(xt)){xt=new Array(65536);for(let e=0;e<65536;e++)xt[e]=e>255?255+~~(e/255):e}}()}),r("Reject Lexer.NA",()=>{i=Ae(e,e=>e[et]===Bt.NA)});let l,c,h,u,d,p,g,m,y,x,b,v=!1;r("Transform Patterns",()=>{v=!1,l=(0,s.A)(i,e=>{const r=e[et];if(I(r)){const e=r.source;return 1!==e.length||"^"===e||"$"===e||"."===e||r.ignoreCase?2!==e.length||"\\"!==e[0]||re(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?ct(r):lt(r):e[1]:e}if((0,we.A)(r))return v=!0,{exec:r};if("object"==typeof r)return v=!0,r;if("string"==typeof r){if(1===r.length)return r;{const e=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=new RegExp(e);return t.useSticky?ct(n):lt(n)}}throw Error("non exhaustive match")})}),r("misc mapping",()=>{c=(0,s.A)(i,e=>e.tokenTypeIdx),h=(0,s.A)(i,e=>{const t=e.GROUP;if(t!==Bt.SKIPPED){if((0,f.A)(t))return t;if((0,me.A)(t))return!1;throw Error("non exhaustive match")}}),u=(0,s.A)(i,e=>{const t=e.LONGER_ALT;if(t){return(0,Z.A)(t)?(0,s.A)(t,e=>Ce(i,e)):[Ce(i,t)]}}),d=(0,s.A)(i,e=>e.PUSH_MODE),p=(0,s.A)(i,e=>(0,o.A)(e,"POP_MODE"))}),r("Line Terminator Handling",()=>{const e=gt(t.lineTerminatorCharacters);g=(0,s.A)(i,e=>!1),"onlyOffset"!==t.positionTracking&&(g=(0,s.A)(i,t=>(0,o.A)(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===pt(t,e)&&Je(e,t.PATTERN)))}),r("Misc Mapping #2",()=>{m=(0,s.A)(i,ut),y=(0,s.A)(l,dt),x=(0,Se.A)(i,(e,t)=>{const r=t.GROUP;return(0,f.A)(r)&&r!==Bt.SKIPPED&&(e[r]=[]),e},{}),b=(0,s.A)(l,(e,t)=>({pattern:l[t],longerAlt:u[t],canLineTerminator:g[t],isCustom:m[t],short:y[t],group:h[t],push:d[t],pop:p[t],tokenTypeIdx:c[t],tokenType:i[t]}))});let k=!0,A=[];return t.safeMode||r("First Char Optimization",()=>{A=(0,Se.A)(i,(e,r,i)=>{if("string"==typeof r.PATTERN){const t=bt(r.PATTERN.charCodeAt(0));mt(e,t,b[i])}else if((0,Z.A)(r.START_CHARS_HINT)){let t;(0,n.A)(r.START_CHARS_HINT,r=>{const n=bt("string"==typeof r?r.charCodeAt(0):r);t!==n&&(t=n,mt(e,n,b[i]))})}else if(I(r.PATTERN))if(r.PATTERN.unicode)k=!1,t.ensureOptimizations&&Ke(`${qe}\tUnable to analyze < ${r.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const s=He(r.PATTERN,t.ensureOptimizations);(0,a.A)(s)&&(k=!1),(0,n.A)(s,t=>{mt(e,t,b[i])})}else t.ensureOptimizations&&Ke(`${qe}\tTokenType: <${r.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),k=!1;return e},[])}),{emptyGroups:x,patternIdxToConfig:b,charCodeToPatternIdxToConfig:A,hasCustom:v,canBeOptimized:k}}function at(e,t){let r=[];const i=function(e){const t=(0,_e.A)(e,e=>!(0,o.A)(e,et)),r=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:Nt.MISSING_PATTERN,tokenTypes:[e]})),n=Be(e,t);return{errors:r,valid:n}}(e);r=r.concat(i.errors);const a=function(e){const t=(0,_e.A)(e,e=>{const t=e[et];return!(I(t)||(0,we.A)(t)||(0,o.A)(t,"exec")||(0,f.A)(t))}),r=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Nt.INVALID_PATTERN,tokenTypes:[e]})),n=Be(e,t);return{errors:r,valid:n}}(i.valid),l=a.valid;return r=r.concat(a.errors),r=r.concat(function(e){let t=[];const r=(0,_e.A)(e,e=>I(e[et]));return t=t.concat(function(e){class t extends ye.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const r=(0,_e.A)(e,e=>{const r=e.PATTERN;try{const e=We(r),n=new t;return n.visit(e),n.found}catch(n){return st.test(r.source)}}),n=(0,s.A)(r,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Nt.EOI_ANCHOR_FOUND,tokenTypes:[e]}));return n}(r)),t=t.concat(function(e){class t extends ye.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const r=(0,_e.A)(e,e=>{const r=e.PATTERN;try{const e=We(r),n=new t;return n.visit(e),n.found}catch(n){return ot.test(r.source)}}),n=(0,s.A)(r,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Nt.SOI_ANCHOR_FOUND,tokenTypes:[e]}));return n}(r)),t=t.concat(function(e){const t=(0,_e.A)(e,e=>{const t=e[et];return t instanceof RegExp&&(t.multiline||t.global)}),r=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Nt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}));return r}(r)),t=t.concat(function(e){const t=[];let r=(0,s.A)(e,r=>(0,Se.A)(e,(e,n)=>(r.PATTERN.source!==n.PATTERN.source||re(t,n)||n.PATTERN===Bt.NA||(t.push(n),e.push(n)),e),[]));r=De(r);const n=(0,_e.A)(r,e=>e.length>1),i=(0,s.A)(n,e=>{const t=(0,s.A)(e,e=>e.name);return{message:`The same RegExp pattern ->${Fe(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:Nt.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}});return i}(r)),t=t.concat(function(e){const t=(0,_e.A)(e,e=>e.PATTERN.test("")),r=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:Nt.EMPTY_MATCH_PATTERN,tokenTypes:[e]}));return r}(r)),t}(l)),r=r.concat(function(e){const t=(0,_e.A)(e,e=>{if(!(0,o.A)(e,"GROUP"))return!1;const t=e.GROUP;return t!==Bt.SKIPPED&&t!==Bt.NA&&!(0,f.A)(t)}),r=(0,s.A)(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Nt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}));return r}(l)),r=r.concat(function(e,t){const r=(0,_e.A)(e,e=>void 0!==e.PUSH_MODE&&!re(t,e.PUSH_MODE)),n=(0,s.A)(r,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:Nt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}));return n}(l,t)),r=r.concat(function(e){const t=[],r=(0,Se.A)(e,(e,t,r)=>{const n=t.PATTERN;return n===Bt.NA||((0,f.A)(n)?e.push({str:n,idx:r,tokenType:t}):I(n)&&function(e){const t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,Pe.A)(t,t=>-1!==e.source.indexOf(t))}(n)&&e.push({str:n.source,idx:r,tokenType:t})),e},[]);return(0,n.A)(e,(e,i)=>{(0,n.A)(r,({str:r,idx:n,tokenType:a})=>{if(i<n&&function(e,t){if(I(t)){const r=t.exec(e);return null!==r&&0===r.index}if((0,we.A)(t))return t(e,0,[],{});if((0,o.A)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(r,e.PATTERN)){const r=`Token: ->${a.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:r,type:Nt.UNREACHABLE_PATTERN,tokenTypes:[e,a]})}})}),t}(l)),r}const st=/[^\\][$]/;const ot=/[^\\[][\^]|^\^/;function lt(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function ct(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function ht(e,t,r){const a=[];let s=!1;const l=De((0,de.A)((0,i.A)(e.modes))),c=Ae(l,e=>e[et]===Bt.NA),h=gt(r);return t&&(0,n.A)(c,e=>{const t=pt(e,h);if(!1!==t){const r=function(e,t){if(t.issue===Nt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Nt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),n={message:r,type:t.issue,tokenType:e};a.push(n)}else(0,o.A)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(s=!0):Je(h,e.PATTERN)&&(s=!0)}),t&&!s&&a.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Nt.NO_LINE_BREAKS_FLAGS}),a}function ut(e){const t=e.PATTERN;if(I(t))return!1;if((0,we.A)(t))return!0;if((0,o.A)(t,"exec"))return!0;if((0,f.A)(t))return!1;throw Error("non exhaustive match")}function dt(e){return!(!(0,f.A)(e)||1!==e.length)&&e.charCodeAt(0)}const ft={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const t=e.charCodeAt(r);if(10===t)return this.lastIndex=r+1,!0;if(13===t)return 10===e.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function pt(e,t){if((0,o.A)(e,"LINE_BREAKS"))return!1;if(I(e.PATTERN)){try{Je(t,e.PATTERN)}catch(r){return{issue:Nt.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}if((0,f.A)(e.PATTERN))return!1;if(ut(e))return{issue:Nt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function gt(e){return(0,s.A)(e,e=>(0,f.A)(e)?e.charCodeAt(0):e)}function mt(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}const yt=256;let xt=[];function bt(e){return e<yt?e:xt[e]}var vt=r(9008),kt=r(2302),At=r(6666);function wt(e){const t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function Tt(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function Ct(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let St=1;const _t={};function $t(e){const t=function(e){let t=(0,l.A)(e),r=e,n=!0;for(;n;){r=De((0,de.A)((0,s.A)(r,e=>e.CATEGORIES)));const e=Be(r,t);t=t.concat(e),(0,a.A)(e)?n=!1:r=e}return t}(e);!function(e){(0,n.A)(e,e=>{var t;Et(e)||(_t[St]=e,e.tokenTypeIdx=St++),Lt(e)&&!(0,Z.A)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Lt(e)||(e.CATEGORIES=[]),t=e,(0,o.A)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return(0,o.A)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})})}(t),function(e){(0,n.A)(e,e=>{Rt([],e)})}(t),function(e){(0,n.A)(e,e=>{e.categoryMatches=[],(0,n.A)(e.categoryMatchesMap,(t,r)=>{e.categoryMatches.push(_t[r].tokenTypeIdx)})})}(t),(0,n.A)(t,e=>{e.isParent=e.categoryMatches.length>0})}function Rt(e,t){(0,n.A)(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),(0,n.A)(t.CATEGORIES,r=>{const n=e.concat(t);re(n,r)||Rt(n,r)})}function Et(e){return(0,o.A)(e,"tokenTypeIdx")}function Lt(e){return(0,o.A)(e,"CATEGORIES")}function Mt(e){return(0,o.A)(e,"tokenTypeIdx")}const It={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,n,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};var Nt;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Nt||(Nt={}));const Ot={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:It,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Ot);class Bt{constructor(e,t=Ot){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);const{time:n,value:i}=wt(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=k({},Ot,t);const r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Ot.lineTerminatorsPattern)this.config.lineTerminatorsPattern=ft;else if(this.config.lineTerminatorCharacters===Ot.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,Z.A)(e)?r={modes:{defaultMode:(0,l.A)(e)},defaultMode:tt}:(i=!1,r=(0,l.A)(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){const t=[];return(0,o.A)(e,tt)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+tt+"> property in its definition\n",type:Nt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,o.A)(e,rt)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Nt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,o.A)(e,rt)&&(0,o.A)(e,tt)&&!(0,o.A)(e.modes,e.defaultMode)&&t.push({message:`A MultiMode Lexer cannot be initialized with a ${tt}: <${e.defaultMode}>which does not exist\n`,type:Nt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,o.A)(e,rt)&&(0,n.A)(e.modes,(e,r)=>{(0,n.A)(e,(i,a)=>{if((0,me.A)(i))t.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${r}> at index: <${a}>\n`,type:Nt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,o.A)(i,"LONGER_ALT")){const a=(0,Z.A)(i.LONGER_ALT)?i.LONGER_ALT:[i.LONGER_ALT];(0,n.A)(a,n=>{(0,me.A)(n)||re(e,n)||t.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${n.name}> on token <${i.name}> outside of mode <${r}>\n`,type:Nt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),t}(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ht(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},(0,n.A)(r.modes,(e,t)=>{r.modes[t]=Ae(e,e=>(0,me.A)(e))});const h=(0,b.A)(r.modes);if((0,n.A)(r.modes,(e,r)=>{this.TRACE_INIT(`Mode: <${r}> processing`,()=>{if(this.modes.push(r),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(at(e,h))}),(0,a.A)(this.lexerDefinitionErrors)){let n;$t(e),this.TRACE_INIT("analyzeTokenTypes",()=>{n=it(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[r]=n.patternIdxToConfig,this.charCodeToPatternIdxToConfig[r]=n.charCodeToPatternIdxToConfig,this.emptyGroups=k({},this.emptyGroups,n.emptyGroups),this.hasCustom=n.hasCustom||this.hasCustom,this.canModeBeOptimized[r]=n.canBeOptimized}})}),this.defaultMode=r.defaultMode,!(0,a.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=(0,s.A)(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}(0,n.A)(this.lexerDefinitionWarning,e=>{je(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(nt?(this.chopInput=vt.A,this.match=this.matchWithTest):(this.updateLastIndex=kt.A,this.match=this.matchWithExec),i&&(this.handleModes=kt.A),!1===this.trackStartLines&&(this.computeNewColumn=vt.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=kt.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const e=(0,Se.A)(this.canModeBeOptimized,(e,t,r)=>(!1===t&&e.push(r),e),[]);if(t.ensureOptimizations&&!(0,a.A)(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{ze={}}),this.TRACE_INIT("toFastProperties",()=>{c(this)})})}tokenize(e,t=this.defaultMode){if(!(0,a.A)(this.lexerDefinitionErrors)){const e=(0,s.A)(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,i,a,s,o,l,c,h,u,d,f,p,g,m,y;const x=e,v=x.length;let k=0,A=0;const w=this.hasCustom?0:Math.floor(e.length/10),T=new Array(w),C=[];let S=this.trackStartLines?1:void 0,_=this.trackStartLines?1:void 0;const $=function(e){const t={},r=(0,b.A)(e);return(0,n.A)(r,r=>{const n=e[r];if(!(0,Z.A)(n))throw Error("non exhaustive match");t[r]=[]}),t}(this.emptyGroups),R=this.trackStartLines,E=this.config.lineTerminatorsPattern;let L=0,M=[],I=[];const N=[],O=[];let B;function D(){return M}function F(e){const t=bt(e),r=I[t];return void 0===r?O:r}Object.freeze(O);const P=e=>{if(1===N.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);C.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{N.pop();const e=(0,At.A)(N);M=this.patternIdxToConfig[e],I=this.charCodeToPatternIdxToConfig[e],L=M.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;B=I&&t?F:D}};function K(e){N.push(e),I=this.charCodeToPatternIdxToConfig[e],M=this.patternIdxToConfig[e],L=M.length,L=M.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;B=I&&t?F:D}let j;K.call(this,t);const z=this.config.recoveryEnabled;for(;k<v;){l=null;const t=x.charCodeAt(k),n=B(t),b=n.length;for(r=0;r<b;r++){j=n[r];const i=j.pattern;c=null;const u=j.short;if(!1!==u?t===u&&(l=i):!0===j.isCustom?(y=i.exec(x,k,T,$),null!==y?(l=y[0],void 0!==y.payload&&(c=y.payload)):l=null):(this.updateLastIndex(i,k),l=this.match(i,e,k)),null!==l){if(o=j.longerAlt,void 0!==o){const t=o.length;for(a=0;a<t;a++){const t=M[o[a]],r=t.pattern;if(h=null,!0===t.isCustom?(y=r.exec(x,k,T,$),null!==y?(s=y[0],void 0!==y.payload&&(h=y.payload)):s=null):(this.updateLastIndex(r,k),s=this.match(r,e,k)),s&&s.length>l.length){l=s,c=h,j=t;break}}}break}}if(null!==l){if(u=l.length,d=j.group,void 0!==d&&(f=j.tokenTypeIdx,p=this.createTokenInstance(l,k,f,j.tokenType,S,_,u),this.handlePayload(p,c),!1===d?A=this.addToken(T,A,p):$[d].push(p)),e=this.chopInput(e,u),k+=u,_=this.computeNewColumn(_,u),!0===R&&!0===j.canLineTerminator){let e,t,r=0;E.lastIndex=0;do{e=E.test(l),!0===e&&(t=E.lastIndex-1,r++)}while(!0===e);0!==r&&(S+=r,_=u-t,this.updateTokenEndLineColumnLocation(p,d,t,r,S,_,u))}this.handleModes(j,P,K,p)}else{const t=k,r=S,n=_;let a=!1===z;for(;!1===a&&k<v;)for(e=this.chopInput(e,1),k++,i=0;i<L;i++){const t=M[i],r=t.pattern,n=t.short;if(!1!==n?x.charCodeAt(k)===n&&(a=!0):!0===t.isCustom?a=null!==r.exec(x,k,T,$):(this.updateLastIndex(r,k),a=null!==r.exec(e)),!0===a)break}if(g=k-t,_=this.computeNewColumn(_,g),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,t,g,r,n),C.push({offset:t,line:r,column:n,length:g,message:m}),!1===z)break}}return this.hasCustom||(T.length=A),{tokens:T,groups:$,errors:C}}handleModes(e,t,r,n){if(!0===e.pop){const i=e.push;t(n),void 0!==i&&r.call(this,i)}else void 0!==e.push&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,a,s){let o,l;void 0!==t&&(o=r===s-1,l=o?-1:0,1===n&&!0===o||(e.endLine=i+l,e.endColumn=a-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,a,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:a,endColumn:a+s-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,r){return!0===e.test(t)?t.substring(r,e.lastIndex):null}matchWithExec(e,t){const r=e.exec(t);return null!==r?r[0]:null}}function Dt(e){return Ft(e)?e.LABEL:e.name}function Ft(e){return(0,f.A)(e.LABEL)&&""!==e.LABEL}Bt.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Bt.NA=/NOT_APPLICABLE/;const Pt="parent",Kt="categories",jt="label",zt="group",Ut="push_mode",Wt="pop_mode",Gt="longer_alt",qt="line_breaks",Ht="start_chars_hint";function Vt(e){return function(e){const t=e.pattern,r={};r.name=e.name,(0,me.A)(t)||(r.PATTERN=t);if((0,o.A)(e,Pt))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";(0,o.A)(e,Kt)&&(r.CATEGORIES=e[Kt]);$t([r]),(0,o.A)(e,jt)&&(r.LABEL=e[jt]);(0,o.A)(e,zt)&&(r.GROUP=e[zt]);(0,o.A)(e,Wt)&&(r.POP_MODE=e[Wt]);(0,o.A)(e,Ut)&&(r.PUSH_MODE=e[Ut]);(0,o.A)(e,Gt)&&(r.LONGER_ALT=e[Gt]);(0,o.A)(e,qt)&&(r.LINE_BREAKS=e[qt]);(0,o.A)(e,Ht)&&(r.START_CHARS_HINT=e[Ht]);return r}(e)}const Yt=Vt({name:"EOF",pattern:Bt.NA});function Xt(e,t,r,n,i,a,s,o){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Zt(e,t){return Tt(e,t)}$t([Yt]);const Qt={buildMismatchTokenMessage:({expected:e,actual:t,previous:r,ruleName:n})=>`Expecting ${Ft(e)?`--\x3e ${Dt(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",o="\nbut found: '"+Fe(t).image+"'";if(n)return a+n+o;{const t=(0,Se.A)(e,(e,t)=>e.concat(t),[]),r=(0,s.A)(t,e=>`[${(0,s.A)(e,e=>Dt(e)).join(", ")}]`);return a+`one of these possible Token sequences:\n${(0,s.A)(r,(e,t)=>`  ${t+1}. ${e}`).join("\n")}`+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){const i="Expecting: ",a="\nbut found: '"+Fe(t).image+"'";if(r)return i+r+a;return i+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,s.A)(e,e=>`[${(0,s.A)(e,e=>Dt(e)).join(",")}]`).join(" ,")}>`+a}};Object.freeze(Qt);const Jt={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},er={buildDuplicateFoundError(e,t){const r=e.name,n=Fe(t),i=n.idx,a=oe(n),s=(o=n)instanceof G?o.terminalType.name:o instanceof B?o.nonTerminalName:"";var o;let l=`->${a}${i>0?i:""}<- ${s?`with argument: ->${s}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${r}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,"\n"),l},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=(0,s.A)(e.prefixPath,e=>Dt(e)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=(0,s.A)(e.prefixPath,e=>Dt(e)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return n+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",n},buildEmptyRepetitionError(e){let t=oe(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);return`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${t} --\x3e ${(0,s.A)(e.leftRecursionPath,e=>e.name).concat([t]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;t=e.topLevelRule instanceof D?e.topLevelRule.name:e.topLevelRule;return`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class tr extends H{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){(0,n.A)((0,i.A)(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:In.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}var rr=r(8139),nr=r(2528);const ir=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(n,s,r(s),e)}return n};const ar=function(e,t,r,n){return(0,Y.A)(e,function(e,i,a){t(n,e,r(e),a)}),n};const sr=function(e,t){return function(r,n){var i=(0,Z.A)(r)?ir:ar,a=t?t():{};return i(r,e,(0,w.A)(n,2),a)}};var or=Object.prototype.hasOwnProperty;const lr=sr(function(e,t,r){or.call(e,r)?e[r].push(t):(0,nr.A)(e,r,[t])});const cr=function(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:(0,u.A)(t),h(e,0,(t=n-t)<0?0:t)):[]};class hr extends le{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,l.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,l.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){(0,a.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class ur extends hr{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(r),n=new F({definition:e});this.possibleTokTypes=fe(n),this.found=!0}}}class dr extends le{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class fr extends dr{walkMany(e,t,r){if(e.idx===this.occurrence){const e=Fe(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof G&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,r)}}class pr extends dr{walkManySep(e,t,r){if(e.idx===this.occurrence){const e=Fe(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof G&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,r)}}class gr extends dr{walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){const e=Fe(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof G&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,r)}}class mr extends dr{walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){const e=Fe(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof G&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,r)}}function yr(e,t,r=[]){r=(0,l.A)(r);let i=[],s=0;function o(n){const a=yr(n.concat(d(e,s+1)),t,r);return i.concat(a)}for(;r.length<t&&s<e.length;){const t=e[s];if(t instanceof F)return o(t.definition);if(t instanceof B)return o(t.definition);if(t instanceof P)i=o(t.definition);else{if(t instanceof K){return o(t.definition.concat([new z({definition:t.definition})]))}if(t instanceof j){return o([new F({definition:t.definition}),new z({definition:[new G({terminalType:t.separator})].concat(t.definition)})])}if(t instanceof U){const e=t.definition.concat([new z({definition:[new G({terminalType:t.separator})].concat(t.definition)})]);i=o(e)}else if(t instanceof z){const e=t.definition.concat([new z({definition:t.definition})]);i=o(e)}else{if(t instanceof W)return(0,n.A)(t.definition,e=>{!1===(0,a.A)(e.definition)&&(i=o(e.definition))}),i;if(!(t instanceof G))throw Error("non exhaustive match");r.push(t.terminalType)}}s++}return i.push({partialPath:r,suffixDef:d(e,s)}),i}function xr(e,t,r,n){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let c=!1;const h=t.length,u=h-n-1,f=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,a.A)(p);){const e=p.pop();if(e===o){c&&(0,At.A)(p).idx<=u&&p.pop();continue}const n=e.def,g=e.idx,m=e.ruleStack,y=e.occurrenceStack;if((0,a.A)(n))continue;const x=n[0];if(x===i){const e={idx:g,def:d(n),ruleStack:cr(m),occurrenceStack:cr(y)};p.push(e)}else if(x instanceof G)if(g<h-1){const e=g+1;if(r(t[e],x.terminalType)){const t={idx:e,def:d(n),ruleStack:m,occurrenceStack:y};p.push(t)}}else{if(g!==h-1)throw Error("non exhaustive match");f.push({nextTokenType:x.terminalType,nextTokenOccurrence:x.idx,ruleStack:m,occurrenceStack:y}),c=!0}else if(x instanceof B){const e=(0,l.A)(m);e.push(x.nonTerminalName);const t=(0,l.A)(y);t.push(x.idx);const r={idx:g,def:x.definition.concat(s,d(n)),ruleStack:e,occurrenceStack:t};p.push(r)}else if(x instanceof P){const e={idx:g,def:d(n),ruleStack:m,occurrenceStack:y};p.push(e),p.push(o);const t={idx:g,def:x.definition.concat(d(n)),ruleStack:m,occurrenceStack:y};p.push(t)}else if(x instanceof K){const e=new z({definition:x.definition,idx:x.idx}),t={idx:g,def:x.definition.concat([e],d(n)),ruleStack:m,occurrenceStack:y};p.push(t)}else if(x instanceof j){const e=new G({terminalType:x.separator}),t=new z({definition:[e].concat(x.definition),idx:x.idx}),r={idx:g,def:x.definition.concat([t],d(n)),ruleStack:m,occurrenceStack:y};p.push(r)}else if(x instanceof U){const e={idx:g,def:d(n),ruleStack:m,occurrenceStack:y};p.push(e),p.push(o);const t=new G({terminalType:x.separator}),r=new z({definition:[t].concat(x.definition),idx:x.idx}),i={idx:g,def:x.definition.concat([r],d(n)),ruleStack:m,occurrenceStack:y};p.push(i)}else if(x instanceof z){const e={idx:g,def:d(n),ruleStack:m,occurrenceStack:y};p.push(e),p.push(o);const t=new z({definition:x.definition,idx:x.idx}),r={idx:g,def:x.definition.concat([t],d(n)),ruleStack:m,occurrenceStack:y};p.push(r)}else if(x instanceof W)for(let t=x.definition.length-1;t>=0;t--){const e={idx:g,def:x.definition[t].definition.concat(d(n)),ruleStack:m,occurrenceStack:y};p.push(e),p.push(o)}else if(x instanceof F)p.push({idx:g,def:x.definition.concat(d(n)),ruleStack:m,occurrenceStack:y});else{if(!(x instanceof D))throw Error("non exhaustive match");p.push(br(x,g,m,y))}}return f}function br(e,t,r,n){const i=(0,l.A)(r);i.push(e.name);const a=(0,l.A)(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}var vr;function kr(e){if(e instanceof P||"Option"===e)return vr.OPTION;if(e instanceof z||"Repetition"===e)return vr.REPETITION;if(e instanceof K||"RepetitionMandatory"===e)return vr.REPETITION_MANDATORY;if(e instanceof j||"RepetitionMandatoryWithSeparator"===e)return vr.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof U||"RepetitionWithSeparator"===e)return vr.REPETITION_WITH_SEPARATOR;if(e instanceof W||"Alternation"===e)return vr.ALTERNATION;throw Error("non exhaustive match")}function Ar(e){const{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=kr(n);return a===vr.ALTERNATION?Lr(t,r,i):Mr(t,r,a,i)}function wr(e,t,r,i){const a=e.length,l=ae(e,e=>ae(e,e=>1===e.length));if(t)return function(t){const n=(0,s.A)(t,e=>e.GATE);for(let i=0;i<a;i++){const t=e[i],a=t.length,s=n[i];if(void 0===s||!1!==s.call(this))e:for(let e=0;e<a;e++){const n=t[e],a=n.length;for(let e=0;e<a;e++){const t=this.LA(e+1);if(!1===r(t,n[e]))continue e}return i}}};if(l&&!i){const t=(0,s.A)(e,e=>(0,de.A)(e)),r=(0,Se.A)(t,(e,t,r)=>((0,n.A)(t,t=>{(0,o.A)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=r),(0,n.A)(t.categoryMatches,t=>{(0,o.A)(e,t)||(e[t]=r)})}),e),{});return function(){const e=this.LA(1);return r[e.tokenTypeIdx]}}return function(){for(let t=0;t<a;t++){const n=e[t],i=n.length;e:for(let e=0;e<i;e++){const i=n[e],a=i.length;for(let e=0;e<a;e++){const t=this.LA(e+1);if(!1===r(t,i[e]))continue e}return t}}}}function Tr(e,t,r){const i=ae(e,e=>1===e.length),s=e.length;if(i&&!r){const t=(0,de.A)(e);if(1===t.length&&(0,a.A)(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=(0,Se.A)(t,(e,t,r)=>(e[t.tokenTypeIdx]=!0,(0,n.A)(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let r=0;r<s;r++){const n=e[r],i=n.length;for(let e=0;e<i;e++){const r=this.LA(e+1);if(!1===t(r,n[e]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(vr||(vr={}));class Cr extends le{constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=r.concat(n),!0)}walkOption(e,t,r){this.checkIsTarget(e,vr.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,vr.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,vr.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,vr.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,vr.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}}class Sr extends H{constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,vr.OPTION)}visitRepetition(e){this.checkIsTarget(e,vr.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,vr.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,vr.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,vr.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,vr.ALTERNATION)}}function _r(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function $r(e){let t=[""];for(let r=0;r<e.length;r++){const n=e[r],i=[];for(let e=0;e<t.length;e++){const r=t[e];i.push(r+"_"+n.tokenTypeIdx);for(let e=0;e<n.categoryMatches.length;e++){const t="_"+n.categoryMatches[e];i.push(r+t)}}t=i}return t}function Rr(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;const i=e[n];for(let e=0;e<t.length;e++){if(!0===i[t[e]])return!1}}return!0}function Er(e,t){const r=(0,s.A)(e,e=>yr([e],1)),i=_r(r.length),o=(0,s.A)(r,e=>{const t={};return(0,n.A)(e,e=>{const r=$r(e.partialPath);(0,n.A)(r,e=>{t[e]=!0})}),t});let l=r;for(let s=1;s<=t;s++){const e=l;l=_r(e.length);for(let r=0;r<e.length;r++){const c=e[r];for(let e=0;e<c.length;e++){const h=c[e].partialPath,u=c[e].suffixDef,d=$r(h);if(Rr(o,d,r)||(0,a.A)(u)||h.length===t){const e=i[r];if(!1===Ir(e,h)){e.push(h);for(let e=0;e<d.length;e++){const t=d[e];o[r][t]=!0}}}else{const e=yr(u,s+1,h);l[r]=l[r].concat(e),(0,n.A)(e,e=>{const t=$r(e.partialPath);(0,n.A)(t,e=>{o[r][e]=!0})})}}}}return i}function Lr(e,t,r,n){const i=new Sr(e,vr.ALTERNATION,n);return t.accept(i),Er(i.result,r)}function Mr(e,t,r,n){const i=new Sr(e,r);t.accept(i);const a=i.result,s=new Cr(t,e,r).startWalking();return Er([new F({definition:a}),new F({definition:s})],n)}function Ir(e,t){e:for(let r=0;r<e.length;r++){const n=e[r];if(n.length===t.length){for(let e=0;e<n.length;e++){const r=t[e],i=n[e];if(!1===(r===i||void 0!==i.categoryMatchesMap[r.tokenTypeIdx]))continue e}return!0}}return!1}function Nr(e){return ae(e,e=>ae(e,e=>ae(e,e=>(0,a.A)(e.categoryMatches))))}function Or(e,t,r,a){const o=(0,rr.A)(e,e=>function(e,t){const r=new Fr;e.accept(r);const n=r.allProductions,a=lr(n,Br),o=S(a,e=>e.length>1),l=(0,s.A)((0,i.A)(o),r=>{const n=Fe(r),i=t.buildDuplicateFoundError(e,r),a=oe(n),s={message:i,type:In.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:n.idx},o=Dr(n);return o&&(s.parameter=o),s});return l}(e,r)),l=function(e,t,r){const i=[],a=(0,s.A)(t,e=>e.name);return(0,n.A)(e,e=>{const t=e.name;if(re(a,t)){const n=r.buildNamespaceConflictError(e);i.push({message:n,type:In.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),i}(e,t,r),c=(0,rr.A)(e,e=>function(e,t){const r=new jr;e.accept(r);const n=r.alternations,i=(0,rr.A)(n,r=>r.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:In.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}]:[]);return i}(e,r)),h=(0,rr.A)(e,t=>function(e,t,r,n){const i=[],a=(0,Se.A)(t,(t,r)=>r.name===e.name?t+1:t,0);if(a>1){const t=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:t,type:In.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,a,r));return o.concat(l,c,h)}function Br(e){return`${oe(e)}_#_${e.idx}_#_${Dr(e)}`}function Dr(e){return e instanceof G?e.terminalType.name:e instanceof B?e.nonTerminalName:""}class Fr extends H{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Pr(e,t,r,n=[]){const i=[],s=Kr(t.definition);if((0,a.A)(s))return[];{const t=e.name;re(s,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:In.LEFT_RECURSION,ruleName:t});const a=Be(s,n.concat([e])),o=(0,rr.A)(a,t=>{const i=(0,l.A)(n);return i.push(t),Pr(e,t,r,i)});return i.concat(o)}}function Kr(e){let t=[];if((0,a.A)(e))return t;const r=Fe(e);if(r instanceof B)t.push(r.referencedRule);else if(r instanceof F||r instanceof P||r instanceof K||r instanceof j||r instanceof U||r instanceof z)t=t.concat(Kr(r.definition));else if(r instanceof W)t=(0,de.A)((0,s.A)(r.definition,e=>Kr(e.definition)));else if(!(r instanceof G))throw Error("non exhaustive match");const n=se(r),i=e.length>1;if(n&&i){const r=d(e);return t.concat(Kr(r))}return t}class jr extends H{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function zr(e,t,r){const i=new jr;e.accept(i);let a=i.alternations;a=Ae(a,e=>!0===e.ignoreAmbiguities);const o=(0,rr.A)(a,i=>{const a=i.idx,o=i.maxLookahead||t,l=Lr(a,e,o,i),c=function(e,t,r,i){const a=[],o=(0,Se.A)(e,(r,i,s)=>(!0===t.definition[s].ignoreAmbiguities||(0,n.A)(i,i=>{const o=[s];(0,n.A)(e,(e,r)=>{s!==r&&Ir(e,i)&&!0!==t.definition[r].ignoreAmbiguities&&o.push(r)}),o.length>1&&!Ir(a,i)&&(a.push(i),r.push({alts:o,path:i}))}),r),[]),l=(0,s.A)(o,e=>{const n=(0,s.A)(e.alts,e=>e+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:n,prefixPath:e.path}),type:In.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:e.alts}});return l}(l,i,e,r),h=function(e,t,r,n){const i=(0,Se.A)(e,(e,t,r)=>{const n=(0,s.A)(t,e=>({idx:r,path:e}));return e.concat(n)},[]),a=De((0,rr.A)(i,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const a=e.idx,o=e.path,l=(0,_e.A)(i,e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&(r=e.path,n=o,r.length<n.length&&ae(r,(e,t)=>{const r=n[t];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}));var r,n});return(0,s.A)(l,e=>{const i=[e.idx+1,a+1],s=0===t.idx?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:In.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:s,alternatives:i}})}));return a}(l,i,e,r);return c.concat(h)});return o}class Ur extends H{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Wr(e){const t=(0,xe.A)(e,{errMsgProvider:Jt}),r={};return(0,n.A)(e.rules,e=>{r[e.name]=e}),function(e,t){const r=new tr(e,t);return r.resolveRefs(),r.errors}(r,t.errMsgProvider)}const Gr="MismatchedTokenException",qr="NoViableAltException",Hr="EarlyExitException",Vr="NotAllInputParsedException",Yr=[Gr,qr,Hr,Vr];function Xr(e){return re(Yr,e.name)}Object.freeze(Yr);class Zr extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Qr extends Zr{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Gr}}class Jr extends Zr{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=qr}}class en extends Zr{constructor(e,t){super(e,t),this.name=Vr}}class tn extends Zr{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Hr}}const rn={},nn="InRuleRecoveryException";class an extends Error{constructor(e){super(e),this.name=nn}}function sn(e,t,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(void 0===l){const e=this.getCurrRuleFullName();l=new a(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[o]=l}let c=l.token,h=l.occurrence;const u=l.isEndOfRule;1===this.RULE_STACK.length&&u&&void 0===c&&(c=Yt,h=1),void 0!==c&&void 0!==h&&this.shouldInRepetitionRecoveryBeTried(c,h,s)&&this.tryInRepetitionRecovery(e,t,r,c)}const on=1024,ln=1280,cn=1536;function hn(e,t,r){return r|t|e}class un{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:Ln.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if((0,a.A)(t)){const r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return(0,rr.A)(e,e=>Pr(e,e,er))}validateEmptyOrAlternatives(e){return(0,rr.A)(e,e=>function(e,t){const r=new jr;e.accept(r);const n=r.alternations;return(0,rr.A)(n,r=>{const n=cr(r.definition);return(0,rr.A)(n,(n,i)=>{const s=xr([n],[],Tt,1);return(0,a.A)(s)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:In.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}]:[]})})}(e,er))}validateAmbiguousAlternationAlternatives(e,t){return(0,rr.A)(e,e=>zr(e,t,er))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,r){const i=[];return(0,n.A)(e,e=>{const s=new Ur;e.accept(s);const o=s.allProductions;(0,n.A)(o,n=>{const s=kr(n),o=n.maxLookahead||t,l=Mr(n.idx,e,s,o)[0];if((0,a.A)((0,de.A)(l))){const t=r.buildEmptyRepetitionError({topLevelRule:e,repetition:n});i.push({message:t,type:In.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),i}(e,t,er)}buildLookaheadForAlternation(e){return function(e,t,r,n,i,a){const s=Lr(e,t,r);return a(s,n,Nr(s)?Ct:Tt,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,wr)}buildLookaheadForOptional(e){return function(e,t,r,n,i,a){const s=Mr(e,t,i,r),o=Nr(s)?Ct:Tt;return a(s[0],o,n)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,kr(e.prodType),Tr)}}const dn=new class extends H{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function fn(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function pn(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function gn(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function mn(e,t){const r=(0,b.A)(e),n=r.length;for(let i=0;i<n;i++){const n=e[r[i]],a=n.length;for(let e=0;e<a;e++){const r=n[e];void 0===r.tokenTypeIdx&&this[r.name](r.children,t)}}}function yn(e,t){const r=function(){};gn(r,e+"BaseSemantics");const n={visit:function(e,t){if((0,Z.A)(e)&&(e=e[0]),!(0,me.A)(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const r=function(e,t){const r=(0,_e.A)(t,t=>!1===(0,we.A)(e[t])),n=(0,s.A)(r,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:xn.MISSING_METHOD,methodName:t}));return De(n)}(e,t);return r}(this,t);if(!(0,a.A)(e)){const t=(0,s.A)(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(r.prototype=n).constructor=r,r._RULE_NAMES=t,r}var xn;!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(xn||(xn={}));var bn=r(3149);const vn={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(vn);const kn=!0,An=Math.pow(2,8)-1,wn=Vt({name:"RECORDING_PHASE_TOKEN",pattern:Bt.NA});$t([wn]);const Tn=Xt(wn,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Tn);const Cn={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Sn(e,t,r,n=!1){Rn(r);const i=(0,At.A)(this.recordingProdStack),a=(0,we.A)(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),(0,o.A)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),vn}function _n(e,t){Rn(t);const r=(0,At.A)(this.recordingProdStack),i=!1===(0,Z.A)(e),a=!1===i?e:e.DEF,s=new W({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});(0,o.A)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const l=J(a,e=>(0,we.A)(e.GATE));return s.hasPredicates=l,r.definition.push(s),(0,n.A)(a,e=>{const t=new F({definition:[]});s.definition.push(t),(0,o.A)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,o.A)(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),vn}function $n(e){return 0===e?"":`${e}`}function Rn(e){if(e<0||e>An){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${An+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const En=Xt(Yt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(En);const Ln=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Qt,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Mn=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var In,Nn;function On(e=void 0){return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(In||(In={}));class Bn{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{c(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,n.A)(this.definedRulesNames,e=>{const t=this[e].originalGrammarAction;let r;this.TRACE_INIT(`${e} Rule`,()=>{r=this.topLevelRuleRecord(e,t)}),this.gastProductionsCache[e]=r})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=Wr({rules:(0,i.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,a.A)(r)&&!1===this.skipValidations){const r=(e={rules:(0,i.A)(this.gastProductionsCache),tokenTypes:(0,i.A)(this.tokensMap),errMsgProvider:er,grammarName:t},Or((e=(0,xe.A)(e,{errMsgProvider:er})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),n=function(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return(0,s.A)(t,e=>Object.assign({type:In.CUSTOM_LOOKAHEAD_VALIDATION},e))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,i.A)(this.gastProductionsCache),tokenTypes:(0,i.A)(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(r,n)}var e}),(0,a.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const e=function(e){const t={};return(0,n.A)(e,e=>{const r=new ge(e).startWalking();k(t,r)}),t}((0,i.A)(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:(0,i.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,i.A)(this.gastProductionsCache))})),!Bn.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,a.A)(this.definitionErrors))throw e=(0,s.A)(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(t),r.initLexerAdapter(),r.initLooksAhead(t),r.initRecognizerEngine(e,t),r.initRecoverable(t),r.initTreeBuilder(t),r.initContentAssist(),r.initGastRecorder(t),r.initPerformanceTracer(t),(0,o.A)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,o.A)(t,"skipValidations")?t.skipValidations:Ln.skipValidations}}Bn.DEFER_DEFINITION_ERRORS_HANDLING=!1,Nn=Bn,[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,o.A)(e,"recoveryEnabled")?e.recoveryEnabled:Ln.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=sn)}getTokenToInsert(e){const t=Xt(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){const i=this.findReSyncTokenType(),a=this.exportLexerState(),s=[];let o=!1;const l=this.LA(1);let c=this.LA(1);const h=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:l,previous:e,ruleName:this.getCurrRuleFullName()}),r=new Qr(t,l,this.LA(0));r.resyncedTokens=cr(s),this.SAVE_ERROR(r)};for(;!o;){if(this.tokenMatcher(c,n))return void h();if(r.call(this))return h(),void e.apply(this,t);this.tokenMatcher(c,i)?o=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,s))}this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!1!==r&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new an("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,a.A)(t))return!1;const r=this.LA(1);return void 0!==(0,Pe.A)(t,e=>this.tokenMatcher(r,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return re(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),r=2;for(;;){const n=(0,Pe.A)(e,e=>Zt(t,e));if(void 0!==n)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return rn;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return(0,s.A)(e,(r,n)=>0===n?rn:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){const e=(0,s.A)(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return(0,de.A)(e)}getFollowSetFromFollowKey(e){if(e===rn)return[Yt];const t=e.ruleName+e.idxInCallingRule+pe+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Yt)||t.push(e),t}reSyncTo(e){const t=[];let r=this.LA(1);for(;!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return cr(t)}attemptInRepetitionRecovery(e,t,r,n,i,a,s){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,l.A)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return(0,s.A)(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},class{initLooksAhead(e){this.dynamicTokensEnabled=(0,o.A)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Ln.dynamicTokensEnabled,this.maxLookahead=(0,o.A)(e,"maxLookahead")?e.maxLookahead:Ln.maxLookahead,this.lookaheadStrategy=(0,o.A)(e,"lookaheadStrategy")?e.lookaheadStrategy:new un({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){(0,n.A)(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{const{alternation:t,repetition:r,option:i,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:o}=function(e){dn.reset(),e.accept(dn);const t=dn.dslMethods;return dn.reset(),t}(e);(0,n.A)(t,t=>{const r=0===t.idx?"":t.idx;this.TRACE_INIT(`${oe(t)}${r}`,()=>{const r=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),n=hn(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(n,r)})}),(0,n.A)(r,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,oe(t))}),(0,n.A)(i,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,oe(t))}),(0,n.A)(a,t=>{this.computeLookaheadFunc(e,t.idx,on,"RepetitionMandatory",t.maxLookahead,oe(t))}),(0,n.A)(s,t=>{this.computeLookaheadFunc(e,t.idx,cn,"RepetitionMandatoryWithSeparator",t.maxLookahead,oe(t))}),(0,n.A)(o,t=>{this.computeLookaheadFunc(e,t.idx,ln,"RepetitionWithSeparator",t.maxLookahead,oe(t))})})})}computeLookaheadFunc(e,t,r,n,i,a){this.TRACE_INIT(`${a}${0===t?"":t}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),s=hn(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(s,a)})}getKeyForAutomaticLookahead(e,t){return hn(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,o.A)(e,"nodeLocationTracking")?e.nodeLocationTracking:Ln.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=pn,this.setNodeLocationFromNode=pn,this.cstPostRule=kt.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=kt.A,this.setNodeLocationFromNode=kt.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=fn,this.setNodeLocationFromNode=fn,this.cstPostRule=kt.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=kt.A,this.setNodeLocationFromNode=kt.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=kt.A,this.setNodeLocationFromNode=kt.A,this.cstPostRule=kt.A,this.setInitialNodeLocation=kt.A}else this.cstInvocationStateUpdate=kt.A,this.cstFinallyStateUpdate=kt.A,this.cstPostTerminal=kt.A,this.cstPostNonTerminal=kt.A,this.cstPostRule=kt.A}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==1?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==1?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){const r=this.CST_STACK[this.CST_STACK.length-1];var n,i,a;i=t,a=e,void 0===(n=r).children[a]?n.children[a]=[i]:n.children[a].push(i),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){const r=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)}(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if((0,me.A)(this.baseCstVisitorConstructor)){const e=yn(this.className,(0,b.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,me.A)(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,r){const i=function(){};gn(i,e+"BaseSemanticsWithDefaults");const a=Object.create(r.prototype);return(0,n.A)(t,e=>{a[e]=mn}),(i.prototype=a).constructor=i,i}(this.className,(0,b.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):En}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?En:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ct,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,o.A)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Z.A)(e)){if((0,a.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Z.A)(e))this.tokensMap=(0,Se.A)(e,(e,t)=>(e[t.name]=t,e),{});else if((0,o.A)(e,"modes")&&ae((0,de.A)((0,i.A)(e.modes)),Mt)){const t=(0,de.A)((0,i.A)(e.modes)),r=ue(t);this.tokensMap=(0,Se.A)(r,(e,t)=>(e[t.name]=t,e),{})}else{if(!(0,bn.A)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,l.A)(e)}this.tokensMap.EOF=Yt;const r=(0,o.A)(e,"modes")?(0,de.A)((0,i.A)(e.modes)):(0,i.A)(e),n=ae(r,e=>(0,a.A)(e.categoryMatches));this.tokenMatcher=n?Ct:Tt,$t((0,i.A)(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const n=(0,o.A)(r,"resyncEnabled")?r.resyncEnabled:Mn.resyncEnabled,i=(0,o.A)(r,"recoveryValueFunc")?r.recoveryValueFunc:Mn.recoveryValueFunc,a=this.ruleShortNameIdx<<12;let s;return this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a,s=!0===this.outputCst?function(...r){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,r);const n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}catch(s){return this.invokeRuleCatch(s,n,i)}finally{this.ruleFinallyStateUpdate()}}:function(...r){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,r)}catch(s){return this.invokeRuleCatch(s,n,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){const n=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Xr(e)){const t=e;if(i){const n=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(n)){if(t.resyncedTokens=this.reSyncTo(n),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return r(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(n)return this.moveToTerminatedState(),r(e);throw t}throw e}optionInternal(e,t){const r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;const t=e.GATE;if(void 0!==t){const e=i;i=()=>t.call(this)&&e.call(this)}}else n=e;if(!0===i.call(this))return n.call(this)}atLeastOneInternal(e,t){const r=this.getKeyForAutomaticLookahead(on,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else n=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,vr.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(n);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(n)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,on,e,gr)}atLeastOneSepFirstInternal(e,t){const r=this.getKeyForAutomaticLookahead(cn,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){const n=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(r).call(this))throw this.raiseEarlyExitException(e,vr.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{n.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,mr],t,cn,e,mr)}}manyInternal(e,t){const r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else n=t;let a=!0;for(;!0===i.call(this)&&!0===a;)a=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,fr,a)}manySepFirstInternal(e,t){const r=this.getKeyForAutomaticLookahead(ln,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){const n=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){n.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,pr],t,ln,e,pr)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,cn,e,i)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const r=this.getKeyForAutomaticLookahead(256,t),n=(0,Z.A)(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new en(t,e))}}subruleInternal(e,t,r){let n;try{const i=void 0!==r?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,void 0!==r&&void 0!==r.LABEL?r.LABEL:e.ruleName),n}catch(i){throw this.subruleInternalError(i,r,e.ruleName)}}subruleInternalError(e,t,r){throw Xr(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),n=t):this.consumeInternalError(e,t,r)}catch(i){n=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n;const i=this.LA(0);throw n=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Qr(n,t,i))}consumeInternalRecovery(e,t,r){if(!this.recoveryEnabled||"MismatchedTokenException"!==r.name||this.isBackTracking())throw r;{const i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(n){throw n.name===nn?r:n}}}saveRecogState(){const e=this.errors,t=(0,l.A)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Yt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=Mn){if(re(this.definedRulesNames,e)){const t={message:er.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:In.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=Mn){const n=function(e,t,r){const n=[];let i;return re(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:In.INVALID_RULE_OVERRIDE,ruleName:e})),n}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);const i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,t),!0}catch(n){if(Xr(n))return!1;throw n}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=(0,i.A)(this.gastProductionsCache),(0,s.A)(e,q);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=(0,o.A)(e,"errorMessageProvider")?e.errorMessageProvider:Ln.errorMessageProvider}SAVE_ERROR(e){if(Xr(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,l.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,l.A)(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){const n=this.getCurrRuleFullName(),i=Mr(e,this.getGAstProductions()[n],t,this.maxLookahead)[0],a=[];for(let o=1;o<=this.maxLookahead;o++)a.push(this.LA(o));const s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new tn(s,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const r=this.getCurrRuleFullName(),n=Lr(e,this.getGAstProductions()[r],this.maxLookahead),i=[];for(let o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));const a=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:i,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Jr(s,this.LA(1),a))}},class{initContentAssist(){}computeContentAssist(e,t){const r=this.gastProductionsCache[e];if((0,me.A)(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return xr([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=Fe(e.ruleStack),r=this.getGAstProductions()[t];return new ur(r,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,r){return this.consumeInternalRecord(t,e,r)},this[`SUBRULE${t}`]=function(t,r){return this.subruleInternalRecord(t,e,r)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return En}topLevelRuleRecord(e,t){try{const r=new D({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(n){throw r}throw r}}optionInternalRecord(e,t){return Sn.call(this,P,e,t)}atLeastOneInternalRecord(e,t){Sn.call(this,K,t,e)}atLeastOneSepFirstInternalRecord(e,t){Sn.call(this,j,t,e,kn)}manyInternalRecord(e,t){Sn.call(this,z,t,e)}manySepFirstInternalRecord(e,t){Sn.call(this,U,t,e,kn)}orInternalRecord(e,t){return _n.call(this,e,t)}subruleInternalRecord(e,t,r){if(Rn(t),!e||!1===(0,o.A)(e,"ruleName")){const r=new Error(`<SUBRULE${$n(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}const n=(0,At.A)(this.recordingProdStack),i=e.ruleName,a=new B({idx:t,nonTerminalName:i,label:null==r?void 0:r.LABEL,referencedRule:void 0});return n.definition.push(a),this.outputCst?Cn:vn}consumeInternalRecord(e,t,r){if(Rn(t),!Et(e)){const r=new Error(`<CONSUME${$n(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}const n=(0,At.A)(this.recordingProdStack),i=new G({idx:t,terminalType:e,label:null==r?void 0:r.LABEL});return n.definition.push(i),Tn}},class{initPerformanceTracer(e){if((0,o.A)(e,"traceInitPerf")){const t=e.traceInitPerf,r="number"==typeof t;this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Ln.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);const{time:n,value:i}=wt(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}return t()}}].forEach(e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach(r=>{if("constructor"===r)return;const n=Object.getOwnPropertyDescriptor(t,r);n&&(n.get||n.set)?Object.defineProperty(Nn.prototype,r,n):Nn.prototype[r]=e.prototype[r]})});class Dn extends Bn{constructor(e,t=Ln){const r=(0,l.A)(t);r.outputCst=!1,super(e,r)}}},9683:(e,t,r)=>{"use strict";r.d(t,{DM:()=>p,OP:()=>g,SD:()=>s,Uo:()=>u,VN:()=>h,XG:()=>o,YE:()=>l,cQ:()=>c,jm:()=>d});var n=r(2479),i=r(1719),a=r(6373);function s(e){for(const[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((r,i)=>{(0,n.ng)(r)&&(r.$container=e,r.$containerProperty=t,r.$containerIndex=i)}):(0,n.ng)(r)&&(r.$container=e,r.$containerProperty=t))}function o(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function l(e){const t=c(e).$document;if(!t)throw new Error("AST node has no document.");return t}function c(e){for(;e.$container;)e=e.$container;return e}function h(e,t){if(!e)throw new Error("Node must be an AstNode.");const r=null==t?void 0:t.range;return new i.fq(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const i=t.keys[t.keyIndex];if(!i.startsWith("$")){const a=e[i];if((0,n.ng)(a)){if(t.keyIndex++,f(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;t.arrayIndex<a.length;){const e=a[t.arrayIndex++];if((0,n.ng)(e)&&f(e,r))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return i.Rf})}function u(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new i.Vj(e,e=>h(e,t))}function d(e,t){if(!e)throw new Error("Root node must be an AstNode.");return(null==t?void 0:t.range)&&!f(e,t.range)?new i.Vj(e,()=>[]):new i.Vj(e,e=>h(e,t),{includeRoot:!0})}function f(e,t){var r;if(!t)return!0;const n=null===(r=e.$cstNode)||void 0===r?void 0:r.range;return!!n&&(0,a.r4)(n,t)}function p(e){return new i.fq(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const i=e[r];if((0,n.A_)(i))return t.keyIndex++,{done:!1,value:{reference:i,container:e,property:r}};if(Array.isArray(i)){for(;t.arrayIndex<i.length;){const a=t.arrayIndex++,s=i[a];if((0,n.A_)(s))return{done:!1,value:{reference:s,container:e,property:r,index:a}}}t.arrayIndex=0}}t.keyIndex++}return i.Rf})}function g(e,t){const r=e.getTypeMetaData(t.$type),n=t;for(const i of r.properties)void 0!==i.defaultValue&&void 0===n[i.name]&&(n[i.name]=m(i.defaultValue))}function m(e){return Array.isArray(e)?[...e.map(m)]:e}},9703:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8496),i=r(2049),a=r(3098);const s=function(e){return"string"==typeof e||!(0,i.A)(e)&&(0,a.A)(e)&&"[object String]"==(0,n.A)(e)}},9759:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},9779:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n=r(8744),i=r(1917);const a=(0,n.A)(i.A,"DataView");var s=r(8335);const o=(0,n.A)(i.A,"Promise");var l=r(9857);const c=(0,n.A)(i.A,"WeakMap");var h=r(8496),u=r(1121),d="[object Map]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",m="[object DataView]",y=(0,u.A)(a),x=(0,u.A)(s.A),b=(0,u.A)(o),v=(0,u.A)(l.A),k=(0,u.A)(c),A=h.A;(a&&A(new a(new ArrayBuffer(1)))!=m||s.A&&A(new s.A)!=d||o&&A(o.resolve())!=f||l.A&&A(new l.A)!=p||c&&A(new c)!=g)&&(A=function(e){var t=(0,h.A)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,u.A)(r):"";if(n)switch(n){case y:return m;case x:return d;case b:return f;case v:return p;case k:return g}return t});const w=A},9841:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4574),i=r(7422);const a=function(e,t){return e&&(0,n.A)(e,t,i.A)}},9850:(e,t,r)=>{"use strict";t.Qi=t.XO=void 0;const n=r(9590),i=r(966),a=r(2676);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:a.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a.Event.None}),e.is=function(t){const r=t;return r&&(r===e.None||r===e.Cancelled||i.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(s||(t.XO=s={}));const o=Object.freeze(function(e,t){const r=(0,n.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}});class l{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new a.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.Qi=class{get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof l&&this._token.dispose():this._token=s.None}}},9857:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8744),i=r(1917);const a=(0,n.A)(i.A,"Set")},9893:(e,t,r)=>{"use strict";function n(e,t,r){if(e&&e.length){const[n,i]=t,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const t of e){const[e,r]=t;t[0]=(e-n)*s-(r-i)*o+n,t[1]=(e-n)*o+(r-i)*s+i}}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t,r,a=1){const s=r,o=Math.max(t,.1),l=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,c=[0,0];if(s)for(const i of l)n(i,c,s);const h=function(e,t,r){const n=[];for(const h of e){const e=[...h];i(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&n.push(e)}const a=[];t=Math.max(t,.1);const s=[];for(const i of n)for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1];if(t[1]!==r[1]){const e=Math.min(t[1],r[1]);s.push({ymin:e,ymax:Math.max(t[1],r[1]),x:e===t[1]?t[0]:r[0],islope:(r[0]-t[0])/(r[1]-t[1])})}}if(s.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!s.length)return a;let o=[],l=s[0].ymin,c=0;for(;o.length||s.length;){if(s.length){let e=-1;for(let t=0;t<s.length&&!(s[t].ymin>l);t++)e=t;s.splice(0,e+1).forEach(e=>{o.push({s:l,edge:e})})}if(o=o.filter(e=>!(e.edge.ymax<=l)),o.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==r||c%t==0)&&o.length>1)for(let e=0;e<o.length;e+=2){const t=e+1;if(t>=o.length)break;const r=o[e].edge,n=o[t].edge;a.push([[Math.round(r.x),l],[Math.round(n.x),l]])}l+=r,o.forEach(e=>{e.edge.x=e.edge.x+r*e.edge.islope}),c++}return a}(l,o,a);if(s){for(const e of l)n(e,c,-s);!function(e,t,r){const i=[];e.forEach(e=>i.push(...e)),n(i,t,r)}(h,c,-s)}return h}function s(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&((null===(r=t.randomizer)||void 0===r?void 0:r.next())||Math.random())>.7&&(s=i),a(e,i,n,s||1)}r.d(t,{A:()=>ie});class o{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const r=s(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){const r=[];for(const n of e)r.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],t));return r}}function l(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class c extends o{fillPolygons(e,t){let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);const n=s(e,Object.assign({},t,{hachureGap:r})),i=Math.PI/180*t.hachureAngle,a=[],o=.5*r*Math.cos(i),c=.5*r*Math.sin(i);for(const[s,h]of n)l([s,h])&&a.push([[s[0]-o,s[1]+c],[...h]],[[s[0]+o,s[1]-c],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}}class h extends o{fillPolygons(e,t){const r=this._fillPolygons(e,t),n=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,n);return r.ops=r.ops.concat(i.ops),r}}class u{constructor(e){this.helper=e}fillPolygons(e,t){const r=s(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){const r=[];let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const a=n/4;for(const s of e){const e=l(s),o=e/n,c=Math.ceil(o)-1,h=e-c*n,u=(s[0][0]+s[1][0])/2-n/4,d=Math.min(s[0][1],s[1][1]);for(let s=0;s<c;s++){const e=d+h+s*n,o=u-a+2*Math.random()*a,l=e-a+2*Math.random()*a,c=this.helper.ellipse(o,l,i,i,t);r.push(...c.ops)}}return{type:"fillSketch",ops:r}}}class d{constructor(e){this.helper=e}fillPolygons(e,t){const r=s(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){const r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,n=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach(e=>{const a=l(e),s=Math.floor(a/(r+n)),o=(a+n-s*(r+n))/2;let c=e[0],h=e[1];c[0]>h[0]&&(c=e[1],h=e[0]);const u=Math.atan((h[1]-c[1])/(h[0]-c[0]));for(let l=0;l<s;l++){const e=l*(r+n),a=e+r,s=[c[0]+e*Math.cos(u)+o*Math.cos(u),c[1]+e*Math.sin(u)+o*Math.sin(u)],h=[c[0]+a*Math.cos(u)+o*Math.cos(u),c[1]+a*Math.sin(u)+o*Math.sin(u)];i.push(...this.helper.doubleLineOps(s[0],s[1],h[0],h[1],t))}}),i}}class f{constructor(e){this.helper=e}fillPolygons(e,t){const r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,n=t.zigzagOffset<0?r:t.zigzagOffset,i=s(e,t=Object.assign({},t,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,t)}}zigzagLines(e,t,r){const n=[];return e.forEach(e=>{const i=l(e),a=Math.round(i/(2*t));let s=e[0],o=e[1];s[0]>o[0]&&(s=e[1],o=e[0]);const c=Math.atan((o[1]-s[1])/(o[0]-s[0]));for(let l=0;l<a;l++){const e=2*l*t,i=2*(l+1)*t,a=Math.sqrt(2*Math.pow(t,2)),o=[s[0]+e*Math.cos(c),s[1]+e*Math.sin(c)],h=[s[0]+i*Math.cos(c),s[1]+i*Math.sin(c)],u=[o[0]+a*Math.cos(c+Math.PI/4),o[1]+a*Math.sin(c+Math.PI/4)];n.push(...this.helper.doubleLineOps(o[0],o[1],u[0],u[1],r),...this.helper.doubleLineOps(u[0],u[1],h[0],h[1],r))}}),n}}const p={};class g{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const m={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y(e,t){return e.type===t}function x(e){const t=[],r=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let n="BOD",i=0,a=r[i];for(;!y(a,2);){let s=0;const o=[];if("BOD"===n){if("M"!==a.text&&"m"!==a.text)return x("M0,0"+e);i++,s=m[a.text],n=a.text}else y(a,1)?s=m[n]:(i++,s=m[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let e=i;e<i+s;e++){const t=r[e];if(!y(t,1))throw new Error("Param not a number: "+n+","+t.text);o[o.length]=+t.text}if("number"!=typeof m[n])throw new Error("Bad segment: "+n);{const e={key:n,data:o};t.push(e),i+=s,a=r[i],"M"===n&&(n="L"),"m"===n&&(n="l")}}return t}function b(e){let t=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of e)switch(s){case"M":a.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const e=o.map((e,n)=>n%2?e+r:e+t);a.push({key:"C",data:e}),t=e[4],r=e[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const e=o.map((e,n)=>n%2?e+r:e+t);a.push({key:"Q",data:e}),t=e[2],r=e[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const e=o.map((e,n)=>n%2?e+r:e+t);a.push({key:"S",data:e}),t=e[2],r=e[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function v(e){const t=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:c,data:h}of e){switch(c){case"M":t.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,i]});break;case"V":i=h[0],t.push({key:"L",data:[n,i]});break;case"S":{let e=0,a=0;"C"===r||"S"===r?(e=n+(n-o),a=i+(i-l)):(e=n,a=i),t.push({key:"C",data:[e,a,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[e,a]=h;let s=0,c=0;"Q"===r||"T"===r?(s=n+(n-o),c=i+(i-l)):(s=n,c=i);const u=n+2*(s-n)/3,d=i+2*(c-i)/3,f=e+2*(s-e)/3,p=a+2*(c-a)/3;t.push({key:"C",data:[u,d,f,p,e,a]}),o=s,l=c,n=e,i=a;break}case"Q":{const[e,r,a,s]=h,c=n+2*(e-n)/3,u=i+2*(r-i)/3,d=a+2*(e-a)/3,f=s+2*(r-s)/3;t.push({key:"C",data:[c,u,d,f,a,s]}),o=e,l=r,n=a,i=s;break}case"A":{const e=Math.abs(h[0]),r=Math.abs(h[1]),a=h[2],s=h[3],o=h[4],l=h[5],c=h[6];0===e||0===r?(t.push({key:"C",data:[n,i,l,c,l,c]}),n=l,i=c):n===l&&i===c||(A(n,i,l,c,e,r,a,s,o).forEach(function(e){t.push({key:"C",data:e})}),n=l,i=c);break}case"Z":t.push({key:"Z",data:[]}),n=a,i=s}r=c}return t}function k(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function A(e,t,r,n,i,a,s,o,l,c){const h=(u=s,Math.PI*u/180);var u;let d=[],f=0,p=0,g=0,m=0;if(c)[f,p,g,m]=c;else{[e,t]=k(e,t,-h),[r,n]=k(r,n,-h);const s=(e-r)/2,c=(t-n)/2;let u=s*s/(i*i)+c*c/(a*a);u>1&&(u=Math.sqrt(u),i*=u,a*=u);const d=i*i,y=a*a,x=d*y-d*c*c-y*s*s,b=d*c*c+y*s*s,v=(o===l?-1:1)*Math.sqrt(Math.abs(x/b));g=v*i*c/a+(e+r)/2,m=v*-a*s/i+(t+n)/2,f=Math.asin(parseFloat(((t-m)/a).toFixed(9))),p=Math.asin(parseFloat(((n-m)/a).toFixed(9))),e<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let y=p-f;if(Math.abs(y)>120*Math.PI/180){const e=p,t=r,o=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=A(r=g+i*Math.cos(p),n=m+a*Math.sin(p),t,o,i,a,s,0,l,[p,e,g,m])}y=p-f;const x=Math.cos(f),b=Math.sin(f),v=Math.cos(p),w=Math.sin(p),T=Math.tan(y/4),C=4/3*i*T,S=4/3*a*T,_=[e,t],$=[e+C*b,t-S*x],R=[r+C*w,n-S*v],E=[r,n];if($[0]=2*_[0]-$[0],$[1]=2*_[1]-$[1],c)return[$,R,E].concat(d);{d=[$,R,E].concat(d);const e=[];for(let t=0;t<d.length;t+=3){const r=k(d[t][0],d[t][1],h),n=k(d[t+1][0],d[t+1][1],h),i=k(d[t+2][0],d[t+2][1],h);e.push([r[0],r[1],n[0],n[1],i[0],i[1]])}return e}}const w={randOffset:function(e,t){return B(e,t)},randOffsetWithRange:function(e,t,r){return O(e,t,r)},ellipse:function(e,t,r,n,i){return $(e,t,i,_(r,n,i)).opset},doubleLineOps:function(e,t,r,n,i){return D(e,t,r,n,i,!0)}};function T(e,t,r,n,i){return{type:"path",ops:D(e,t,r,n,i)}}function C(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let t=0;t<n-1;t++)i.push(...D(e[t][0],e[t][1],e[t+1][0],e[t+1][1],r));return t&&i.push(...D(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return 2===n?T(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function S(e,t){if(e.length){const r="number"==typeof e[0][0]?[e]:e,n=P(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:P(r[0],1.5*(1+.22*t.roughness),I(t));for(let e=1;e<r.length;e++){const a=r[e];if(a.length){const e=P(a,1*(1+.2*t.roughness),t),r=t.disableMultiStroke?[]:P(a,1.5*(1+.22*t.roughness),I(t));for(const t of e)"move"!==t.op&&n.push(t);for(const t of r)"move"!==t.op&&i.push(t)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function _(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return s+=B(s*l,r),o+=B(o*l,r),{increment:a,rx:s,ry:o}}function $(e,t,r,n){const[i,a]=j(n.increment,e,t,n.rx,n.ry,1,n.increment*O(.1,O(.4,1,r),r),r);let s=K(i,null,r);if(!r.disableMultiStroke&&0!==r.roughness){const[i]=j(n.increment,e,t,n.rx,n.ry,1.5,0,r),a=K(i,null,r);s=s.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function R(e,t,r,n,i,a,s,o,l){const c=e,h=t;let u=Math.abs(r/2),d=Math.abs(n/2);u+=B(.01*u,l),d+=B(.01*d,l);let f=i,p=a;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,m=Math.min(g/2,(p-f)/2),y=z(m,c,h,u,d,f,p,1,l);if(!l.disableMultiStroke){const e=z(m,c,h,u,d,f,p,1.5,l);y.push(...e)}return s&&(o?y.push(...D(c,h,c+u*Math.cos(f),h+d*Math.sin(f),l),...D(c,h,c+u*Math.cos(p),h+d*Math.sin(p),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(f),h+d*Math.sin(f)]})),{type:"path",ops:y}}function E(e,t){const r=v(b(x(e))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...D(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{const[e,r,i,s,l,c]=o;n.push(...U(e,r,i,s,l,c,a,t)),a=[l,c];break}case"Z":n.push(...D(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:n}}function L(e,t){const r=[];for(const n of e)if(n.length){const e=t.maxRandomnessOffset||0,i=n.length;if(i>2){r.push({op:"move",data:[n[0][0]+B(e,t),n[0][1]+B(e,t)]});for(let a=1;a<i;a++)r.push({op:"lineTo",data:[n[a][0]+B(e,t),n[a][1]+B(e,t)]})}}return{type:"fillPath",ops:r}}function M(e,t){return function(e,t){let r=e.fillStyle||"hachure";if(!p[r])switch(r){case"zigzag":p[r]||(p[r]=new c(t));break;case"cross-hatch":p[r]||(p[r]=new h(t));break;case"dots":p[r]||(p[r]=new u(t));break;case"dashed":p[r]||(p[r]=new d(t));break;case"zigzag-line":p[r]||(p[r]=new f(t));break;default:r="hachure",p[r]||(p[r]=new o(t))}return p[r]}(t,w).fillPolygons(e,t)}function I(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function N(e){return e.randomizer||(e.randomizer=new g(e.seed||0)),e.randomizer.next()}function O(e,t,r,n=1){return r.roughness*n*(N(r)*(t-e)+e)}function B(e,t,r=1){return O(-e,e,t,r)}function D(e,t,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=F(e,t,r,n,i,!0,!1);if(s)return o;const l=F(e,t,r,n,i,!0,!0);return o.concat(l)}function F(e,t,r,n,i,a,s){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const u=h/2,d=.2+.2*N(i);let f=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;f=B(f,i,c),p=B(p,i,c);const g=[],m=()=>B(u,i,c),y=()=>B(h,i,c),x=i.preserveVertices;return a&&(s?g.push({op:"move",data:[e+(x?0:m()),t+(x?0:m())]}):g.push({op:"move",data:[e+(x?0:B(h,i,c)),t+(x?0:B(h,i,c))]})),s?g.push({op:"bcurveTo",data:[f+e+(r-e)*d+m(),p+t+(n-t)*d+m(),f+e+2*(r-e)*d+m(),p+t+2*(n-t)*d+m(),r+(x?0:m()),n+(x?0:m())]}):g.push({op:"bcurveTo",data:[f+e+(r-e)*d+y(),p+t+(n-t)*d+y(),f+e+2*(r-e)*d+y(),p+t+2*(n-t)*d+y(),r+(x?0:y()),n+(x?0:y())]}),g}function P(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+B(t,r),e[0][1]+B(t,r)]),n.push([e[0][0]+B(t,r),e[0][1]+B(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+B(t,r),e[i][1]+B(t,r)]),i===e.length-1&&n.push([e[i][0]+B(t,r),e[i][1]+B(t,r)]);return K(n,null,r)}function K(e,t,r){const n=e.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<n;t++){const r=e[t];a[0]=[r[0],r[1]],a[1]=[r[0]+(s*e[t+1][0]-s*e[t-1][0])/6,r[1]+(s*e[t+1][1]-s*e[t-1][1])/6],a[2]=[e[t+1][0]+(s*e[t][0]-s*e[t+2][0])/6,e[t+1][1]+(s*e[t][1]-s*e[t+2][1])/6],a[3]=[e[t+1][0],e[t+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){const e=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+B(e,r),t[1]+B(e,r)]})}}else 3===n?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===n&&i.push(...F(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function j(e,t,r,n,i,a,s,o){const l=[],c=[];if(0===o.roughness){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let a=0;a<=2*Math.PI;a+=e){const e=[t+n*Math.cos(a),r+i*Math.sin(a)];l.push(e),c.push(e)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const h=B(.5,o)-Math.PI/2;c.push([B(a,o)+t+.9*n*Math.cos(h-e),B(a,o)+r+.9*i*Math.sin(h-e)]);const u=2*Math.PI+h-.01;for(let s=h;s<u;s+=e){const e=[B(a,o)+t+n*Math.cos(s),B(a,o)+r+i*Math.sin(s)];l.push(e),c.push(e)}c.push([B(a,o)+t+n*Math.cos(h+2*Math.PI+.5*s),B(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),c.push([B(a,o)+t+.98*n*Math.cos(h+s),B(a,o)+r+.98*i*Math.sin(h+s)]),c.push([B(a,o)+t+.9*n*Math.cos(h+.5*s),B(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[c,l]}function z(e,t,r,n,i,a,s,o,l){const c=a+B(.1,l),h=[];h.push([B(o,l)+t+.9*n*Math.cos(c-e),B(o,l)+r+.9*i*Math.sin(c-e)]);for(let u=c;u<=s;u+=e)h.push([B(o,l)+t+n*Math.cos(u),B(o,l)+r+i*Math.sin(u)]);return h.push([t+n*Math.cos(s),r+i*Math.sin(s)]),h.push([t+n*Math.cos(s),r+i*Math.sin(s)]),K(h,null,l)}function U(e,t,r,n,i,a,s,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const u=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<u;f++)0===f?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(d?0:B(c[0],o)),s[1]+(d?0:B(c[0],o))]}),h=d?[i,a]:[i+B(c[f],o),a+B(c[f],o)],l.push({op:"bcurveTo",data:[e+B(c[f],o),t+B(c[f],o),r+B(c[f],o),n+B(c[f],o),h[0],h[1]]});return l}function W(e){return[...e]}function G(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(3===r)n.push(W(e[0]),W(e[1]),W(e[2]),W(e[2]));else{const r=[];r.push(e[0],e[0]);for(let t=1;t<e.length;t++)r.push(e[t]),t===e.length-1&&r.push(e[t]);const i=[],a=1-t;n.push(W(r[0]));for(let e=1;e+2<r.length;e++){const t=r[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(a*r[e+1][0]-a*r[e-1][0])/6,t[1]+(a*r[e+1][1]-a*r[e-1][1])/6],i[2]=[r[e+1][0]+(a*r[e][0]-a*r[e+2][0])/6,r[e+1][1]+(a*r[e][1]-a*r[e+2][1])/6],i[3]=[r[e+1][0],r[e+1][1]],n.push(i[1],i[2],i[3])}}return n}function q(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function H(e,t,r){const n=q(t,r);if(0===n)return q(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),q(e,V(t,r,i))}function V(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Y(e,t,r,n){const i=n||[];if(function(e,t){const r=e[t+0],n=e[t+1],i=e[t+2],a=e[t+3];let s=3*n[0]-2*r[0]-a[0];s*=s;let o=3*n[1]-2*r[1]-a[1];o*=o;let l=3*i[0]-2*a[0]-r[0];l*=l;let c=3*i[1]-2*a[1]-r[1];return c*=c,s<l&&(s=l),o<c&&(o=c),s+o}(e,t)<r){const r=e[t+0];i.length?(a=i[i.length-1],s=r,Math.sqrt(q(a,s))>1&&i.push(r)):i.push(r),i.push(e[t+3])}else{const n=.5,a=e[t+0],s=e[t+1],o=e[t+2],l=e[t+3],c=V(a,s,n),h=V(s,o,n),u=V(o,l,n),d=V(c,h,n),f=V(h,u,n),p=V(d,f,n);Y([a,c,d,p],0,r,i),Y([p,f,u,l],0,r,i)}var a,s;return i}function X(e,t){return Z(e,0,e.length,t)}function Z(e,t,r,n,i){const a=i||[],s=e[t],o=e[r-1];let l=0,c=1;for(let h=t+1;h<r-1;++h){const t=H(e[h],s,o);t>l&&(l=t,c=h)}return Math.sqrt(l)>n?(Z(e,t,c+1,n,a),Z(e,c,r,n,a)):(a.length||a.push(s),a.push(o)),a}function Q(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let a=0;a<i;a++)Y(e,3*a,t,n);return r&&r>0?Z(n,0,n.length,r):n}const J="none";class ee{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,r){return{shape:e,sets:t||[],options:r||this.defaultOptions}}line(e,t,r,n,i){const a=this._o(i);return this._d("line",[T(e,t,r,n,a)],a)}rectangle(e,t,r,n,i){const a=this._o(i),s=[],o=function(e,t,r,n,i){return function(e,t){return C(e,!0,t)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}(e,t,r,n,a);if(a.fill){const i=[[e,t],[e+r,t],[e+r,t+n],[e,t+n]];"solid"===a.fillStyle?s.push(L([i],a)):s.push(M([i],a))}return a.stroke!==J&&s.push(o),this._d("rectangle",s,a)}ellipse(e,t,r,n,i){const a=this._o(i),s=[],o=_(r,n,a),l=$(e,t,a,o);if(a.fill)if("solid"===a.fillStyle){const r=$(e,t,a,o).opset;r.type="fillPath",s.push(r)}else s.push(M([l.estimatedPoints],a));return a.stroke!==J&&s.push(l.opset),this._d("ellipse",s,a)}circle(e,t,r,n){const i=this.ellipse(e,t,r,r,n);return i.shape="circle",i}linearPath(e,t){const r=this._o(t);return this._d("linearPath",[C(e,!1,r)],r)}arc(e,t,r,n,i,a,s=!1,o){const l=this._o(o),c=[],h=R(e,t,r,n,i,a,s,!0,l);if(s&&l.fill)if("solid"===l.fillStyle){const s=Object.assign({},l);s.disableMultiStroke=!0;const o=R(e,t,r,n,i,a,!0,!1,s);o.type="fillPath",c.push(o)}else c.push(function(e,t,r,n,i,a,s){const o=e,l=t;let c=Math.abs(r/2),h=Math.abs(n/2);c+=B(.01*c,s),h+=B(.01*h,s);let u=i,d=a;for(;u<0;)u+=2*Math.PI,d+=2*Math.PI;d-u>2*Math.PI&&(u=0,d=2*Math.PI);const f=(d-u)/s.curveStepCount,p=[];for(let g=u;g<=d;g+=f)p.push([o+c*Math.cos(g),l+h*Math.sin(g)]);return p.push([o+c*Math.cos(d),l+h*Math.sin(d)]),p.push([o,l]),M([p],s)}(e,t,r,n,i,a,l));return l.stroke!==J&&c.push(h),this._d("arc",c,l)}curve(e,t){const r=this._o(t),n=[],i=S(e,r);if(r.fill&&r.fill!==J)if("solid"===r.fillStyle){const t=S(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{const t=[],i=e;if(i.length){const e="number"==typeof i[0][0]?[i]:i;for(const n of e)n.length<3?t.push(...n):3===n.length?t.push(...Q(G([n[0],n[0],n[1],n[2]]),10,(1+r.roughness)/2)):t.push(...Q(G(n),10,(1+r.roughness)/2))}t.length&&n.push(M([t],r))}return r.stroke!==J&&n.push(i),this._d("curve",n,r)}polygon(e,t){const r=this._o(t),n=[],i=C(e,!0,r);return r.fill&&("solid"===r.fillStyle?n.push(L([e],r)):n.push(M([e],r))),r.stroke!==J&&n.push(i),this._d("polygon",n,r)}path(e,t){const r=this._o(t),n=[];if(!e)return this._d("path",n,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=r.fill&&"transparent"!==r.fill&&r.fill!==J,a=r.stroke!==J,s=!!(r.simplification&&r.simplification<1),o=function(e,t,r){const n=v(b(x(e))),i=[];let a=[],s=[0,0],o=[];const l=()=>{o.length>=4&&a.push(...Q(o,1)),o=[]},c=()=>{l(),a.length&&(i.push(a),a=[])};for(const{key:u,data:d}of n)switch(u){case"M":c(),s=[d[0],d[1]],a.push(s);break;case"L":l(),a.push([d[0],d[1]]);break;case"C":if(!o.length){const e=a.length?a[a.length-1]:s;o.push([e[0],e[1]])}o.push([d[0],d[1]]),o.push([d[2],d[3]]),o.push([d[4],d[5]]);break;case"Z":l(),a.push([s[0],s[1]])}if(c(),!r)return i;const h=[];for(const u of i){const e=X(u,r);e.length&&h.push(e)}return h}(e,0,s?4-4*(r.simplification||1):(1+r.roughness)/2),l=E(e,r);if(i)if("solid"===r.fillStyle)if(1===o.length){const t=E(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else n.push(L(o,r));else n.push(M(o,r));return a&&(s?o.forEach(e=>{n.push(C(e,!1,r))}):n.push(l)),this._d("path",n,r)}opsToPath(e,t){let r="";for(const n of e.ops){const e="number"==typeof t&&t>=0?n.data.map(e=>+e.toFixed(t)):n.data;switch(n.op){case"move":r+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":r+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":r+=`L${e[0]} ${e[1]} `}}return r.trim()}toPaths(e){const t=e.sets||[],r=e.options||this.defaultOptions,n=[];for(const i of t){let e=null;switch(i.type){case"path":e={d:this.opsToPath(i),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:J};break;case"fillPath":e={d:this.opsToPath(i),stroke:J,strokeWidth:0,fill:r.fill||J};break;case"fillSketch":e=this.fillSketch(i,r)}e&&n.push(e)}return n}fillSketch(e,t){let r=t.fillWeight;return r<0&&(r=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||J,strokeWidth:r,fill:J}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}class te{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new ee(t)}draw(e){const t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(const a of t)switch(a.type){case"path":n.save(),n.strokeStyle="none"===r.stroke?"transparent":r.stroke,n.lineWidth=r.strokeWidth,r.strokeLineDash&&n.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(n.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(n,a,i),n.restore();break;case"fillPath":{n.save(),n.fillStyle=r.fill||"";const t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(n,a,i,t),n.restore();break}case"fillSketch":this.fillSketch(n,a,r)}}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=n,this._drawToContext(e,t,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,r,n="nonzero"){e.beginPath();for(const i of t.ops){const t="number"==typeof r&&r>=0?i.data.map(e=>+e.toFixed(r)):i.data;switch(i.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,r,n,i){const a=this.gen.line(e,t,r,n,i);return this.draw(a),a}rectangle(e,t,r,n,i){const a=this.gen.rectangle(e,t,r,n,i);return this.draw(a),a}ellipse(e,t,r,n,i){const a=this.gen.ellipse(e,t,r,n,i);return this.draw(a),a}circle(e,t,r,n){const i=this.gen.circle(e,t,r,n);return this.draw(i),i}linearPath(e,t){const r=this.gen.linearPath(e,t);return this.draw(r),r}polygon(e,t){const r=this.gen.polygon(e,t);return this.draw(r),r}arc(e,t,r,n,i,a,s=!1,o){const l=this.gen.arc(e,t,r,n,i,a,s,o);return this.draw(l),l}curve(e,t){const r=this.gen.curve(e,t);return this.draw(r),r}path(e,t){const r=this.gen.path(e,t);return this.draw(r),r}}const re="http://www.w3.org/2000/svg";class ne{constructor(e,t){this.svg=e,this.gen=new ee(t)}draw(e){const t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS(re,"g"),a=e.options.fixedDecimalPlaceDigits;for(const s of t){let t=null;switch(s.type){case"path":t=n.createElementNS(re,"path"),t.setAttribute("d",this.opsToPath(s,a)),t.setAttribute("stroke",r.stroke),t.setAttribute("stroke-width",r.strokeWidth+""),t.setAttribute("fill","none"),r.strokeLineDash&&t.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":t=n.createElementNS(re,"path"),t.setAttribute("d",this.opsToPath(s,a)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",r.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(n,s,r)}t&&i.appendChild(t)}return i}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2);const i=e.createElementNS(re,"path");return i.setAttribute("d",this.opsToPath(t,r.fixedDecimalPlaceDigits)),i.setAttribute("stroke",r.fill||""),i.setAttribute("stroke-width",n+""),i.setAttribute("fill","none"),r.fillLineDash&&i.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,r,n,i){const a=this.gen.line(e,t,r,n,i);return this.draw(a)}rectangle(e,t,r,n,i){const a=this.gen.rectangle(e,t,r,n,i);return this.draw(a)}ellipse(e,t,r,n,i){const a=this.gen.ellipse(e,t,r,n,i);return this.draw(a)}circle(e,t,r,n){const i=this.gen.circle(e,t,r,n);return this.draw(i)}linearPath(e,t){const r=this.gen.linearPath(e,t);return this.draw(r)}polygon(e,t){const r=this.gen.polygon(e,t);return this.draw(r)}arc(e,t,r,n,i,a,s=!1,o){const l=this.gen.arc(e,t,r,n,i,a,s,o);return this.draw(l)}curve(e,t){const r=this.gen.curve(e,t);return this.draw(r)}path(e,t){const r=this.gen.path(e,t);return this.draw(r)}}var ie={canvas:(e,t)=>new te(e,t),svg:(e,t)=>new ne(e,t),generator:e=>new ee(e),newSeed:()=>ee.newSeed()}},9902:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2062),i=r(5530),a=r(7809),s=r(4099),o=r(9857),l=r(2302),c=r(9959);const h=o.A&&1/(0,c.A)(new o.A([,-0]))[1]==1/0?function(e){return new o.A(e)}:l.A;const u=function(e,t,r){var o=-1,l=i.A,u=e.length,d=!0,f=[],p=f;if(r)d=!1,l=a.A;else if(u>=200){var g=t?null:h(e);if(g)return(0,c.A)(g);d=!1,l=s.A,p=new n.A}else p=t?[]:f;e:for(;++o<u;){var m=e[o],y=t?t(m):m;if(m=r||0!==m?m:0,d&&y==y){for(var x=p.length;x--;)if(p[x]===y)continue e;t&&p.push(y),f.push(m)}else l(p,y,r)||(p!==f&&p.push(y),f.push(m))}return f}},9912:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(1917);const i=function(){return!1};var a="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=a&&"object"==typeof module&&module&&!module.nodeType&&module,o=s&&s.exports===a?n.A.Buffer:void 0;const l=(o?o.isBuffer:void 0)||i},9922:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(9008);const i=function(e){return"function"==typeof e?e:n.A}},9959:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}}]);